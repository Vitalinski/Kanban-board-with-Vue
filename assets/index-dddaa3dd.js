(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Ec(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const Xt={},ss=[],Mn=()=>{},EI=()=>!1,_I=/^on[^a-z]/,ha=e=>_I.test(e),If=e=>e.startsWith("onUpdate:"),ee=Object.assign,wf=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},TI=Object.prototype.hasOwnProperty,Kt=(e,t)=>TI.call(e,t),st=Array.isArray,os=e=>Ds(e)==="[object Map]",Vi=e=>Ds(e)==="[object Set]",vp=e=>Ds(e)==="[object Date]",II=e=>Ds(e)==="[object RegExp]",Et=e=>typeof e=="function",he=e=>typeof e=="string",Vo=e=>typeof e=="symbol",Jt=e=>e!==null&&typeof e=="object",bf=e=>Jt(e)&&Et(e.then)&&Et(e.catch),Jm=Object.prototype.toString,Ds=e=>Jm.call(e),wI=e=>Ds(e).slice(8,-1),qm=e=>Ds(e)==="[object Object]",Sf=e=>he(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,go=Ec(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),_c=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},bI=/-(\w)/g,ln=_c(e=>e.replace(bI,(t,n)=>n?n.toUpperCase():"")),SI=/\B([A-Z])/g,Tn=_c(e=>e.replace(SI,"-$1").toLowerCase()),fa=_c(e=>e.charAt(0).toUpperCase()+e.slice(1)),mo=_c(e=>e?`on${fa(e)}`:""),gs=(e,t)=>!Object.is(e,t),as=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},kl=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Vl=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Ll=e=>{const t=he(e)?Number(e):NaN;return isNaN(t)?e:t};let yp;const ph=()=>yp||(yp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),AI="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",RI=Ec(AI);function Ns(e){if(st(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=he(r)?OI(r):Ns(r);if(i)for(const s in i)t[s]=i[s]}return t}else{if(he(e))return e;if(Jt(e))return e}}const PI=/;(?![^(]*\))/g,CI=/:([^]+)/,xI=/\/\*[^]*?\*\//g;function OI(e){const t={};return e.replace(xI,"").split(PI).forEach(n=>{if(n){const r=n.split(CI);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function zr(e){let t="";if(he(e))t=e;else if(st(e))for(let n=0;n<e.length;n++){const r=zr(e[n]);r&&(t+=r+" ")}else if(Jt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function DI(e){if(!e)return null;let{class:t,style:n}=e;return t&&!he(t)&&(e.class=zr(t)),n&&(e.style=Ns(n)),e}const NI="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",MI=Ec(NI);function Zm(e){return!!e||e===""}function kI(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Qr(e[r],t[r]);return n}function Qr(e,t){if(e===t)return!0;let n=vp(e),r=vp(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Vo(e),r=Vo(t),n||r)return e===t;if(n=st(e),r=st(t),n||r)return n&&r?kI(e,t):!1;if(n=Jt(e),r=Jt(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,s=Object.keys(t).length;if(i!==s)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!Qr(e[o],t[o]))return!1}}return String(e)===String(t)}function Tc(e,t){return e.findIndex(n=>Qr(n,t))}const gn=e=>he(e)?e:e==null?"":st(e)||Jt(e)&&(e.toString===Jm||!Et(e.toString))?JSON.stringify(e,tv,2):String(e),tv=(e,t)=>t&&t.__v_isRef?tv(e,t.value):os(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:Vi(t)?{[`Set(${t.size})`]:[...t.values()]}:Jt(t)&&!st(t)&&!qm(t)?String(t):t;let fn;class Af{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=fn,!t&&fn&&(this.index=(fn.scopes||(fn.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=fn;try{return fn=this,t()}finally{fn=n}}}on(){fn=this}off(){fn=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Rf(e){return new Af(e)}function ev(e,t=fn){t&&t.active&&t.effects.push(e)}function Pf(){return fn}function nv(e){fn&&fn.cleanups.push(e)}const Cf=e=>{const t=new Set(e);return t.w=0,t.n=0,t},rv=e=>(e.w&Yr)>0,iv=e=>(e.n&Yr)>0,VI=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Yr},LI=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];rv(i)&&!iv(i)?i.delete(e):t[n++]=i,i.w&=~Yr,i.n&=~Yr}t.length=n}},Fl=new WeakMap;let Zs=0,Yr=1;const gh=30;let xn;const Ei=Symbol(""),mh=Symbol("");class da{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,ev(this,r)}run(){if(!this.active)return this.fn();let t=xn,n=Ur;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=xn,xn=this,Ur=!0,Yr=1<<++Zs,Zs<=gh?VI(this):Ep(this),this.fn()}finally{Zs<=gh&&LI(this),Yr=1<<--Zs,xn=this.parent,Ur=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){xn===this?this.deferStop=!0:this.active&&(Ep(this),this.onStop&&this.onStop(),this.active=!1)}}function Ep(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}function FI(e,t){e.effect&&(e=e.effect.fn);const n=new da(e);t&&(ee(n,t),t.scope&&ev(n,t.scope)),(!t||!t.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function UI(e){e.effect.stop()}let Ur=!0;const sv=[];function Ms(){sv.push(Ur),Ur=!1}function ks(){const e=sv.pop();Ur=e===void 0?!0:e}function cn(e,t,n){if(Ur&&xn){let r=Fl.get(e);r||Fl.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=Cf()),ov(i)}}function ov(e,t){let n=!1;Zs<=gh?iv(e)||(e.n|=Yr,n=!rv(e)):n=!e.has(xn),n&&(e.add(xn),xn.deps.push(e))}function fr(e,t,n,r,i,s){const o=Fl.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&st(e)){const l=Number(r);o.forEach((c,u)=>{(u==="length"||u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),t){case"add":st(e)?Sf(n)&&a.push(o.get("length")):(a.push(o.get(Ei)),os(e)&&a.push(o.get(mh)));break;case"delete":st(e)||(a.push(o.get(Ei)),os(e)&&a.push(o.get(mh)));break;case"set":os(e)&&a.push(o.get(Ei));break}if(a.length===1)a[0]&&vh(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);vh(Cf(l))}}function vh(e,t){const n=st(e)?e:[...e];for(const r of n)r.computed&&_p(r);for(const r of n)r.computed||_p(r)}function _p(e,t){(e!==xn||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function jI(e,t){var n;return(n=Fl.get(e))==null?void 0:n.get(t)}const BI=Ec("__proto__,__v_isRef,__isVue"),av=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Vo)),$I=Ic(),HI=Ic(!1,!0),KI=Ic(!0),WI=Ic(!0,!0),Tp=GI();function GI(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=Vt(this);for(let s=0,o=this.length;s<o;s++)cn(r,"get",s+"");const i=r[t](...n);return i===-1||i===!1?r[t](...n.map(Vt)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Ms();const r=Vt(this)[t].apply(this,n);return ks(),r}}),e}function zI(e){const t=Vt(this);return cn(t,"has",e),t.hasOwnProperty(e)}function Ic(e=!1,t=!1){return function(r,i,s){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&s===(e?t?pv:dv:t?fv:hv).get(r))return r;const o=st(r);if(!e){if(o&&Kt(Tp,i))return Reflect.get(Tp,i,s);if(i==="hasOwnProperty")return zI}const a=Reflect.get(r,i,s);return(Vo(i)?av.has(i):BI(i))||(e||cn(r,"get",i),t)?a:de(a)?o&&Sf(i)?a:a.value:Jt(a)?e?Df(a):Vs(a):a}}const QI=lv(),YI=lv(!0);function lv(e=!1){return function(n,r,i,s){let o=n[r];if(Si(o)&&de(o)&&!de(i))return!1;if(!e&&(!Lo(i)&&!Si(i)&&(o=Vt(o),i=Vt(i)),!st(n)&&de(o)&&!de(i)))return o.value=i,!0;const a=st(n)&&Sf(r)?Number(r)<n.length:Kt(n,r),l=Reflect.set(n,r,i,s);return n===Vt(s)&&(a?gs(i,o)&&fr(n,"set",r,i):fr(n,"add",r,i)),l}}function XI(e,t){const n=Kt(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&fr(e,"delete",t,void 0),r}function JI(e,t){const n=Reflect.has(e,t);return(!Vo(t)||!av.has(t))&&cn(e,"has",t),n}function qI(e){return cn(e,"iterate",st(e)?"length":Ei),Reflect.ownKeys(e)}const cv={get:$I,set:QI,deleteProperty:XI,has:JI,ownKeys:qI},uv={get:KI,set(e,t){return!0},deleteProperty(e,t){return!0}},ZI=ee({},cv,{get:HI,set:YI}),tw=ee({},uv,{get:WI}),xf=e=>e,wc=e=>Reflect.getPrototypeOf(e);function za(e,t,n=!1,r=!1){e=e.__v_raw;const i=Vt(e),s=Vt(t);n||(t!==s&&cn(i,"get",t),cn(i,"get",s));const{has:o}=wc(i),a=r?xf:n?Mf:Fo;if(o.call(i,t))return a(e.get(t));if(o.call(i,s))return a(e.get(s));e!==i&&e.get(t)}function Qa(e,t=!1){const n=this.__v_raw,r=Vt(n),i=Vt(e);return t||(e!==i&&cn(r,"has",e),cn(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function Ya(e,t=!1){return e=e.__v_raw,!t&&cn(Vt(e),"iterate",Ei),Reflect.get(e,"size",e)}function Ip(e){e=Vt(e);const t=Vt(this);return wc(t).has.call(t,e)||(t.add(e),fr(t,"add",e,e)),this}function wp(e,t){t=Vt(t);const n=Vt(this),{has:r,get:i}=wc(n);let s=r.call(n,e);s||(e=Vt(e),s=r.call(n,e));const o=i.call(n,e);return n.set(e,t),s?gs(t,o)&&fr(n,"set",e,t):fr(n,"add",e,t),this}function bp(e){const t=Vt(this),{has:n,get:r}=wc(t);let i=n.call(t,e);i||(e=Vt(e),i=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return i&&fr(t,"delete",e,void 0),s}function Sp(){const e=Vt(this),t=e.size!==0,n=e.clear();return t&&fr(e,"clear",void 0,void 0),n}function Xa(e,t){return function(r,i){const s=this,o=s.__v_raw,a=Vt(o),l=t?xf:e?Mf:Fo;return!e&&cn(a,"iterate",Ei),o.forEach((c,u)=>r.call(i,l(c),l(u),s))}}function Ja(e,t,n){return function(...r){const i=this.__v_raw,s=Vt(i),o=os(s),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=i[e](...r),u=n?xf:t?Mf:Fo;return!t&&cn(s,"iterate",l?mh:Ei),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function Tr(e){return function(...t){return e==="delete"?!1:this}}function ew(){const e={get(s){return za(this,s)},get size(){return Ya(this)},has:Qa,add:Ip,set:wp,delete:bp,clear:Sp,forEach:Xa(!1,!1)},t={get(s){return za(this,s,!1,!0)},get size(){return Ya(this)},has:Qa,add:Ip,set:wp,delete:bp,clear:Sp,forEach:Xa(!1,!0)},n={get(s){return za(this,s,!0)},get size(){return Ya(this,!0)},has(s){return Qa.call(this,s,!0)},add:Tr("add"),set:Tr("set"),delete:Tr("delete"),clear:Tr("clear"),forEach:Xa(!0,!1)},r={get(s){return za(this,s,!0,!0)},get size(){return Ya(this,!0)},has(s){return Qa.call(this,s,!0)},add:Tr("add"),set:Tr("set"),delete:Tr("delete"),clear:Tr("clear"),forEach:Xa(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=Ja(s,!1,!1),n[s]=Ja(s,!0,!1),t[s]=Ja(s,!1,!0),r[s]=Ja(s,!0,!0)}),[e,n,t,r]}const[nw,rw,iw,sw]=ew();function bc(e,t){const n=t?e?sw:iw:e?rw:nw;return(r,i,s)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(Kt(n,i)&&i in r?n:r,i,s)}const ow={get:bc(!1,!1)},aw={get:bc(!1,!0)},lw={get:bc(!0,!1)},cw={get:bc(!0,!0)},hv=new WeakMap,fv=new WeakMap,dv=new WeakMap,pv=new WeakMap;function uw(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function hw(e){return e.__v_skip||!Object.isExtensible(e)?0:uw(wI(e))}function Vs(e){return Si(e)?e:Sc(e,!1,cv,ow,hv)}function Of(e){return Sc(e,!1,ZI,aw,fv)}function Df(e){return Sc(e,!0,uv,lw,dv)}function fw(e){return Sc(e,!0,tw,cw,pv)}function Sc(e,t,n,r,i){if(!Jt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=i.get(e);if(s)return s;const o=hw(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return i.set(e,a),a}function ar(e){return Si(e)?ar(e.__v_raw):!!(e&&e.__v_isReactive)}function Si(e){return!!(e&&e.__v_isReadonly)}function Lo(e){return!!(e&&e.__v_isShallow)}function Nf(e){return ar(e)||Si(e)}function Vt(e){const t=e&&e.__v_raw;return t?Vt(t):e}function pa(e){return kl(e,"__v_skip",!0),e}const Fo=e=>Jt(e)?Vs(e):e,Mf=e=>Jt(e)?Df(e):e;function kf(e){Ur&&xn&&(e=Vt(e),ov(e.dep||(e.dep=Cf())))}function Ac(e,t){e=Vt(e);const n=e.dep;n&&vh(n)}function de(e){return!!(e&&e.__v_isRef===!0)}function lr(e){return mv(e,!1)}function gv(e){return mv(e,!0)}function mv(e,t){return de(e)?e:new dw(e,t)}class dw{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Vt(t),this._value=n?t:Fo(t)}get value(){return kf(this),this._value}set value(t){const n=this.__v_isShallow||Lo(t)||Si(t);t=n?t:Vt(t),gs(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Fo(t),Ac(this))}}function pw(e){Ac(e)}function jr(e){return de(e)?e.value:e}function gw(e){return Et(e)?e():jr(e)}const mw={get:(e,t,n)=>jr(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return de(i)&&!de(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function Vf(e){return ar(e)?e:new Proxy(e,mw)}class vw{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=t(()=>kf(this),()=>Ac(this));this._get=n,this._set=r}get value(){return this._get()}set value(t){this._set(t)}}function yw(e){return new vw(e)}function vv(e){const t=st(e)?new Array(e.length):{};for(const n in e)t[n]=yv(e,n);return t}class Ew{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return jI(Vt(this._object),this._key)}}class _w{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Tw(e,t,n){return de(e)?e:Et(e)?new _w(e):Jt(e)&&arguments.length>1?yv(e,t,n):lr(e)}function yv(e,t,n){const r=e[t];return de(r)?r:new Ew(e,t,n)}class Iw{constructor(t,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new da(t,()=>{this._dirty||(this._dirty=!0,Ac(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const t=Vt(this);return kf(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function ww(e,t,n=!1){let r,i;const s=Et(e);return s?(r=e,i=Mn):(r=e.get,i=e.set),new Iw(r,i,s||!i,n)}function bw(e,...t){}function Sw(e,t){}function cr(e,t,n,r){let i;try{i=r?e(...r):e()}catch(s){Li(s,t,n)}return i}function vn(e,t,n,r){if(Et(e)){const s=cr(e,t,n,r);return s&&bf(s)&&s.catch(o=>{Li(o,t,n)}),s}const i=[];for(let s=0;s<e.length;s++)i.push(vn(e[s],t,n,r));return i}function Li(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let s=t.parent;const o=t.proxy,a=n;for(;s;){const c=s.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,o,a)===!1)return}s=s.parent}const l=t.appContext.config.errorHandler;if(l){cr(l,null,10,[e,o,a]);return}}Aw(e,n,i,r)}function Aw(e,t,n,r=!0){console.error(e)}let Uo=!1,yh=!1;const He=[];let Un=0;const ls=[];let er=null,di=0;const Ev=Promise.resolve();let Lf=null;function ga(e){const t=Lf||Ev;return e?t.then(this?e.bind(this):e):t}function Rw(e){let t=Un+1,n=He.length;for(;t<n;){const r=t+n>>>1;jo(He[r])<e?t=r+1:n=r}return t}function Rc(e){(!He.length||!He.includes(e,Uo&&e.allowRecurse?Un+1:Un))&&(e.id==null?He.push(e):He.splice(Rw(e.id),0,e),_v())}function _v(){!Uo&&!yh&&(yh=!0,Lf=Ev.then(Tv))}function Pw(e){const t=He.indexOf(e);t>Un&&He.splice(t,1)}function Ff(e){st(e)?ls.push(...e):(!er||!er.includes(e,e.allowRecurse?di+1:di))&&ls.push(e),_v()}function Ap(e,t=Uo?Un+1:0){for(;t<He.length;t++){const n=He[t];n&&n.pre&&(He.splice(t,1),t--,n())}}function Ul(e){if(ls.length){const t=[...new Set(ls)];if(ls.length=0,er){er.push(...t);return}for(er=t,er.sort((n,r)=>jo(n)-jo(r)),di=0;di<er.length;di++)er[di]();er=null,di=0}}const jo=e=>e.id==null?1/0:e.id,Cw=(e,t)=>{const n=jo(e)-jo(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Tv(e){yh=!1,Uo=!0,He.sort(Cw);const t=Mn;try{for(Un=0;Un<He.length;Un++){const n=He[Un];n&&n.active!==!1&&cr(n,null,14)}}finally{Un=0,He.length=0,Ul(),Uo=!1,Lf=null,(He.length||ls.length)&&Tv()}}let Xi,qa=[];function Iv(e,t){var n,r;Xi=e,Xi?(Xi.enabled=!0,qa.forEach(({event:i,args:s})=>Xi.emit(i,...s)),qa=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{Iv(s,t)}),setTimeout(()=>{Xi||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,qa=[])},3e3)):qa=[]}function xw(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Xt;let i=n;const s=t.startsWith("update:"),o=s&&t.slice(7);if(o&&o in r){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=r[u]||Xt;f&&(i=n.map(d=>he(d)?d.trim():d)),h&&(i=n.map(Vl))}let a,l=r[a=mo(t)]||r[a=mo(ln(t))];!l&&s&&(l=r[a=mo(Tn(t))]),l&&vn(l,e,6,i);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,vn(c,e,6,i)}}function wv(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const s=e.emits;let o={},a=!1;if(!Et(e)){const l=c=>{const u=wv(c,t,!0);u&&(a=!0,ee(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!a?(Jt(e)&&r.set(e,null),null):(st(s)?s.forEach(l=>o[l]=null):ee(o,s),Jt(e)&&r.set(e,o),o)}function Pc(e,t){return!e||!ha(t)?!1:(t=t.slice(2).replace(/Once$/,""),Kt(e,t[0].toLowerCase()+t.slice(1))||Kt(e,Tn(t))||Kt(e,t))}let Ce=null,Cc=null;function Bo(e){const t=Ce;return Ce=e,Cc=e&&e.type.__scopeId||null,t}function ma(e){Cc=e}function va(){Cc=null}const Ow=e=>ya;function ya(e,t=Ce,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&Sh(-1);const s=Bo(t);let o;try{o=e(...i)}finally{Bo(s),r._d&&Sh(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function _l(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:f,setupState:d,ctx:p,inheritAttrs:m}=e;let y,v;const g=Bo(e);try{if(n.shapeFlag&4){const E=i||r;y=dn(u.call(E,E,h,s,d,f,p)),v=l}else{const E=t;y=dn(E.length>1?E(s,{attrs:l,slots:a,emit:c}):E(s,null)),v=t.props?l:Nw(l)}}catch(E){_o.length=0,Li(E,e,1),y=Gt(We)}let I=y;if(v&&m!==!1){const E=Object.keys(v),{shapeFlag:w}=I;E.length&&w&7&&(o&&E.some(If)&&(v=Mw(v,o)),I=Qn(I,v))}return n.dirs&&(I=Qn(I),I.dirs=I.dirs?I.dirs.concat(n.dirs):n.dirs),n.transition&&(I.transition=n.transition),y=I,Bo(g),y}function Dw(e){let t;for(let n=0;n<e.length;n++){const r=e[n];if(Xr(r)){if(r.type!==We||r.children==="v-if"){if(t)return;t=r}}else return}return t}const Nw=e=>{let t;for(const n in e)(n==="class"||n==="style"||ha(n))&&((t||(t={}))[n]=e[n]);return t},Mw=(e,t)=>{const n={};for(const r in e)(!If(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function kw(e,t,n){const{props:r,children:i,component:s}=e,{props:o,children:a,patchFlag:l}=t,c=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Rp(r,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==r[f]&&!Pc(c,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Rp(r,o,c):!0:!!o;return!1}function Rp(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(t[s]!==e[s]&&!Pc(n,s))return!0}return!1}function Uf({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const bv=e=>e.__isSuspense,Vw={name:"Suspense",__isSuspense:!0,process(e,t,n,r,i,s,o,a,l,c){e==null?Fw(t,n,r,i,s,o,a,l,c):Uw(e,t,n,r,i,o,a,l,c)},hydrate:jw,create:jf,normalize:Bw},Lw=Vw;function $o(e,t){const n=e.props&&e.props[t];Et(n)&&n()}function Fw(e,t,n,r,i,s,o,a,l){const{p:c,o:{createElement:u}}=l,h=u("div"),f=e.suspense=jf(e,i,r,t,h,n,s,o,a,l);c(null,f.pendingBranch=e.ssContent,h,null,r,f,s,o),f.deps>0?($o(e,"onPending"),$o(e,"onFallback"),c(null,e.ssFallback,t,n,r,null,s,o),cs(f,e.ssFallback)):f.resolve(!1,!0)}function Uw(e,t,n,r,i,s,o,a,{p:l,um:c,o:{createElement:u}}){const h=t.suspense=e.suspense;h.vnode=t,t.el=e.el;const f=t.ssContent,d=t.ssFallback,{activeBranch:p,pendingBranch:m,isInFallback:y,isHydrating:v}=h;if(m)h.pendingBranch=f,Dn(f,m)?(l(m,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0?h.resolve():y&&(l(p,d,n,r,i,null,s,o,a),cs(h,d))):(h.pendingId++,v?(h.isHydrating=!1,h.activeBranch=m):c(m,i,h),h.deps=0,h.effects.length=0,h.hiddenContainer=u("div"),y?(l(null,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0?h.resolve():(l(p,d,n,r,i,null,s,o,a),cs(h,d))):p&&Dn(f,p)?(l(p,f,n,r,i,h,s,o,a),h.resolve(!0)):(l(null,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0&&h.resolve()));else if(p&&Dn(f,p))l(p,f,n,r,i,h,s,o,a),cs(h,f);else if($o(t,"onPending"),h.pendingBranch=f,h.pendingId++,l(null,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0)h.resolve();else{const{timeout:g,pendingId:I}=h;g>0?setTimeout(()=>{h.pendingId===I&&h.fallback(d)},g):g===0&&h.fallback(d)}}function jf(e,t,n,r,i,s,o,a,l,c,u=!1){const{p:h,m:f,um:d,n:p,o:{parentNode:m,remove:y}}=c;let v;const g=$w(e);g&&t!=null&&t.pendingBranch&&(v=t.pendingId,t.deps++);const I=e.props?Ll(e.props.timeout):void 0,E={vnode:e,parent:t,parentComponent:n,isSVG:o,container:r,hiddenContainer:i,anchor:s,deps:0,pendingId:0,timeout:typeof I=="number"?I:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:u,isUnmounted:!1,effects:[],resolve(w=!1,S=!1){const{vnode:O,activeBranch:A,pendingBranch:b,pendingId:x,effects:L,parentComponent:F,container:k}=E;if(E.isHydrating)E.isHydrating=!1;else if(!w){const U=A&&b.transition&&b.transition.mode==="out-in";U&&(A.transition.afterLeave=()=>{x===E.pendingId&&f(b,k,Y,0)});let{anchor:Y}=E;A&&(Y=p(A),d(A,F,E,!0)),U||f(b,k,Y,0)}cs(E,b),E.pendingBranch=null,E.isInFallback=!1;let D=E.parent,tt=!1;for(;D;){if(D.pendingBranch){D.effects.push(...L),tt=!0;break}D=D.parent}tt||Ff(L),E.effects=[],g&&t&&t.pendingBranch&&v===t.pendingId&&(t.deps--,t.deps===0&&!S&&t.resolve()),$o(O,"onResolve")},fallback(w){if(!E.pendingBranch)return;const{vnode:S,activeBranch:O,parentComponent:A,container:b,isSVG:x}=E;$o(S,"onFallback");const L=p(O),F=()=>{E.isInFallback&&(h(null,w,b,L,A,null,x,a,l),cs(E,w))},k=w.transition&&w.transition.mode==="out-in";k&&(O.transition.afterLeave=F),E.isInFallback=!0,d(O,A,null,!0),k||F()},move(w,S,O){E.activeBranch&&f(E.activeBranch,w,S,O),E.container=w},next(){return E.activeBranch&&p(E.activeBranch)},registerDep(w,S){const O=!!E.pendingBranch;O&&E.deps++;const A=w.vnode.el;w.asyncDep.catch(b=>{Li(b,w,0)}).then(b=>{if(w.isUnmounted||E.isUnmounted||E.pendingId!==w.suspenseId)return;w.asyncResolved=!0;const{vnode:x}=w;Ah(w,b,!1),A&&(x.el=A);const L=!A&&w.subTree.el;S(w,x,m(A||w.subTree.el),A?null:p(w.subTree),E,o,l),L&&y(L),Uf(w,x.el),O&&--E.deps===0&&E.resolve()})},unmount(w,S){E.isUnmounted=!0,E.activeBranch&&d(E.activeBranch,n,w,S),E.pendingBranch&&d(E.pendingBranch,n,w,S)}};return E}function jw(e,t,n,r,i,s,o,a,l){const c=t.suspense=jf(t,r,n,e.parentNode,document.createElement("div"),null,i,s,o,a,!0),u=l(e,c.pendingBranch=t.ssContent,n,c,s,o);return c.deps===0&&c.resolve(!1,!0),u}function Bw(e){const{shapeFlag:t,children:n}=e,r=t&32;e.ssContent=Pp(r?n.default:n),e.ssFallback=r?Pp(n.fallback):Gt(We)}function Pp(e){let t;if(Et(e)){const n=Pi&&e._c;n&&(e._d=!1,ue()),e=e(),n&&(e._d=!0,t=an,ty())}return st(e)&&(e=Dw(e)),e=dn(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function Sv(e,t){t&&t.pendingBranch?st(e)?t.effects.push(...e):t.effects.push(e):Ff(e)}function cs(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e,i=n.el=t.el;r&&r.subTree===n&&(r.vnode.el=i,Uf(r,i))}function $w(e){var t;return((t=e.props)==null?void 0:t.suspensible)!=null&&e.props.suspensible!==!1}function Hw(e,t){return Ea(e,null,t)}function Av(e,t){return Ea(e,null,{flush:"post"})}function Kw(e,t){return Ea(e,null,{flush:"sync"})}const Za={};function ur(e,t,n){return Ea(e,t,n)}function Ea(e,t,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:o}=Xt){var a;const l=Pf()===((a=be)==null?void 0:a.scope)?be:null;let c,u=!1,h=!1;if(de(e)?(c=()=>e.value,u=Lo(e)):ar(e)?(c=()=>e,r=!0):st(e)?(h=!0,u=e.some(E=>ar(E)||Lo(E)),c=()=>e.map(E=>{if(de(E))return E.value;if(ar(E))return gi(E);if(Et(E))return cr(E,l,2)})):Et(e)?t?c=()=>cr(e,l,2):c=()=>{if(!(l&&l.isUnmounted))return f&&f(),vn(e,l,3,[d])}:c=Mn,t&&r){const E=c;c=()=>gi(E())}let f,d=E=>{f=g.onStop=()=>{cr(E,l,4)}},p;if(ys)if(d=Mn,t?n&&vn(t,l,3,[c(),h?[]:void 0,d]):c(),i==="sync"){const E=hy();p=E.__watcherHandles||(E.__watcherHandles=[])}else return Mn;let m=h?new Array(e.length).fill(Za):Za;const y=()=>{if(g.active)if(t){const E=g.run();(r||u||(h?E.some((w,S)=>gs(w,m[S])):gs(E,m)))&&(f&&f(),vn(t,l,3,[E,m===Za?void 0:h&&m[0]===Za?[]:m,d]),m=E)}else g.run()};y.allowRecurse=!!t;let v;i==="sync"?v=y:i==="post"?v=()=>Ne(y,l&&l.suspense):(y.pre=!0,l&&(y.id=l.uid),v=()=>Rc(y));const g=new da(c,v);t?n?y():m=g.run():i==="post"?Ne(g.run.bind(g),l&&l.suspense):g.run();const I=()=>{g.stop(),l&&l.scope&&wf(l.scope.effects,g)};return p&&p.push(I),I}function Ww(e,t,n){const r=this.proxy,i=he(e)?e.includes(".")?Rv(r,e):()=>r[e]:e.bind(r,r);let s;Et(t)?s=t:(s=t.handler,n=t);const o=be;Jr(this);const a=Ea(i,s.bind(r),n);return o?Jr(o):Br(),a}function Rv(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function gi(e,t){if(!Jt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),de(e))gi(e.value,t);else if(st(e))for(let n=0;n<e.length;n++)gi(e[n],t);else if(Vi(e)||os(e))e.forEach(n=>{gi(n,t)});else if(qm(e))for(const n in e)gi(e[n],t);return e}function rr(e,t){const n=Ce;if(n===null)return e;const r=Vc(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[o,a,l,c=Xt]=t[s];o&&(Et(o)&&(o={mounted:o,updated:o}),o.deep&&gi(a),i.push({dir:o,instance:r,value:a,oldValue:void 0,arg:l,modifiers:c}))}return e}function Fn(e,t,n,r){const i=e.dirs,s=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(Ms(),vn(l,n,8,[e.el,a,e,t]),ks())}}function Bf(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ia(()=>{e.isMounted=!0}),Nc(()=>{e.isUnmounting=!0}),e}const En=[Function,Array],$f={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:En,onEnter:En,onAfterEnter:En,onEnterCancelled:En,onBeforeLeave:En,onLeave:En,onAfterLeave:En,onLeaveCancelled:En,onBeforeAppear:En,onAppear:En,onAfterAppear:En,onAppearCancelled:En},Gw={name:"BaseTransition",props:$f,setup(e,{slots:t}){const n=yr(),r=Bf();let i;return()=>{const s=t.default&&xc(t.default(),!0);if(!s||!s.length)return;let o=s[0];if(s.length>1){for(const m of s)if(m.type!==We){o=m;break}}const a=Vt(e),{mode:l}=a;if(r.isLeaving)return Su(o);const c=Cp(o);if(!c)return Su(o);const u=ms(c,a,r,n);Ai(c,u);const h=n.subTree,f=h&&Cp(h);let d=!1;const{getTransitionKey:p}=c.type;if(p){const m=p();i===void 0?i=m:m!==i&&(i=m,d=!0)}if(f&&f.type!==We&&(!Dn(c,f)||d)){const m=ms(f,a,r,n);if(Ai(f,m),l==="out-in")return r.isLeaving=!0,m.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},Su(o);l==="in-out"&&c.type!==We&&(m.delayLeave=(y,v,g)=>{const I=Cv(r,f);I[String(f.key)]=f,y._leaveCb=()=>{v(),y._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=g})}return o}}},Pv=Gw;function Cv(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function ms(e,t,n,r){const{appear:i,mode:s,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:h,onLeave:f,onAfterLeave:d,onLeaveCancelled:p,onBeforeAppear:m,onAppear:y,onAfterAppear:v,onAppearCancelled:g}=t,I=String(e.key),E=Cv(n,e),w=(A,b)=>{A&&vn(A,r,9,b)},S=(A,b)=>{const x=b[1];w(A,b),st(A)?A.every(L=>L.length<=1)&&x():A.length<=1&&x()},O={mode:s,persisted:o,beforeEnter(A){let b=a;if(!n.isMounted)if(i)b=m||a;else return;A._leaveCb&&A._leaveCb(!0);const x=E[I];x&&Dn(e,x)&&x.el._leaveCb&&x.el._leaveCb(),w(b,[A])},enter(A){let b=l,x=c,L=u;if(!n.isMounted)if(i)b=y||l,x=v||c,L=g||u;else return;let F=!1;const k=A._enterCb=D=>{F||(F=!0,D?w(L,[A]):w(x,[A]),O.delayedLeave&&O.delayedLeave(),A._enterCb=void 0)};b?S(b,[A,k]):k()},leave(A,b){const x=String(e.key);if(A._enterCb&&A._enterCb(!0),n.isUnmounting)return b();w(h,[A]);let L=!1;const F=A._leaveCb=k=>{L||(L=!0,b(),k?w(p,[A]):w(d,[A]),A._leaveCb=void 0,E[x]===e&&delete E[x])};E[x]=e,f?S(f,[A,F]):F()},clone(A){return ms(A,t,n,r)}};return O}function Su(e){if(Ta(e))return e=Qn(e),e.children=null,e}function Cp(e){return Ta(e)?e.children?e.children[0]:void 0:e}function Ai(e,t){e.shapeFlag&6&&e.component?Ai(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function xc(e,t=!1,n){let r=[],i=0;for(let s=0;s<e.length;s++){let o=e[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===we?(o.patchFlag&128&&i++,r=r.concat(xc(o.children,t,a))):(t||o.type!==We)&&r.push(a!=null?Qn(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function _a(e,t){return Et(e)?(()=>ee({name:e.name},t,{setup:e}))():e}const _i=e=>!!e.type.__asyncLoader;function zw(e){Et(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:r,delay:i=200,timeout:s,suspensible:o=!0,onError:a}=e;let l=null,c,u=0;const h=()=>(u++,l=null,f()),f=()=>{let d;return l||(d=l=t().catch(p=>{if(p=p instanceof Error?p:new Error(String(p)),a)return new Promise((m,y)=>{a(p,()=>m(h()),()=>y(p),u+1)});throw p}).then(p=>d!==l&&l?l:(p&&(p.__esModule||p[Symbol.toStringTag]==="Module")&&(p=p.default),c=p,p)))};return _a({name:"AsyncComponentWrapper",__asyncLoader:f,get __asyncResolved(){return c},setup(){const d=be;if(c)return()=>Au(c,d);const p=g=>{l=null,Li(g,d,13,!r)};if(o&&d.suspense||ys)return f().then(g=>()=>Au(g,d)).catch(g=>(p(g),()=>r?Gt(r,{error:g}):null));const m=lr(!1),y=lr(),v=lr(!!i);return i&&setTimeout(()=>{v.value=!1},i),s!=null&&setTimeout(()=>{if(!m.value&&!y.value){const g=new Error(`Async component timed out after ${s}ms.`);p(g),y.value=g}},s),f().then(()=>{m.value=!0,d.parent&&Ta(d.parent.vnode)&&Rc(d.parent.update)}).catch(g=>{p(g),y.value=g}),()=>{if(m.value&&c)return Au(c,d);if(y.value&&r)return Gt(r,{error:y.value});if(n&&!v.value)return Gt(n)}}})}function Au(e,t){const{ref:n,props:r,children:i,ce:s}=t.vnode,o=Gt(e,r,i);return o.ref=n,o.ce=s,delete t.vnode.ce,o}const Ta=e=>e.type.__isKeepAlive,Qw={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=yr(),r=n.ctx;if(!r.renderer)return()=>{const g=t.default&&t.default();return g&&g.length===1?g[0]:g};const i=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:h}}}=r,f=h("div");r.activate=(g,I,E,w,S)=>{const O=g.component;c(g,I,E,0,a),l(O.vnode,g,I,E,O,a,w,g.slotScopeIds,S),Ne(()=>{O.isDeactivated=!1,O.a&&as(O.a);const A=g.props&&g.props.onVnodeMounted;A&&sn(A,O.parent,g)},a)},r.deactivate=g=>{const I=g.component;c(g,f,null,1,a),Ne(()=>{I.da&&as(I.da);const E=g.props&&g.props.onVnodeUnmounted;E&&sn(E,I.parent,g),I.isDeactivated=!0},a)};function d(g){Ru(g),u(g,n,a,!0)}function p(g){i.forEach((I,E)=>{const w=Ph(I.type);w&&(!g||!g(w))&&m(E)})}function m(g){const I=i.get(g);!o||!Dn(I,o)?d(I):o&&Ru(o),i.delete(g),s.delete(g)}ur(()=>[e.include,e.exclude],([g,I])=>{g&&p(E=>to(g,E)),I&&p(E=>!to(I,E))},{flush:"post",deep:!0});let y=null;const v=()=>{y!=null&&i.set(y,Pu(n.subTree))};return Ia(v),Dc(v),Nc(()=>{i.forEach(g=>{const{subTree:I,suspense:E}=n,w=Pu(I);if(g.type===w.type&&g.key===w.key){Ru(w);const S=w.component.da;S&&Ne(S,E);return}d(g)})}),()=>{if(y=null,!t.default)return null;const g=t.default(),I=g[0];if(g.length>1)return o=null,g;if(!Xr(I)||!(I.shapeFlag&4)&&!(I.shapeFlag&128))return o=null,I;let E=Pu(I);const w=E.type,S=Ph(_i(E)?E.type.__asyncResolved||{}:w),{include:O,exclude:A,max:b}=e;if(O&&(!S||!to(O,S))||A&&S&&to(A,S))return o=E,I;const x=E.key==null?w:E.key,L=i.get(x);return E.el&&(E=Qn(E),I.shapeFlag&128&&(I.ssContent=E)),y=x,L?(E.el=L.el,E.component=L.component,E.transition&&Ai(E,E.transition),E.shapeFlag|=512,s.delete(x),s.add(x)):(s.add(x),b&&s.size>parseInt(b,10)&&m(s.values().next().value)),E.shapeFlag|=256,o=E,bv(I.type)?I:E}}},Yw=Qw;function to(e,t){return st(e)?e.some(n=>to(n,t)):he(e)?e.split(",").includes(t):II(e)?e.test(t):!1}function xv(e,t){Dv(e,"a",t)}function Ov(e,t){Dv(e,"da",t)}function Dv(e,t,n=be){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Oc(t,r,n),n){let i=n.parent;for(;i&&i.parent;)Ta(i.parent.vnode)&&Xw(r,t,n,i),i=i.parent}}function Xw(e,t,n,r){const i=Oc(t,e,r,!0);Mc(()=>{wf(r[t],i)},n)}function Ru(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Pu(e){return e.shapeFlag&128?e.ssContent:e}function Oc(e,t,n=be,r=!1){if(n){const i=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;Ms(),Jr(n);const a=vn(t,n,e,o);return Br(),ks(),a});return r?i.unshift(s):i.push(s),s}}const vr=e=>(t,n=be)=>(!ys||e==="sp")&&Oc(e,(...r)=>t(...r),n),Nv=vr("bm"),Ia=vr("m"),Mv=vr("bu"),Dc=vr("u"),Nc=vr("bum"),Mc=vr("um"),kv=vr("sp"),Vv=vr("rtg"),Lv=vr("rtc");function Fv(e,t=be){Oc("ec",e,t)}const Hf="components",Jw="directives";function On(e,t){return Kf(Hf,e,!0,t)||e}const Uv=Symbol.for("v-ndc");function qw(e){return he(e)?Kf(Hf,e,!1)||e:e||Uv}function Zw(e){return Kf(Jw,e)}function Kf(e,t,n=!0,r=!1){const i=Ce||be;if(i){const s=i.type;if(e===Hf){const a=Ph(s,!1);if(a&&(a===t||a===ln(t)||a===fa(ln(t))))return s}const o=xp(i[e]||s[e],t)||xp(i.appContext[e],t);return!o&&r?s:o}}function xp(e,t){return e&&(e[t]||e[ln(t)]||e[fa(ln(t))])}function t0(e,t,n,r){let i;const s=n&&n[r];if(st(e)||he(e)){i=new Array(e.length);for(let o=0,a=e.length;o<a;o++)i[o]=t(e[o],o,void 0,s&&s[o])}else if(typeof e=="number"){i=new Array(e);for(let o=0;o<e;o++)i[o]=t(o+1,o,void 0,s&&s[o])}else if(Jt(e))if(e[Symbol.iterator])i=Array.from(e,(o,a)=>t(o,a,void 0,s&&s[a]));else{const o=Object.keys(e);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];i[a]=t(e[c],c,a,s&&s[a])}}else i=[];return n&&(n[r]=i),i}function e0(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(st(r))for(let i=0;i<r.length;i++)e[r[i].name]=r[i].fn;else r&&(e[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return e}function n0(e,t,n={},r,i){if(Ce.isCE||Ce.parent&&_i(Ce.parent)&&Ce.parent.isCE)return t!=="default"&&(n.name=t),Gt("slot",n,r&&r());let s=e[t];s&&s._c&&(s._d=!1),ue();const o=s&&jv(s(n)),a=vs(we,{key:n.key||o&&o.key||`_${t}`},o||(r?r():[]),o&&e._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function jv(e){return e.some(t=>Xr(t)?!(t.type===We||t.type===we&&!jv(t.children)):!0)?e:null}function r0(e,t){const n={};for(const r in e)n[t&&/[A-Z]/.test(r)?`on:${r}`:mo(r)]=e[r];return n}const Eh=e=>e?oy(e)?Vc(e)||e.proxy:Eh(e.parent):null,vo=ee(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Eh(e.parent),$root:e=>Eh(e.root),$emit:e=>e.emit,$options:e=>Wf(e),$forceUpdate:e=>e.f||(e.f=()=>Rc(e.update)),$nextTick:e=>e.n||(e.n=ga.bind(e.proxy)),$watch:e=>Ww.bind(e)}),Cu=(e,t)=>e!==Xt&&!e.__isScriptSetup&&Kt(e,t),_h={get({_:e},t){const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const d=o[t];if(d!==void 0)switch(d){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return s[t]}else{if(Cu(r,t))return o[t]=1,r[t];if(i!==Xt&&Kt(i,t))return o[t]=2,i[t];if((c=e.propsOptions[0])&&Kt(c,t))return o[t]=3,s[t];if(n!==Xt&&Kt(n,t))return o[t]=4,n[t];Th&&(o[t]=0)}}const u=vo[t];let h,f;if(u)return t==="$attrs"&&cn(e,"get",t),u(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(n!==Xt&&Kt(n,t))return o[t]=4,n[t];if(f=l.config.globalProperties,Kt(f,t))return f[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:s}=e;return Cu(i,t)?(i[t]=n,!0):r!==Xt&&Kt(r,t)?(r[t]=n,!0):Kt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||e!==Xt&&Kt(e,o)||Cu(t,o)||(a=s[0])&&Kt(a,o)||Kt(r,o)||Kt(vo,o)||Kt(i.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Kt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},i0=ee({},_h,{get(e,t){if(t!==Symbol.unscopables)return _h.get(e,t,e)},has(e,t){return t[0]!=="_"&&!RI(t)}});function s0(){return null}function o0(){return null}function a0(e){}function l0(e){}function c0(){return null}function u0(){}function h0(e,t){return null}function f0(){return Bv().slots}function d0(){return Bv().attrs}function p0(e,t,n){const r=yr();if(n&&n.local){const i=lr(e[t]);return ur(()=>e[t],s=>i.value=s),ur(i,s=>{s!==e[t]&&r.emit(`update:${t}`,s)}),i}else return{__v_isRef:!0,get value(){return e[t]},set value(i){r.emit(`update:${t}`,i)}}}function Bv(){const e=yr();return e.setupContext||(e.setupContext=cy(e))}function Ho(e){return st(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function g0(e,t){const n=Ho(e);for(const r in t){if(r.startsWith("__skip"))continue;let i=n[r];i?st(i)||Et(i)?i=n[r]={type:i,default:t[r]}:i.default=t[r]:i===null&&(i=n[r]={default:t[r]}),i&&t[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function m0(e,t){return!e||!t?e||t:st(e)&&st(t)?e.concat(t):ee({},Ho(e),Ho(t))}function v0(e,t){const n={};for(const r in e)t.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>e[r]});return n}function y0(e){const t=yr();let n=e();return Br(),bf(n)&&(n=n.catch(r=>{throw Jr(t),r})),[n,()=>Jr(t)]}let Th=!0;function E0(e){const t=Wf(e),n=e.proxy,r=e.ctx;Th=!1,t.beforeCreate&&Op(t.beforeCreate,e,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:d,updated:p,activated:m,deactivated:y,beforeDestroy:v,beforeUnmount:g,destroyed:I,unmounted:E,render:w,renderTracked:S,renderTriggered:O,errorCaptured:A,serverPrefetch:b,expose:x,inheritAttrs:L,components:F,directives:k,filters:D}=t;if(c&&_0(c,r,null),o)for(const Y in o){const ot=o[Y];Et(ot)&&(r[Y]=ot.bind(n))}if(i){const Y=i.call(n,n);Jt(Y)&&(e.data=Vs(Y))}if(Th=!0,s)for(const Y in s){const ot=s[Y],Ut=Et(ot)?ot.bind(n,n):Et(ot.get)?ot.get.bind(n,n):Mn,qt=!Et(ot)&&Et(ot.set)?ot.set.bind(n):Mn,$t=pn({get:Ut,set:qt});Object.defineProperty(r,Y,{enumerable:!0,configurable:!0,get:()=>$t.value,set:Nt=>$t.value=Nt})}if(a)for(const Y in a)$v(a[Y],r,n,Y);if(l){const Y=Et(l)?l.call(n):l;Reflect.ownKeys(Y).forEach(ot=>{yo(ot,Y[ot])})}u&&Op(u,e,"c");function U(Y,ot){st(ot)?ot.forEach(Ut=>Y(Ut.bind(n))):ot&&Y(ot.bind(n))}if(U(Nv,h),U(Ia,f),U(Mv,d),U(Dc,p),U(xv,m),U(Ov,y),U(Fv,A),U(Lv,S),U(Vv,O),U(Nc,g),U(Mc,E),U(kv,b),st(x))if(x.length){const Y=e.exposed||(e.exposed={});x.forEach(ot=>{Object.defineProperty(Y,ot,{get:()=>n[ot],set:Ut=>n[ot]=Ut})})}else e.exposed||(e.exposed={});w&&e.render===Mn&&(e.render=w),L!=null&&(e.inheritAttrs=L),F&&(e.components=F),k&&(e.directives=k)}function _0(e,t,n=Mn){st(e)&&(e=Ih(e));for(const r in e){const i=e[r];let s;Jt(i)?"default"in i?s=wn(i.from||r,i.default,!0):s=wn(i.from||r):s=wn(i),de(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[r]=s}}function Op(e,t,n){vn(st(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function $v(e,t,n,r){const i=r.includes(".")?Rv(n,r):()=>n[r];if(he(e)){const s=t[e];Et(s)&&ur(i,s)}else if(Et(e))ur(i,e.bind(n));else if(Jt(e))if(st(e))e.forEach(s=>$v(s,t,n,r));else{const s=Et(e.handler)?e.handler.bind(n):t[e.handler];Et(s)&&ur(i,s,e)}}function Wf(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,a=s.get(t);let l;return a?l=a:!i.length&&!n&&!r?l=t:(l={},i.length&&i.forEach(c=>jl(l,c,o,!0)),jl(l,t,o)),Jt(t)&&s.set(t,l),l}function jl(e,t,n,r=!1){const{mixins:i,extends:s}=t;s&&jl(e,s,n,!0),i&&i.forEach(o=>jl(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=T0[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const T0={data:Dp,props:Np,emits:Np,methods:eo,computed:eo,beforeCreate:Je,created:Je,beforeMount:Je,mounted:Je,beforeUpdate:Je,updated:Je,beforeDestroy:Je,beforeUnmount:Je,destroyed:Je,unmounted:Je,activated:Je,deactivated:Je,errorCaptured:Je,serverPrefetch:Je,components:eo,directives:eo,watch:w0,provide:Dp,inject:I0};function Dp(e,t){return t?e?function(){return ee(Et(e)?e.call(this,this):e,Et(t)?t.call(this,this):t)}:t:e}function I0(e,t){return eo(Ih(e),Ih(t))}function Ih(e){if(st(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Je(e,t){return e?[...new Set([].concat(e,t))]:t}function eo(e,t){return e?ee(Object.create(null),e,t):t}function Np(e,t){return e?st(e)&&st(t)?[...new Set([...e,...t])]:ee(Object.create(null),Ho(e),Ho(t??{})):t}function w0(e,t){if(!e)return t;if(!t)return e;const n=ee(Object.create(null),e);for(const r in t)n[r]=Je(e[r],t[r]);return n}function Hv(){return{app:null,config:{isNativeTag:EI,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let b0=0;function S0(e,t){return function(r,i=null){Et(r)||(r=ee({},r)),i!=null&&!Jt(i)&&(i=null);const s=Hv(),o=new Set;let a=!1;const l=s.app={_uid:b0++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:dy,get config(){return s.config},set config(c){},use(c,...u){return o.has(c)||(c&&Et(c.install)?(o.add(c),c.install(l,...u)):Et(c)&&(o.add(c),c(l,...u))),l},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),l},component(c,u){return u?(s.components[c]=u,l):s.components[c]},directive(c,u){return u?(s.directives[c]=u,l):s.directives[c]},mount(c,u,h){if(!a){const f=Gt(r,i);return f.appContext=s,u&&t?t(f,c):e(f,c,h),a=!0,l._container=c,c.__vue_app__=l,Vc(f.component)||f.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(c,u){return s.provides[c]=u,l},runWithContext(c){Ko=l;try{return c()}finally{Ko=null}}};return l}}let Ko=null;function yo(e,t){if(be){let n=be.provides;const r=be.parent&&be.parent.provides;r===n&&(n=be.provides=Object.create(r)),n[e]=t}}function wn(e,t,n=!1){const r=be||Ce;if(r||Ko){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Ko._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&Et(t)?t.call(r&&r.proxy):t}}function Kv(){return!!(be||Ce||Ko)}function A0(e,t,n,r=!1){const i={},s={};kl(s,kc,1),e.propsDefaults=Object.create(null),Wv(e,t,i,s);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);n?e.props=r?i:Of(i):e.type.props?e.props=i:e.props=s,e.attrs=s}function R0(e,t,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=e,a=Vt(i),[l]=e.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(Pc(e.emitsOptions,f))continue;const d=t[f];if(l)if(Kt(s,f))d!==s[f]&&(s[f]=d,c=!0);else{const p=ln(f);i[p]=wh(l,a,p,d,e,!1)}else d!==s[f]&&(s[f]=d,c=!0)}}}else{Wv(e,t,i,s)&&(c=!0);let u;for(const h in a)(!t||!Kt(t,h)&&((u=Tn(h))===h||!Kt(t,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(i[h]=wh(l,a,h,void 0,e,!0)):delete i[h]);if(s!==a)for(const h in s)(!t||!Kt(t,h))&&(delete s[h],c=!0)}c&&fr(e,"set","$attrs")}function Wv(e,t,n,r){const[i,s]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(go(l))continue;const c=t[l];let u;i&&Kt(i,u=ln(l))?!s||!s.includes(u)?n[u]=c:(a||(a={}))[u]=c:Pc(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(s){const l=Vt(n),c=a||Xt;for(let u=0;u<s.length;u++){const h=s[u];n[h]=wh(i,l,h,c[h],e,!Kt(c,h))}}return o}function wh(e,t,n,r,i,s){const o=e[n];if(o!=null){const a=Kt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Et(l)){const{propsDefaults:c}=i;n in c?r=c[n]:(Jr(i),r=c[n]=l.call(null,t),Br())}else r=l}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===Tn(n))&&(r=!0))}return r}function Gv(e,t,n=!1){const r=t.propsCache,i=r.get(e);if(i)return i;const s=e.props,o={},a=[];let l=!1;if(!Et(e)){const u=h=>{l=!0;const[f,d]=Gv(h,t,!0);ee(o,f),d&&a.push(...d)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!s&&!l)return Jt(e)&&r.set(e,ss),ss;if(st(s))for(let u=0;u<s.length;u++){const h=ln(s[u]);Mp(h)&&(o[h]=Xt)}else if(s)for(const u in s){const h=ln(u);if(Mp(h)){const f=s[u],d=o[h]=st(f)||Et(f)?{type:f}:ee({},f);if(d){const p=Lp(Boolean,d.type),m=Lp(String,d.type);d[0]=p>-1,d[1]=m<0||p<m,(p>-1||Kt(d,"default"))&&a.push(h)}}}const c=[o,a];return Jt(e)&&r.set(e,c),c}function Mp(e){return e[0]!=="$"}function kp(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Vp(e,t){return kp(e)===kp(t)}function Lp(e,t){return st(t)?t.findIndex(n=>Vp(n,e)):Et(t)&&Vp(t,e)?0:-1}const zv=e=>e[0]==="_"||e==="$stable",Gf=e=>st(e)?e.map(dn):[dn(e)],P0=(e,t,n)=>{if(t._n)return t;const r=ya((...i)=>Gf(t(...i)),n);return r._c=!1,r},Qv=(e,t,n)=>{const r=e._ctx;for(const i in e){if(zv(i))continue;const s=e[i];if(Et(s))t[i]=P0(i,s,r);else if(s!=null){const o=Gf(s);t[i]=()=>o}}},Yv=(e,t)=>{const n=Gf(t);e.slots.default=()=>n},C0=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Vt(t),kl(t,"_",n)):Qv(t,e.slots={})}else e.slots={},t&&Yv(e,t);kl(e.slots,kc,1)},x0=(e,t,n)=>{const{vnode:r,slots:i}=e;let s=!0,o=Xt;if(r.shapeFlag&32){const a=t._;a?n&&a===1?s=!1:(ee(i,t),!n&&a===1&&delete i._):(s=!t.$stable,Qv(t,i)),o=t}else t&&(Yv(e,t),o={default:1});if(s)for(const a in i)!zv(a)&&!(a in o)&&delete i[a]};function Bl(e,t,n,r,i=!1){if(st(e)){e.forEach((f,d)=>Bl(f,t&&(st(t)?t[d]:t),n,r,i));return}if(_i(r)&&!i)return;const s=r.shapeFlag&4?Vc(r.component)||r.component.proxy:r.el,o=i?null:s,{i:a,r:l}=e,c=t&&t.r,u=a.refs===Xt?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&(he(c)?(u[c]=null,Kt(h,c)&&(h[c]=null)):de(c)&&(c.value=null)),Et(l))cr(l,a,12,[o,u]);else{const f=he(l),d=de(l);if(f||d){const p=()=>{if(e.f){const m=f?Kt(h,l)?h[l]:u[l]:l.value;i?st(m)&&wf(m,s):st(m)?m.includes(s)||m.push(s):f?(u[l]=[s],Kt(h,l)&&(h[l]=u[l])):(l.value=[s],e.k&&(u[e.k]=l.value))}else f?(u[l]=o,Kt(h,l)&&(h[l]=o)):d&&(l.value=o,e.k&&(u[e.k]=o))};o?(p.id=-1,Ne(p,n)):p()}}}let Ir=!1;const tl=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",el=e=>e.nodeType===8;function O0(e){const{mt:t,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:c}}=e,u=(v,g)=>{if(!g.hasChildNodes()){n(null,v,g),Ul(),g._vnode=v;return}Ir=!1,h(g.firstChild,v,null,null,null),Ul(),g._vnode=v,Ir&&console.error("Hydration completed but contains mismatches.")},h=(v,g,I,E,w,S=!1)=>{const O=el(v)&&v.data==="[",A=()=>m(v,g,I,E,w,O),{type:b,ref:x,shapeFlag:L,patchFlag:F}=g;let k=v.nodeType;g.el=v,F===-2&&(S=!1,g.dynamicChildren=null);let D=null;switch(b){case Ri:k!==3?g.children===""?(l(g.el=i(""),o(v),v),D=v):D=A():(v.data!==g.children&&(Ir=!0,v.data=g.children),D=s(v));break;case We:k!==8||O?D=A():D=s(v);break;case Ti:if(O&&(v=s(v),k=v.nodeType),k===1||k===3){D=v;const tt=!g.children.length;for(let U=0;U<g.staticCount;U++)tt&&(g.children+=D.nodeType===1?D.outerHTML:D.data),U===g.staticCount-1&&(g.anchor=D),D=s(D);return O?s(D):D}else A();break;case we:O?D=p(v,g,I,E,w,S):D=A();break;default:if(L&1)k!==1||g.type.toLowerCase()!==v.tagName.toLowerCase()?D=A():D=f(v,g,I,E,w,S);else if(L&6){g.slotScopeIds=w;const tt=o(v);if(t(g,tt,null,I,E,tl(tt),S),D=O?y(v):s(v),D&&el(D)&&D.data==="teleport end"&&(D=s(D)),_i(g)){let U;O?(U=Gt(we),U.anchor=D?D.previousSibling:tt.lastChild):U=v.nodeType===3?wa(""):Gt("div"),U.el=v,g.component.subTree=U}}else L&64?k!==8?D=A():D=g.type.hydrate(v,g,I,E,w,S,e,d):L&128&&(D=g.type.hydrate(v,g,I,E,tl(o(v)),w,S,e,h))}return x!=null&&Bl(x,null,E,g),D},f=(v,g,I,E,w,S)=>{S=S||!!g.dynamicChildren;const{type:O,props:A,patchFlag:b,shapeFlag:x,dirs:L}=g,F=O==="input"&&L||O==="option";if(F||b!==-1){if(L&&Fn(g,null,I,"created"),A)if(F||!S||b&48)for(const D in A)(F&&D.endsWith("value")||ha(D)&&!go(D))&&r(v,D,null,A[D],!1,void 0,I);else A.onClick&&r(v,"onClick",null,A.onClick,!1,void 0,I);let k;if((k=A&&A.onVnodeBeforeMount)&&sn(k,I,g),L&&Fn(g,null,I,"beforeMount"),((k=A&&A.onVnodeMounted)||L)&&Sv(()=>{k&&sn(k,I,g),L&&Fn(g,null,I,"mounted")},E),x&16&&!(A&&(A.innerHTML||A.textContent))){let D=d(v.firstChild,g,v,I,E,w,S);for(;D;){Ir=!0;const tt=D;D=D.nextSibling,a(tt)}}else x&8&&v.textContent!==g.children&&(Ir=!0,v.textContent=g.children)}return v.nextSibling},d=(v,g,I,E,w,S,O)=>{O=O||!!g.dynamicChildren;const A=g.children,b=A.length;for(let x=0;x<b;x++){const L=O?A[x]:A[x]=dn(A[x]);if(v)v=h(v,L,E,w,S,O);else{if(L.type===Ri&&!L.children)continue;Ir=!0,n(null,L,I,null,E,w,tl(I),S)}}return v},p=(v,g,I,E,w,S)=>{const{slotScopeIds:O}=g;O&&(w=w?w.concat(O):O);const A=o(v),b=d(s(v),g,A,I,E,w,S);return b&&el(b)&&b.data==="]"?s(g.anchor=b):(Ir=!0,l(g.anchor=c("]"),A,b),b)},m=(v,g,I,E,w,S)=>{if(Ir=!0,g.el=null,S){const b=y(v);for(;;){const x=s(v);if(x&&x!==b)a(x);else break}}const O=s(v),A=o(v);return a(v),n(null,g,A,O,I,E,tl(A),w),O},y=v=>{let g=0;for(;v;)if(v=s(v),v&&el(v)&&(v.data==="["&&g++,v.data==="]")){if(g===0)return s(v);g--}return v};return[u,h]}const Ne=Sv;function Xv(e){return qv(e)}function Jv(e){return qv(e,O0)}function qv(e,t){const n=ph();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:d=Mn,insertStaticContent:p}=e,m=(_,T,R,V=null,j=null,B=null,q=!1,Q=null,z=!!T.dynamicChildren)=>{if(_===T)return;_&&!Dn(_,T)&&(V=M(_),Nt(_,j,B,!0),_=null),T.patchFlag===-2&&(z=!1,T.dynamicChildren=null);const{type:$,ref:ct,shapeFlag:rt}=T;switch($){case Ri:y(_,T,R,V);break;case We:v(_,T,R,V);break;case Ti:_==null&&g(T,R,V,q);break;case we:F(_,T,R,V,j,B,q,Q,z);break;default:rt&1?w(_,T,R,V,j,B,q,Q,z):rt&6?k(_,T,R,V,j,B,q,Q,z):(rt&64||rt&128)&&$.process(_,T,R,V,j,B,q,Q,z,G)}ct!=null&&j&&Bl(ct,_&&_.ref,B,T||_,!T)},y=(_,T,R,V)=>{if(_==null)r(T.el=a(T.children),R,V);else{const j=T.el=_.el;T.children!==_.children&&c(j,T.children)}},v=(_,T,R,V)=>{_==null?r(T.el=l(T.children||""),R,V):T.el=_.el},g=(_,T,R,V)=>{[_.el,_.anchor]=p(_.children,T,R,V,_.el,_.anchor)},I=({el:_,anchor:T},R,V)=>{let j;for(;_&&_!==T;)j=f(_),r(_,R,V),_=j;r(T,R,V)},E=({el:_,anchor:T})=>{let R;for(;_&&_!==T;)R=f(_),i(_),_=R;i(T)},w=(_,T,R,V,j,B,q,Q,z)=>{q=q||T.type==="svg",_==null?S(T,R,V,j,B,q,Q,z):b(_,T,j,B,q,Q,z)},S=(_,T,R,V,j,B,q,Q)=>{let z,$;const{type:ct,props:rt,shapeFlag:ut,transition:gt,dirs:At}=_;if(z=_.el=o(_.type,B,rt&&rt.is,rt),ut&8?u(z,_.children):ut&16&&A(_.children,z,null,V,j,B&&ct!=="foreignObject",q,Q),At&&Fn(_,null,V,"created"),O(z,_,_.scopeId,q,V),rt){for(const jt in rt)jt!=="value"&&!go(jt)&&s(z,jt,null,rt[jt],B,_.children,V,j,xt);"value"in rt&&s(z,"value",null,rt.value),($=rt.onVnodeBeforeMount)&&sn($,V,_)}At&&Fn(_,null,V,"beforeMount");const Wt=(!j||j&&!j.pendingBranch)&&gt&&!gt.persisted;Wt&&gt.beforeEnter(z),r(z,T,R),(($=rt&&rt.onVnodeMounted)||Wt||At)&&Ne(()=>{$&&sn($,V,_),Wt&&gt.enter(z),At&&Fn(_,null,V,"mounted")},j)},O=(_,T,R,V,j)=>{if(R&&d(_,R),V)for(let B=0;B<V.length;B++)d(_,V[B]);if(j){let B=j.subTree;if(T===B){const q=j.vnode;O(_,q,q.scopeId,q.slotScopeIds,j.parent)}}},A=(_,T,R,V,j,B,q,Q,z=0)=>{for(let $=z;$<_.length;$++){const ct=_[$]=Q?Pr(_[$]):dn(_[$]);m(null,ct,T,R,V,j,B,q,Q)}},b=(_,T,R,V,j,B,q)=>{const Q=T.el=_.el;let{patchFlag:z,dynamicChildren:$,dirs:ct}=T;z|=_.patchFlag&16;const rt=_.props||Xt,ut=T.props||Xt;let gt;R&&oi(R,!1),(gt=ut.onVnodeBeforeUpdate)&&sn(gt,R,T,_),ct&&Fn(T,_,R,"beforeUpdate"),R&&oi(R,!0);const At=j&&T.type!=="foreignObject";if($?x(_.dynamicChildren,$,Q,R,V,At,B):q||ot(_,T,Q,null,R,V,At,B,!1),z>0){if(z&16)L(Q,T,rt,ut,R,V,j);else if(z&2&&rt.class!==ut.class&&s(Q,"class",null,ut.class,j),z&4&&s(Q,"style",rt.style,ut.style,j),z&8){const Wt=T.dynamicProps;for(let jt=0;jt<Wt.length;jt++){const P=Wt[jt],C=rt[P],N=ut[P];(N!==C||P==="value")&&s(Q,P,C,N,j,_.children,R,V,xt)}}z&1&&_.children!==T.children&&u(Q,T.children)}else!q&&$==null&&L(Q,T,rt,ut,R,V,j);((gt=ut.onVnodeUpdated)||ct)&&Ne(()=>{gt&&sn(gt,R,T,_),ct&&Fn(T,_,R,"updated")},V)},x=(_,T,R,V,j,B,q)=>{for(let Q=0;Q<T.length;Q++){const z=_[Q],$=T[Q],ct=z.el&&(z.type===we||!Dn(z,$)||z.shapeFlag&70)?h(z.el):R;m(z,$,ct,null,V,j,B,q,!0)}},L=(_,T,R,V,j,B,q)=>{if(R!==V){if(R!==Xt)for(const Q in R)!go(Q)&&!(Q in V)&&s(_,Q,R[Q],null,q,T.children,j,B,xt);for(const Q in V){if(go(Q))continue;const z=V[Q],$=R[Q];z!==$&&Q!=="value"&&s(_,Q,$,z,q,T.children,j,B,xt)}"value"in V&&s(_,"value",R.value,V.value)}},F=(_,T,R,V,j,B,q,Q,z)=>{const $=T.el=_?_.el:a(""),ct=T.anchor=_?_.anchor:a("");let{patchFlag:rt,dynamicChildren:ut,slotScopeIds:gt}=T;gt&&(Q=Q?Q.concat(gt):gt),_==null?(r($,R,V),r(ct,R,V),A(T.children,R,ct,j,B,q,Q,z)):rt>0&&rt&64&&ut&&_.dynamicChildren?(x(_.dynamicChildren,ut,R,j,B,q,Q),(T.key!=null||j&&T===j.subTree)&&zf(_,T,!0)):ot(_,T,R,ct,j,B,q,Q,z)},k=(_,T,R,V,j,B,q,Q,z)=>{T.slotScopeIds=Q,_==null?T.shapeFlag&512?j.ctx.activate(T,R,V,q,z):D(T,R,V,j,B,q,z):tt(_,T,z)},D=(_,T,R,V,j,B,q)=>{const Q=_.component=sy(_,V,j);if(Ta(_)&&(Q.ctx.renderer=G),ay(Q),Q.asyncDep){if(j&&j.registerDep(Q,U),!_.el){const z=Q.subTree=Gt(We);v(null,z,T,R)}return}U(Q,_,T,R,j,B,q)},tt=(_,T,R)=>{const V=T.component=_.component;if(kw(_,T,R))if(V.asyncDep&&!V.asyncResolved){Y(V,T,R);return}else V.next=T,Pw(V.update),V.update();else T.el=_.el,V.vnode=T},U=(_,T,R,V,j,B,q)=>{const Q=()=>{if(_.isMounted){let{next:ct,bu:rt,u:ut,parent:gt,vnode:At}=_,Wt=ct,jt;oi(_,!1),ct?(ct.el=At.el,Y(_,ct,q)):ct=At,rt&&as(rt),(jt=ct.props&&ct.props.onVnodeBeforeUpdate)&&sn(jt,gt,ct,At),oi(_,!0);const P=_l(_),C=_.subTree;_.subTree=P,m(C,P,h(C.el),M(C),_,j,B),ct.el=P.el,Wt===null&&Uf(_,P.el),ut&&Ne(ut,j),(jt=ct.props&&ct.props.onVnodeUpdated)&&Ne(()=>sn(jt,gt,ct,At),j)}else{let ct;const{el:rt,props:ut}=T,{bm:gt,m:At,parent:Wt}=_,jt=_i(T);if(oi(_,!1),gt&&as(gt),!jt&&(ct=ut&&ut.onVnodeBeforeMount)&&sn(ct,Wt,T),oi(_,!0),rt&&Ot){const P=()=>{_.subTree=_l(_),Ot(rt,_.subTree,_,j,null)};jt?T.type.__asyncLoader().then(()=>!_.isUnmounted&&P()):P()}else{const P=_.subTree=_l(_);m(null,P,R,V,_,j,B),T.el=P.el}if(At&&Ne(At,j),!jt&&(ct=ut&&ut.onVnodeMounted)){const P=T;Ne(()=>sn(ct,Wt,P),j)}(T.shapeFlag&256||Wt&&_i(Wt.vnode)&&Wt.vnode.shapeFlag&256)&&_.a&&Ne(_.a,j),_.isMounted=!0,T=R=V=null}},z=_.effect=new da(Q,()=>Rc($),_.scope),$=_.update=()=>z.run();$.id=_.uid,oi(_,!0),$()},Y=(_,T,R)=>{T.component=_;const V=_.vnode.props;_.vnode=T,_.next=null,R0(_,T.props,V,R),x0(_,T.children,R),Ms(),Ap(),ks()},ot=(_,T,R,V,j,B,q,Q,z=!1)=>{const $=_&&_.children,ct=_?_.shapeFlag:0,rt=T.children,{patchFlag:ut,shapeFlag:gt}=T;if(ut>0){if(ut&128){qt($,rt,R,V,j,B,q,Q,z);return}else if(ut&256){Ut($,rt,R,V,j,B,q,Q,z);return}}gt&8?(ct&16&&xt($,j,B),rt!==$&&u(R,rt)):ct&16?gt&16?qt($,rt,R,V,j,B,q,Q,z):xt($,j,B,!0):(ct&8&&u(R,""),gt&16&&A(rt,R,V,j,B,q,Q,z))},Ut=(_,T,R,V,j,B,q,Q,z)=>{_=_||ss,T=T||ss;const $=_.length,ct=T.length,rt=Math.min($,ct);let ut;for(ut=0;ut<rt;ut++){const gt=T[ut]=z?Pr(T[ut]):dn(T[ut]);m(_[ut],gt,R,null,j,B,q,Q,z)}$>ct?xt(_,j,B,!0,!1,rt):A(T,R,V,j,B,q,Q,z,rt)},qt=(_,T,R,V,j,B,q,Q,z)=>{let $=0;const ct=T.length;let rt=_.length-1,ut=ct-1;for(;$<=rt&&$<=ut;){const gt=_[$],At=T[$]=z?Pr(T[$]):dn(T[$]);if(Dn(gt,At))m(gt,At,R,null,j,B,q,Q,z);else break;$++}for(;$<=rt&&$<=ut;){const gt=_[rt],At=T[ut]=z?Pr(T[ut]):dn(T[ut]);if(Dn(gt,At))m(gt,At,R,null,j,B,q,Q,z);else break;rt--,ut--}if($>rt){if($<=ut){const gt=ut+1,At=gt<ct?T[gt].el:V;for(;$<=ut;)m(null,T[$]=z?Pr(T[$]):dn(T[$]),R,At,j,B,q,Q,z),$++}}else if($>ut)for(;$<=rt;)Nt(_[$],j,B,!0),$++;else{const gt=$,At=$,Wt=new Map;for($=At;$<=ut;$++){const ft=T[$]=z?Pr(T[$]):dn(T[$]);ft.key!=null&&Wt.set(ft.key,$)}let jt,P=0;const C=ut-At+1;let N=!1,K=0;const et=new Array(C);for($=0;$<C;$++)et[$]=0;for($=gt;$<=rt;$++){const ft=_[$];if(P>=C){Nt(ft,j,B,!0);continue}let Rt;if(ft.key!=null)Rt=Wt.get(ft.key);else for(jt=At;jt<=ut;jt++)if(et[jt-At]===0&&Dn(ft,T[jt])){Rt=jt;break}Rt===void 0?Nt(ft,j,B,!0):(et[Rt-At]=$+1,Rt>=K?K=Rt:N=!0,m(ft,T[Rt],R,null,j,B,q,Q,z),P++)}const mt=N?D0(et):ss;for(jt=mt.length-1,$=C-1;$>=0;$--){const ft=At+$,Rt=T[ft],oe=ft+1<ct?T[ft+1].el:V;et[$]===0?m(null,Rt,R,oe,j,B,q,Q,z):N&&(jt<0||$!==mt[jt]?$t(Rt,R,oe,2):jt--)}}},$t=(_,T,R,V,j=null)=>{const{el:B,type:q,transition:Q,children:z,shapeFlag:$}=_;if($&6){$t(_.component.subTree,T,R,V);return}if($&128){_.suspense.move(T,R,V);return}if($&64){q.move(_,T,R,G);return}if(q===we){r(B,T,R);for(let rt=0;rt<z.length;rt++)$t(z[rt],T,R,V);r(_.anchor,T,R);return}if(q===Ti){I(_,T,R);return}if(V!==2&&$&1&&Q)if(V===0)Q.beforeEnter(B),r(B,T,R),Ne(()=>Q.enter(B),j);else{const{leave:rt,delayLeave:ut,afterLeave:gt}=Q,At=()=>r(B,T,R),Wt=()=>{rt(B,()=>{At(),gt&&gt()})};ut?ut(B,At,Wt):Wt()}else r(B,T,R)},Nt=(_,T,R,V=!1,j=!1)=>{const{type:B,props:q,ref:Q,children:z,dynamicChildren:$,shapeFlag:ct,patchFlag:rt,dirs:ut}=_;if(Q!=null&&Bl(Q,null,R,_,!0),ct&256){T.ctx.deactivate(_);return}const gt=ct&1&&ut,At=!_i(_);let Wt;if(At&&(Wt=q&&q.onVnodeBeforeUnmount)&&sn(Wt,T,_),ct&6)re(_.component,R,V);else{if(ct&128){_.suspense.unmount(R,V);return}gt&&Fn(_,null,T,"beforeUnmount"),ct&64?_.type.remove(_,T,R,j,G,V):$&&(B!==we||rt>0&&rt&64)?xt($,T,R,!1,!0):(B===we&&rt&384||!j&&ct&16)&&xt(z,T,R),V&&Zt(_)}(At&&(Wt=q&&q.onVnodeUnmounted)||gt)&&Ne(()=>{Wt&&sn(Wt,T,_),gt&&Fn(_,null,T,"unmounted")},R)},Zt=_=>{const{type:T,el:R,anchor:V,transition:j}=_;if(T===we){ne(R,V);return}if(T===Ti){E(_);return}const B=()=>{i(R),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if(_.shapeFlag&1&&j&&!j.persisted){const{leave:q,delayLeave:Q}=j,z=()=>q(R,B);Q?Q(_.el,B,z):z()}else B()},ne=(_,T)=>{let R;for(;_!==T;)R=f(_),i(_),_=R;i(T)},re=(_,T,R)=>{const{bum:V,scope:j,update:B,subTree:q,um:Q}=_;V&&as(V),j.stop(),B&&(B.active=!1,Nt(q,_,T,R)),Q&&Ne(Q,T),Ne(()=>{_.isUnmounted=!0},T),T&&T.pendingBranch&&!T.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===T.pendingId&&(T.deps--,T.deps===0&&T.resolve())},xt=(_,T,R,V=!1,j=!1,B=0)=>{for(let q=B;q<_.length;q++)Nt(_[q],T,R,V,j)},M=_=>_.shapeFlag&6?M(_.component.subTree):_.shapeFlag&128?_.suspense.next():f(_.anchor||_.el),J=(_,T,R)=>{_==null?T._vnode&&Nt(T._vnode,null,null,!0):m(T._vnode||null,_,T,null,null,null,R),Ap(),Ul(),T._vnode=_},G={p:m,um:Nt,m:$t,r:Zt,mt:D,mc:A,pc:ot,pbc:x,n:M,o:e};let it,Ot;return t&&([it,Ot]=t(G)),{render:J,hydrate:it,createApp:S0(J,it)}}function oi({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function zf(e,t,n=!1){const r=e.children,i=t.children;if(st(r)&&st(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Pr(i[s]),a.el=o.el),n||zf(o,a)),a.type===Ri&&(a.el=o.el)}}function D0(e){const t=e.slice(),n=[0];let r,i,s,o,a;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(i=n[n.length-1],e[i]<c){t[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,e[n[a]]<c?s=a+1:o=a;c<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=t[o];return n}const N0=e=>e.__isTeleport,Eo=e=>e&&(e.disabled||e.disabled===""),Fp=e=>typeof SVGElement<"u"&&e instanceof SVGElement,bh=(e,t)=>{const n=e&&e.to;return he(n)?t?t(n):null:n},M0={__isTeleport:!0,process(e,t,n,r,i,s,o,a,l,c){const{mc:u,pc:h,pbc:f,o:{insert:d,querySelector:p,createText:m,createComment:y}}=c,v=Eo(t.props);let{shapeFlag:g,children:I,dynamicChildren:E}=t;if(e==null){const w=t.el=m(""),S=t.anchor=m("");d(w,n,r),d(S,n,r);const O=t.target=bh(t.props,p),A=t.targetAnchor=m("");O&&(d(A,O),o=o||Fp(O));const b=(x,L)=>{g&16&&u(I,x,L,i,s,o,a,l)};v?b(n,S):O&&b(O,A)}else{t.el=e.el;const w=t.anchor=e.anchor,S=t.target=e.target,O=t.targetAnchor=e.targetAnchor,A=Eo(e.props),b=A?n:S,x=A?w:O;if(o=o||Fp(S),E?(f(e.dynamicChildren,E,b,i,s,o,a),zf(e,t,!0)):l||h(e,t,b,x,i,s,o,a,!1),v)A||nl(t,n,w,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const L=t.target=bh(t.props,p);L&&nl(t,L,null,c,0)}else A&&nl(t,S,O,c,1)}Zv(t)},remove(e,t,n,r,{um:i,o:{remove:s}},o){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:h,props:f}=e;if(h&&s(u),(o||!Eo(f))&&(s(c),a&16))for(let d=0;d<l.length;d++){const p=l[d];i(p,t,n,!0,!!p.dynamicChildren)}},move:nl,hydrate:k0};function nl(e,t,n,{o:{insert:r},m:i},s=2){s===0&&r(e.targetAnchor,t,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=e,h=s===2;if(h&&r(o,t,n),(!h||Eo(u))&&l&16)for(let f=0;f<c.length;f++)i(c[f],t,n,2);h&&r(a,t,n)}function k0(e,t,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l}},c){const u=t.target=bh(t.props,l);if(u){const h=u._lpa||u.firstChild;if(t.shapeFlag&16)if(Eo(t.props))t.anchor=c(o(e),t,a(e),n,r,i,s),t.targetAnchor=h;else{t.anchor=o(e);let f=h;for(;f;)if(f=o(f),f&&f.nodeType===8&&f.data==="teleport anchor"){t.targetAnchor=f,u._lpa=t.targetAnchor&&o(t.targetAnchor);break}c(h,t,u,n,r,i,s)}Zv(t)}return t.anchor&&o(t.anchor)}const V0=M0;function Zv(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const we=Symbol.for("v-fgt"),Ri=Symbol.for("v-txt"),We=Symbol.for("v-cmt"),Ti=Symbol.for("v-stc"),_o=[];let an=null;function ue(e=!1){_o.push(an=e?null:[])}function ty(){_o.pop(),an=_o[_o.length-1]||null}let Pi=1;function Sh(e){Pi+=e}function ey(e){return e.dynamicChildren=Pi>0?an||ss:null,ty(),Pi>0&&an&&an.push(e),e}function Pe(e,t,n,r,i,s){return ey(nt(e,t,n,r,i,s,!0))}function vs(e,t,n,r,i){return ey(Gt(e,t,n,r,i,!0))}function Xr(e){return e?e.__v_isVNode===!0:!1}function Dn(e,t){return e.type===t.type&&e.key===t.key}function L0(e){}const kc="__vInternal",ny=({key:e})=>e??null,Tl=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?he(e)||de(e)||Et(e)?{i:Ce,r:e,k:t,f:!!n}:e:null);function nt(e,t=null,n=null,r=0,i=null,s=e===we?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ny(t),ref:t&&Tl(t),scopeId:Cc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ce};return a?(Qf(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=he(n)?8:16),Pi>0&&!o&&an&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&an.push(l),l}const Gt=F0;function F0(e,t=null,n=null,r=0,i=null,s=!1){if((!e||e===Uv)&&(e=We),Xr(e)){const a=Qn(e,t,!0);return n&&Qf(a,n),Pi>0&&!s&&an&&(a.shapeFlag&6?an[an.indexOf(e)]=a:an.push(a)),a.patchFlag|=-2,a}if(G0(e)&&(e=e.__vccOpts),t){t=ry(t);let{class:a,style:l}=t;a&&!he(a)&&(t.class=zr(a)),Jt(l)&&(Nf(l)&&!st(l)&&(l=ee({},l)),t.style=Ns(l))}const o=he(e)?1:bv(e)?128:N0(e)?64:Jt(e)?4:Et(e)?2:0;return nt(e,t,n,r,i,o,s,!0)}function ry(e){return e?Nf(e)||kc in e?ee({},e):e:null}function Qn(e,t,n=!1){const{props:r,ref:i,patchFlag:s,children:o}=e,a=t?iy(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&ny(a),ref:t&&t.ref?n&&i?st(i)?i.concat(Tl(t)):[i,Tl(t)]:Tl(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==we?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Qn(e.ssContent),ssFallback:e.ssFallback&&Qn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function wa(e=" ",t=0){return Gt(Ri,null,e,t)}function U0(e,t){const n=Gt(Ti,null,e);return n.staticCount=t,n}function Vr(e="",t=!1){return t?(ue(),vs(We,null,e)):Gt(We,null,e)}function dn(e){return e==null||typeof e=="boolean"?Gt(We):st(e)?Gt(we,null,e.slice()):typeof e=="object"?Pr(e):Gt(Ri,null,String(e))}function Pr(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Qn(e)}function Qf(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(st(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),Qf(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(kc in t)?t._ctx=Ce:i===3&&Ce&&(Ce.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Et(t)?(t={default:t,_ctx:Ce},n=32):(t=String(t),r&64?(n=16,t=[wa(t)]):n=8);e.children=t,e.shapeFlag|=n}function iy(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=zr([t.class,r.class]));else if(i==="style")t.style=Ns([t.style,r.style]);else if(ha(i)){const s=t[i],o=r[i];o&&s!==o&&!(st(s)&&s.includes(o))&&(t[i]=s?[].concat(s,o):o)}else i!==""&&(t[i]=r[i])}return t}function sn(e,t,n,r=null){vn(e,t,7,[n,r])}const j0=Hv();let B0=0;function sy(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||j0,s={uid:B0++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Af(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Gv(r,i),emitsOptions:wv(r,i),emit:null,emitted:null,propsDefaults:Xt,inheritAttrs:r.inheritAttrs,ctx:Xt,data:Xt,props:Xt,attrs:Xt,slots:Xt,refs:Xt,setupState:Xt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=xw.bind(null,s),e.ce&&e.ce(s),s}let be=null;const yr=()=>be||Ce;let Yf,Ki,Up="__VUE_INSTANCE_SETTERS__";(Ki=ph()[Up])||(Ki=ph()[Up]=[]),Ki.push(e=>be=e),Yf=e=>{Ki.length>1?Ki.forEach(t=>t(e)):Ki[0](e)};const Jr=e=>{Yf(e),e.scope.on()},Br=()=>{be&&be.scope.off(),Yf(null)};function oy(e){return e.vnode.shapeFlag&4}let ys=!1;function ay(e,t=!1){ys=t;const{props:n,children:r}=e.vnode,i=oy(e);A0(e,n,i,t),C0(e,r);const s=i?$0(e,t):void 0;return ys=!1,s}function $0(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=pa(new Proxy(e.ctx,_h));const{setup:r}=n;if(r){const i=e.setupContext=r.length>1?cy(e):null;Jr(e),Ms();const s=cr(r,e,0,[e.props,i]);if(ks(),Br(),bf(s)){if(s.then(Br,Br),t)return s.then(o=>{Ah(e,o,t)}).catch(o=>{Li(o,e,0)});e.asyncDep=s}else Ah(e,s,t)}else ly(e,t)}function Ah(e,t,n){Et(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Jt(t)&&(e.setupState=Vf(t)),ly(e,n)}let $l,Rh;function H0(e){$l=e,Rh=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,i0))}}const K0=()=>!$l;function ly(e,t,n){const r=e.type;if(!e.render){if(!t&&$l&&!r.render){const i=r.template||Wf(e).template;if(i){const{isCustomElement:s,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=r,c=ee(ee({isCustomElement:s,delimiters:a},o),l);r.render=$l(i,c)}}e.render=r.render||Mn,Rh&&Rh(e)}Jr(e),Ms(),E0(e),ks(),Br()}function W0(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return cn(e,"get","$attrs"),t[n]}}))}function cy(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return W0(e)},slots:e.slots,emit:e.emit,expose:t}}function Vc(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Vf(pa(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in vo)return vo[n](e)},has(t,n){return n in t||n in vo}}))}function Ph(e,t=!0){return Et(e)?e.displayName||e.name:e.name||t&&e.__name}function G0(e){return Et(e)&&"__vccOpts"in e}const pn=(e,t)=>ww(e,t,ys);function Lc(e,t,n){const r=arguments.length;return r===2?Jt(t)&&!st(t)?Xr(t)?Gt(e,null,[t]):Gt(e,t):Gt(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Xr(n)&&(n=[n]),Gt(e,t,n))}const uy=Symbol.for("v-scx"),hy=()=>wn(uy);function z0(){}function Q0(e,t,n,r){const i=n[r];if(i&&fy(i,e))return i;const s=t();return s.memo=e.slice(),n[r]=s}function fy(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(gs(n[r],t[r]))return!1;return Pi>0&&an&&an.push(e),!0}const dy="3.3.4",Y0={createComponentInstance:sy,setupComponent:ay,renderComponentRoot:_l,setCurrentRenderingInstance:Bo,isVNode:Xr,normalizeVNode:dn},X0=Y0,J0=null,q0=null,Z0="http://www.w3.org/2000/svg",pi=typeof document<"u"?document:null,jp=pi&&pi.createElement("template"),tb={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?pi.createElementNS(Z0,e):pi.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>pi.createTextNode(e),createComment:e=>pi.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>pi.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,s){const o=n?n.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{jp.innerHTML=r?`<svg>${e}</svg>`:e;const a=jp.content;if(r){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function eb(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function nb(e,t,n){const r=e.style,i=he(n);if(n&&!i){if(t&&!he(t))for(const s in t)n[s]==null&&Ch(r,s,"");for(const s in n)Ch(r,s,n[s])}else{const s=r.display;i?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=s)}}const Bp=/\s*!important$/;function Ch(e,t,n){if(st(n))n.forEach(r=>Ch(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=rb(e,t);Bp.test(n)?e.setProperty(Tn(r),n.replace(Bp,""),"important"):e[r]=n}}const $p=["Webkit","Moz","ms"],xu={};function rb(e,t){const n=xu[t];if(n)return n;let r=ln(t);if(r!=="filter"&&r in e)return xu[t]=r;r=fa(r);for(let i=0;i<$p.length;i++){const s=$p[i]+r;if(s in e)return xu[t]=s}return t}const Hp="http://www.w3.org/1999/xlink";function ib(e,t,n,r,i){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Hp,t.slice(6,t.length)):e.setAttributeNS(Hp,t,n);else{const s=MI(t);n==null||s&&!Zm(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function sb(e,t,n,r,i,s,o){if(t==="innerHTML"||t==="textContent"){r&&o(r,i,s),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=n;const c=a==="OPTION"?e.getAttribute("value"):e.value,u=n??"";c!==u&&(e.value=u),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=Zm(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function nr(e,t,n,r){e.addEventListener(t,n,r)}function ob(e,t,n,r){e.removeEventListener(t,n,r)}function ab(e,t,n,r,i=null){const s=e._vei||(e._vei={}),o=s[t];if(r&&o)o.value=r;else{const[a,l]=lb(t);if(r){const c=s[t]=hb(r,i);nr(e,a,c,l)}else o&&(ob(e,a,o,l),s[t]=void 0)}}const Kp=/(?:Once|Passive|Capture)$/;function lb(e){let t;if(Kp.test(e)){t={};let r;for(;r=e.match(Kp);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Tn(e.slice(2)),t]}let Ou=0;const cb=Promise.resolve(),ub=()=>Ou||(cb.then(()=>Ou=0),Ou=Date.now());function hb(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;vn(fb(r,n.value),t,5,[r])};return n.value=e,n.attached=ub(),n}function fb(e,t){if(st(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const Wp=/^on[a-z]/,db=(e,t,n,r,i=!1,s,o,a,l)=>{t==="class"?eb(e,r,i):t==="style"?nb(e,n,r):ha(t)?If(t)||ab(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):pb(e,t,r,i))?sb(e,t,r,s,o,a,l):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),ib(e,t,r,i))};function pb(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&Wp.test(t)&&Et(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Wp.test(t)&&he(n)?!1:t in e}function py(e,t){const n=_a(e);class r extends Fc{constructor(s){super(n,s,t)}}return r.def=n,r}const gb=e=>py(e,Cy),mb=typeof HTMLElement<"u"?HTMLElement:class{};class Fc extends mb{constructor(t,n={},r){super(),this._def=t,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,ga(()=>{this._connected||(Dh(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}).observe(this,{attributes:!0});const t=(r,i=!1)=>{const{props:s,styles:o}=r;let a;if(s&&!st(s))for(const l in s){const c=s[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=Ll(this._props[l])),(a||(a=Object.create(null)))[ln(l)]=!0)}this._numberProps=a,i&&this._resolveProps(r),this._applyStyles(o),this._update()},n=this._def.__asyncLoader;n?n().then(r=>t(r,!0)):t(this._def)}_resolveProps(t){const{props:n}=t,r=st(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of r.map(ln))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(s){this._setProp(i,s)}})}_setAttr(t){let n=this.getAttribute(t);const r=ln(t);this._numberProps&&this._numberProps[r]&&(n=Ll(n)),this._setProp(r,n,!1)}_getProp(t){return this._props[t]}_setProp(t,n,r=!0,i=!0){n!==this._props[t]&&(this._props[t]=n,i&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(Tn(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Tn(t),n+""):n||this.removeAttribute(Tn(t))))}_update(){Dh(this._createVNode(),this.shadowRoot)}_createVNode(){const t=Gt(this._def,ee({},this._props));return this._instance||(t.ce=n=>{this._instance=n,n.isCE=!0;const r=(s,o)=>{this.dispatchEvent(new CustomEvent(s,{detail:o}))};n.emit=(s,...o)=>{r(s,o),Tn(s)!==s&&r(Tn(s),o)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof Fc){n.parent=i._instance,n.provides=i._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}function vb(e="$style"){{const t=yr();if(!t)return Xt;const n=t.type.__cssModules;if(!n)return Xt;const r=n[e];return r||Xt}}function yb(e){const t=yr();if(!t)return;const n=t.ut=(i=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(s=>Oh(s,i))},r=()=>{const i=e(t.proxy);xh(t.subTree,i),n(i)};Av(r),Ia(()=>{const i=new MutationObserver(r);i.observe(t.subTree.el.parentNode,{childList:!0}),Mc(()=>i.disconnect())})}function xh(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{xh(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)Oh(e.el,t);else if(e.type===we)e.children.forEach(n=>xh(n,t));else if(e.type===Ti){let{el:n,anchor:r}=e;for(;n&&(Oh(n,t),n!==r);)n=n.nextSibling}}function Oh(e,t){if(e.nodeType===1){const n=e.style;for(const r in t)n.setProperty(`--${r}`,t[r])}}const wr="transition",Ks="animation",Xf=(e,{slots:t})=>Lc(Pv,my(e),t);Xf.displayName="Transition";const gy={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Eb=Xf.props=ee({},$f,gy),ai=(e,t=[])=>{st(e)?e.forEach(n=>n(...t)):e&&e(...t)},Gp=e=>e?st(e)?e.some(t=>t.length>1):e.length>1:!1;function my(e){const t={};for(const F in e)F in gy||(t[F]=e[F]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=e,p=_b(i),m=p&&p[0],y=p&&p[1],{onBeforeEnter:v,onEnter:g,onEnterCancelled:I,onLeave:E,onLeaveCancelled:w,onBeforeAppear:S=v,onAppear:O=g,onAppearCancelled:A=I}=t,b=(F,k,D)=>{Ar(F,k?u:a),Ar(F,k?c:o),D&&D()},x=(F,k)=>{F._isLeaving=!1,Ar(F,h),Ar(F,d),Ar(F,f),k&&k()},L=F=>(k,D)=>{const tt=F?O:g,U=()=>b(k,F,D);ai(tt,[k,U]),zp(()=>{Ar(k,F?l:s),tr(k,F?u:a),Gp(tt)||Qp(k,r,m,U)})};return ee(t,{onBeforeEnter(F){ai(v,[F]),tr(F,s),tr(F,o)},onBeforeAppear(F){ai(S,[F]),tr(F,l),tr(F,c)},onEnter:L(!1),onAppear:L(!0),onLeave(F,k){F._isLeaving=!0;const D=()=>x(F,k);tr(F,h),yy(),tr(F,f),zp(()=>{F._isLeaving&&(Ar(F,h),tr(F,d),Gp(E)||Qp(F,r,y,D))}),ai(E,[F,D])},onEnterCancelled(F){b(F,!1),ai(I,[F])},onAppearCancelled(F){b(F,!0),ai(A,[F])},onLeaveCancelled(F){x(F),ai(w,[F])}})}function _b(e){if(e==null)return null;if(Jt(e))return[Du(e.enter),Du(e.leave)];{const t=Du(e);return[t,t]}}function Du(e){return Ll(e)}function tr(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function Ar(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function zp(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Tb=0;function Qp(e,t,n,r){const i=e._endId=++Tb,s=()=>{i===e._endId&&r()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=vy(e,t);if(!o)return r();const c=o+"end";let u=0;const h=()=>{e.removeEventListener(c,f),s()},f=d=>{d.target===e&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},a+1),e.addEventListener(c,f)}function vy(e,t){const n=window.getComputedStyle(e),r=p=>(n[p]||"").split(", "),i=r(`${wr}Delay`),s=r(`${wr}Duration`),o=Yp(i,s),a=r(`${Ks}Delay`),l=r(`${Ks}Duration`),c=Yp(a,l);let u=null,h=0,f=0;t===wr?o>0&&(u=wr,h=o,f=s.length):t===Ks?c>0&&(u=Ks,h=c,f=l.length):(h=Math.max(o,c),u=h>0?o>c?wr:Ks:null,f=u?u===wr?s.length:l.length:0);const d=u===wr&&/\b(transform|all)(,|$)/.test(r(`${wr}Property`).toString());return{type:u,timeout:h,propCount:f,hasTransform:d}}function Yp(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>Xp(n)+Xp(e[r])))}function Xp(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function yy(){return document.body.offsetHeight}const Ey=new WeakMap,_y=new WeakMap,Ty={name:"TransitionGroup",props:ee({},Eb,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=yr(),r=Bf();let i,s;return Dc(()=>{if(!i.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!Rb(i[0].el,n.vnode.el,o))return;i.forEach(bb),i.forEach(Sb);const a=i.filter(Ab);yy(),a.forEach(l=>{const c=l.el,u=c.style;tr(c,o),u.transform=u.webkitTransform=u.transitionDuration="";const h=c._moveCb=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",h),c._moveCb=null,Ar(c,o))};c.addEventListener("transitionend",h)})}),()=>{const o=Vt(e),a=my(o);let l=o.tag||we;i=s,s=t.default?xc(t.default()):[];for(let c=0;c<s.length;c++){const u=s[c];u.key!=null&&Ai(u,ms(u,a,r,n))}if(i)for(let c=0;c<i.length;c++){const u=i[c];Ai(u,ms(u,a,r,n)),Ey.set(u,u.el.getBoundingClientRect())}return Gt(l,null,s)}}},Ib=e=>delete e.mode;Ty.props;const wb=Ty;function bb(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function Sb(e){_y.set(e,e.el.getBoundingClientRect())}function Ab(e){const t=Ey.get(e),n=_y.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const s=e.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",e}}function Rb(e,t,n){const r=e.cloneNode();e._vtc&&e._vtc.forEach(o=>{o.split(/\s+/).forEach(a=>a&&r.classList.remove(a))}),n.split(/\s+/).forEach(o=>o&&r.classList.add(o)),r.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(r);const{hasTransform:s}=vy(r);return i.removeChild(r),s}const qr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return st(t)?n=>as(t,n):t};function Pb(e){e.target.composing=!0}function Jp(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Nn={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e._assign=qr(i);const s=r||i.props&&i.props.type==="number";nr(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),s&&(a=Vl(a)),e._assign(a)}),n&&nr(e,"change",()=>{e.value=e.value.trim()}),t||(nr(e,"compositionstart",Pb),nr(e,"compositionend",Jp),nr(e,"change",Jp))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:i}},s){if(e._assign=qr(s),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(i||e.type==="number")&&Vl(e.value)===t))return;const o=t??"";e.value!==o&&(e.value=o)}},Jf={deep:!0,created(e,t,n){e._assign=qr(n),nr(e,"change",()=>{const r=e._modelValue,i=Es(e),s=e.checked,o=e._assign;if(st(r)){const a=Tc(r,i),l=a!==-1;if(s&&!l)o(r.concat(i));else if(!s&&l){const c=[...r];c.splice(a,1),o(c)}}else if(Vi(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(Iy(e,s))})},mounted:qp,beforeUpdate(e,t,n){e._assign=qr(n),qp(e,t,n)}};function qp(e,{value:t,oldValue:n},r){e._modelValue=t,st(t)?e.checked=Tc(t,r.props.value)>-1:Vi(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=Qr(t,Iy(e,!0)))}const qf={created(e,{value:t},n){e.checked=Qr(t,n.props.value),e._assign=qr(n),nr(e,"change",()=>{e._assign(Es(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=qr(r),t!==n&&(e.checked=Qr(t,r.props.value))}},Zf={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const i=Vi(t);nr(e,"change",()=>{const s=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?Vl(Es(o)):Es(o));e._assign(e.multiple?i?new Set(s):s:s[0])}),e._assign=qr(r)},mounted(e,{value:t}){Zp(e,t)},beforeUpdate(e,t,n){e._assign=qr(n)},updated(e,{value:t}){Zp(e,t)}};function Zp(e,t){const n=e.multiple;if(!(n&&!st(t)&&!Vi(t))){for(let r=0,i=e.options.length;r<i;r++){const s=e.options[r],o=Es(s);if(n)st(t)?s.selected=Tc(t,o)>-1:s.selected=t.has(o);else if(Qr(Es(s),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Es(e){return"_value"in e?e._value:e.value}function Iy(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const wy={created(e,t,n){rl(e,t,n,null,"created")},mounted(e,t,n){rl(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){rl(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){rl(e,t,n,r,"updated")}};function by(e,t){switch(e){case"SELECT":return Zf;case"TEXTAREA":return Nn;default:switch(t){case"checkbox":return Jf;case"radio":return qf;default:return Nn}}}function rl(e,t,n,r,i){const o=by(e.tagName,n.props&&n.props.type)[i];o&&o(e,t,n,r)}function Cb(){Nn.getSSRProps=({value:e})=>({value:e}),qf.getSSRProps=({value:e},t)=>{if(t.props&&Qr(t.props.value,e))return{checked:!0}},Jf.getSSRProps=({value:e},t)=>{if(st(e)){if(t.props&&Tc(e,t.props.value)>-1)return{checked:!0}}else if(Vi(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},wy.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const n=by(t.type.toUpperCase(),t.props&&t.props.type);if(n.getSSRProps)return n.getSSRProps(e,t)}}const xb=["ctrl","shift","alt","meta"],Ob={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>xb.some(n=>e[`${n}Key`]&&!t.includes(n))},Wo=(e,t)=>(n,...r)=>{for(let i=0;i<t.length;i++){const s=Ob[t[i]];if(s&&s(n,t))return}return e(n,...r)},Db={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Nb=(e,t)=>n=>{if(!("key"in n))return;const r=Tn(n.key);if(t.some(i=>i===r||Db[i]===r))return e(n)},Sy={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Ws(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Ws(e,!0),r.enter(e)):r.leave(e,()=>{Ws(e,!1)}):Ws(e,t))},beforeUnmount(e,{value:t}){Ws(e,t)}};function Ws(e,t){e.style.display=t?e._vod:"none"}function Mb(){Sy.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const Ay=ee({patchProp:db},tb);let To,tg=!1;function Ry(){return To||(To=Xv(Ay))}function Py(){return To=tg?To:Jv(Ay),tg=!0,To}const Dh=(...e)=>{Ry().render(...e)},Cy=(...e)=>{Py().hydrate(...e)},xy=(...e)=>{const t=Ry().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=Oy(r);if(!i)return;const s=t._component;!Et(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t},kb=(...e)=>{const t=Py().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=Oy(r);if(i)return n(i,!0,i instanceof SVGElement)},t};function Oy(e){return he(e)?document.querySelector(e):e}let eg=!1;const Vb=()=>{eg||(eg=!0,Cb(),Mb())},Lb=()=>{},Fb=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Pv,BaseTransitionPropsValidators:$f,Comment:We,EffectScope:Af,Fragment:we,KeepAlive:Yw,ReactiveEffect:da,Static:Ti,Suspense:Lw,Teleport:V0,Text:Ri,Transition:Xf,TransitionGroup:wb,VueElement:Fc,assertNumber:Sw,callWithAsyncErrorHandling:vn,callWithErrorHandling:cr,camelize:ln,capitalize:fa,cloneVNode:Qn,compatUtils:q0,compile:Lb,computed:pn,createApp:xy,createBlock:vs,createCommentVNode:Vr,createElementBlock:Pe,createElementVNode:nt,createHydrationRenderer:Jv,createPropsRestProxy:v0,createRenderer:Xv,createSSRApp:kb,createSlots:e0,createStaticVNode:U0,createTextVNode:wa,createVNode:Gt,customRef:yw,defineAsyncComponent:zw,defineComponent:_a,defineCustomElement:py,defineEmits:o0,defineExpose:a0,defineModel:u0,defineOptions:l0,defineProps:s0,defineSSRCustomElement:gb,defineSlots:c0,get devtools(){return Xi},effect:FI,effectScope:Rf,getCurrentInstance:yr,getCurrentScope:Pf,getTransitionRawChildren:xc,guardReactiveProps:ry,h:Lc,handleError:Li,hasInjectionContext:Kv,hydrate:Cy,initCustomFormatter:z0,initDirectivesForSSR:Vb,inject:wn,isMemoSame:fy,isProxy:Nf,isReactive:ar,isReadonly:Si,isRef:de,isRuntimeOnly:K0,isShallow:Lo,isVNode:Xr,markRaw:pa,mergeDefaults:g0,mergeModels:m0,mergeProps:iy,nextTick:ga,normalizeClass:zr,normalizeProps:DI,normalizeStyle:Ns,onActivated:xv,onBeforeMount:Nv,onBeforeUnmount:Nc,onBeforeUpdate:Mv,onDeactivated:Ov,onErrorCaptured:Fv,onMounted:Ia,onRenderTracked:Lv,onRenderTriggered:Vv,onScopeDispose:nv,onServerPrefetch:kv,onUnmounted:Mc,onUpdated:Dc,openBlock:ue,popScopeId:va,provide:yo,proxyRefs:Vf,pushScopeId:ma,queuePostFlushCb:Ff,reactive:Vs,readonly:Df,ref:lr,registerRuntimeCompiler:H0,render:Dh,renderList:t0,renderSlot:n0,resolveComponent:On,resolveDirective:Zw,resolveDynamicComponent:qw,resolveFilter:J0,resolveTransitionHooks:ms,setBlockTracking:Sh,setDevtoolsHook:Iv,setTransitionHooks:Ai,shallowReactive:Of,shallowReadonly:fw,shallowRef:gv,ssrContextKey:uy,ssrUtils:X0,stop:UI,toDisplayString:gn,toHandlerKey:mo,toHandlers:r0,toRaw:Vt,toRef:Tw,toRefs:vv,toValue:gw,transformVNodeArgs:L0,triggerRef:pw,unref:jr,useAttrs:d0,useCssModule:vb,useCssVars:yb,useModel:p0,useSSRContext:hy,useSlots:f0,useTransitionState:Bf,vModelCheckbox:Jf,vModelDynamic:wy,vModelRadio:qf,vModelSelect:Zf,vModelText:Nn,vShow:Sy,version:dy,warn:bw,watch:ur,watchEffect:Hw,watchPostEffect:Av,watchSyncEffect:Kw,withAsyncContext:y0,withCtx:ya,withDefaults:h0,withDirectives:rr,withKeys:Nb,withMemo:Q0,withModifiers:Wo,withScopeId:Ow},Symbol.toStringTag,{value:"Module"})),qn=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},Ub={};function jb(e,t){const n=On("router-view");return ue(),vs(n)}const Bb=qn(Ub,[["render",jb]]);/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Ji=typeof window<"u";function $b(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Qt=Object.assign;function Nu(e,t){const n={};for(const r in t){const i=t[r];n[r]=kn(i)?i.map(e):e(i)}return n}const Io=()=>{},kn=Array.isArray,Hb=/\/$/,Kb=e=>e.replace(Hb,"");function Mu(e,t,n="/"){let r,i={},s="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),s=t.slice(l+1,a>-1?a:t.length),i=e(s)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=Qb(r??t,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:o}}function Wb(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function ng(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Gb(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&_s(t.matched[r],n.matched[i])&&Dy(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function _s(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Dy(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!zb(e[n],t[n]))return!1;return!0}function zb(e,t){return kn(e)?rg(e,t):kn(t)?rg(t,e):e===t}function rg(e,t){return kn(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function Qb(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var Go;(function(e){e.pop="pop",e.push="push"})(Go||(Go={}));var wo;(function(e){e.back="back",e.forward="forward",e.unknown=""})(wo||(wo={}));function Yb(e){if(!e)if(Ji){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Kb(e)}const Xb=/^[^#]+#/;function Jb(e,t){return e.replace(Xb,"#")+t}function qb(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Uc=()=>({left:window.pageXOffset,top:window.pageYOffset});function Zb(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=qb(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function ig(e,t){return(history.state?history.state.position-t:-1)+e}const Nh=new Map;function tS(e,t){Nh.set(e,t)}function eS(e){const t=Nh.get(e);return Nh.delete(e),t}let nS=()=>location.protocol+"//"+location.host;function Ny(e,t){const{pathname:n,search:r,hash:i}=t,s=e.indexOf("#");if(s>-1){let a=i.includes(e.slice(s))?e.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),ng(l,"")}return ng(n,e)+r+i}function rS(e,t,n,r){let i=[],s=[],o=null;const a=({state:f})=>{const d=Ny(e,location),p=n.value,m=t.value;let y=0;if(f){if(n.value=d,t.value=f,o&&o===p){o=null;return}y=m?f.position-m.position:0}else r(d);i.forEach(v=>{v(n.value,p,{delta:y,type:Go.pop,direction:y?y>0?wo.forward:wo.back:wo.unknown})})};function l(){o=n.value}function c(f){i.push(f);const d=()=>{const p=i.indexOf(f);p>-1&&i.splice(p,1)};return s.push(d),d}function u(){const{history:f}=window;f.state&&f.replaceState(Qt({},f.state,{scroll:Uc()}),"")}function h(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function sg(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?Uc():null}}function iS(e){const{history:t,location:n}=window,r={value:Ny(e,n)},i={value:t.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,c,u){const h=e.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+l:nS()+e+l;try{t[u?"replaceState":"pushState"](c,"",f),i.value=c}catch(d){console.error(d),n[u?"replace":"assign"](f)}}function o(l,c){const u=Qt({},t.state,sg(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});s(l,u,!0),r.value=l}function a(l,c){const u=Qt({},i.value,t.state,{forward:l,scroll:Uc()});s(u.current,u,!0);const h=Qt({},sg(r.value,l,null),{position:u.position+1},c);s(l,h,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function sS(e){e=Yb(e);const t=iS(e),n=rS(e,t.state,t.location,t.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=Qt({location:"",base:e,go:r,createHref:Jb.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function oS(e){return typeof e=="string"||e&&typeof e=="object"}function My(e){return typeof e=="string"||typeof e=="symbol"}const br={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},ky=Symbol("");var og;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(og||(og={}));function Ts(e,t){return Qt(new Error,{type:e,[ky]:!0},t)}function Zn(e,t){return e instanceof Error&&ky in e&&(t==null||!!(e.type&t))}const ag="[^/]+?",aS={sensitive:!1,strict:!1,start:!0,end:!0},lS=/[.+*?^${}()[\]/\\]/g;function cS(e,t){const n=Qt({},aS,t),r=[];let i=n.start?"^":"";const s=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let h=0;h<c.length;h++){const f=c[h];let d=40+(n.sensitive?.25:0);if(f.type===0)h||(i+="/"),i+=f.value.replace(lS,"\\$&"),d+=40;else if(f.type===1){const{value:p,repeatable:m,optional:y,regexp:v}=f;s.push({name:p,repeatable:m,optional:y});const g=v||ag;if(g!==ag){d+=10;try{new RegExp(`(${g})`)}catch(E){throw new Error(`Invalid custom RegExp for param "${p}" (${g}): `+E.message)}}let I=m?`((?:${g})(?:/(?:${g}))*)`:`(${g})`;h||(I=y&&c.length<2?`(?:/${I})`:"/"+I),y&&(I+="?"),i+=I,d+=20,y&&(d+=-8),m&&(d+=-20),g===".*"&&(d+=-50)}u.push(d)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const d=u[f]||"",p=s[f-1];h[p.name]=d&&p.repeatable?d.split("/"):d}return h}function l(c){let u="",h=!1;for(const f of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const d of f)if(d.type===0)u+=d.value;else if(d.type===1){const{value:p,repeatable:m,optional:y}=d,v=p in c?c[p]:"";if(kn(v)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const g=kn(v)?v.join("/"):v;if(!g)if(y)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${p}"`);u+=g}}return u||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function uS(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function hS(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const s=uS(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(lg(r))return 1;if(lg(i))return-1}return i.length-r.length}function lg(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const fS={type:0,value:""},dS=/[a-zA-Z0-9_]/;function pS(e){if(!e)return[[]];if(e==="/")return[[fS]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(d){throw new Error(`ERR (${n})/"${c}": ${d}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,c="",u="";function h(){c&&(n===0?s.push({type:0,value:c}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:dS.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),h(),o(),i}function gS(e,t,n){const r=cS(pS(e.path),n),i=Qt(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function mS(e,t){const n=[],r=new Map;t=hg({strict:!1,end:!0,sensitive:!1},t);function i(u){return r.get(u)}function s(u,h,f){const d=!f,p=vS(u);p.aliasOf=f&&f.record;const m=hg(t,u),y=[p];if("alias"in u){const I=typeof u.alias=="string"?[u.alias]:u.alias;for(const E of I)y.push(Qt({},p,{components:f?f.record.components:p.components,path:E,aliasOf:f?f.record:p}))}let v,g;for(const I of y){const{path:E}=I;if(h&&E[0]!=="/"){const w=h.record.path,S=w[w.length-1]==="/"?"":"/";I.path=h.record.path+(E&&S+E)}if(v=gS(I,h,m),f?f.alias.push(v):(g=g||v,g!==v&&g.alias.push(v),d&&u.name&&!ug(v)&&o(u.name)),p.children){const w=p.children;for(let S=0;S<w.length;S++)s(w[S],v,f&&f.children[S])}f=f||v,(v.record.components&&Object.keys(v.record.components).length||v.record.name||v.record.redirect)&&l(v)}return g?()=>{o(g)}:Io}function o(u){if(My(u)){const h=r.get(u);h&&(r.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&r.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let h=0;for(;h<n.length&&hS(u,n[h])>=0&&(u.record.path!==n[h].record.path||!Vy(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!ug(u)&&r.set(u.record.name,u)}function c(u,h){let f,d={},p,m;if("name"in u&&u.name){if(f=r.get(u.name),!f)throw Ts(1,{location:u});m=f.record.name,d=Qt(cg(h.params,f.keys.filter(g=>!g.optional).map(g=>g.name)),u.params&&cg(u.params,f.keys.map(g=>g.name))),p=f.stringify(d)}else if("path"in u)p=u.path,f=n.find(g=>g.re.test(p)),f&&(d=f.parse(p),m=f.record.name);else{if(f=h.name?r.get(h.name):n.find(g=>g.re.test(h.path)),!f)throw Ts(1,{location:u,currentLocation:h});m=f.record.name,d=Qt({},h.params,u.params),p=f.stringify(d)}const y=[];let v=f;for(;v;)y.unshift(v.record),v=v.parent;return{name:m,path:p,params:d,matched:y,meta:ES(y)}}return e.forEach(u=>s(u)),{addRoute:s,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function cg(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function vS(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:yS(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function yS(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function ug(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function ES(e){return e.reduce((t,n)=>Qt(t,n.meta),{})}function hg(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Vy(e,t){return t.children.some(n=>n===e||Vy(e,n))}const Ly=/#/g,_S=/&/g,TS=/\//g,IS=/=/g,wS=/\?/g,Fy=/\+/g,bS=/%5B/g,SS=/%5D/g,Uy=/%5E/g,AS=/%60/g,jy=/%7B/g,RS=/%7C/g,By=/%7D/g,PS=/%20/g;function td(e){return encodeURI(""+e).replace(RS,"|").replace(bS,"[").replace(SS,"]")}function CS(e){return td(e).replace(jy,"{").replace(By,"}").replace(Uy,"^")}function Mh(e){return td(e).replace(Fy,"%2B").replace(PS,"+").replace(Ly,"%23").replace(_S,"%26").replace(AS,"`").replace(jy,"{").replace(By,"}").replace(Uy,"^")}function xS(e){return Mh(e).replace(IS,"%3D")}function OS(e){return td(e).replace(Ly,"%23").replace(wS,"%3F")}function DS(e){return e==null?"":OS(e).replace(TS,"%2F")}function Hl(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function NS(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(Fy," "),o=s.indexOf("="),a=Hl(o<0?s:s.slice(0,o)),l=o<0?null:Hl(s.slice(o+1));if(a in t){let c=t[a];kn(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function fg(e){let t="";for(let n in e){const r=e[n];if(n=xS(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(kn(r)?r.map(s=>s&&Mh(s)):[r&&Mh(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function MS(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=kn(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const kS=Symbol(""),dg=Symbol(""),ed=Symbol(""),nd=Symbol(""),kh=Symbol("");function Gs(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Cr(e,t,n,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((o,a)=>{const l=h=>{h===!1?a(Ts(4,{from:n,to:t})):h instanceof Error?a(h):oS(h)?a(Ts(2,{from:t,to:h})):(s&&r.enterCallbacks[i]===s&&typeof h=="function"&&s.push(h),o())},c=e.call(r&&r.instances[i],t,n,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch(h=>a(h))})}function ku(e,t,n,r){const i=[];for(const s of e)for(const o in s.components){let a=s.components[o];if(!(t!=="beforeRouteEnter"&&!s.instances[o]))if(VS(a)){const c=(a.__vccOpts||a)[t];c&&i.push(Cr(c,n,r,s,o))}else{let l=a();i.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const u=$b(c)?c.default:c;s.components[o]=u;const f=(u.__vccOpts||u)[t];return f&&Cr(f,n,r,s,o)()}))}}return i}function VS(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function pg(e){const t=wn(ed),n=wn(nd),r=pn(()=>t.resolve(jr(e.to))),i=pn(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(_s.bind(null,u));if(f>-1)return f;const d=gg(l[c-2]);return c>1&&gg(u)===d&&h[h.length-1].path!==d?h.findIndex(_s.bind(null,l[c-2])):f}),s=pn(()=>i.value>-1&&jS(n.params,r.value.params)),o=pn(()=>i.value>-1&&i.value===n.matched.length-1&&Dy(n.params,r.value.params));function a(l={}){return US(l)?t[jr(e.replace)?"replace":"push"](jr(e.to)).catch(Io):Promise.resolve()}return{route:r,href:pn(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}const LS=_a({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:pg,setup(e,{slots:t}){const n=Vs(pg(e)),{options:r}=wn(ed),i=pn(()=>({[mg(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[mg(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:Lc("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),FS=LS;function US(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function jS(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!kn(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function gg(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const mg=(e,t,n)=>e??t??n,BS=_a({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=wn(kh),i=pn(()=>e.route||r.value),s=wn(dg,0),o=pn(()=>{let c=jr(s);const{matched:u}=i.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=pn(()=>i.value.matched[o.value]);yo(dg,pn(()=>o.value+1)),yo(kS,a),yo(kh,i);const l=lr();return ur(()=>[l.value,a.value,e.name],([c,u,h],[f,d,p])=>{u&&(u.instances[h]=c,d&&d!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=d.leaveGuards),u.updateGuards.size||(u.updateGuards=d.updateGuards))),c&&u&&(!d||!_s(u,d)||!f)&&(u.enterCallbacks[h]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=i.value,u=e.name,h=a.value,f=h&&h.components[u];if(!f)return vg(n.default,{Component:f,route:c});const d=h.props[u],p=d?d===!0?c.params:typeof d=="function"?d(c):d:null,y=Lc(f,Qt({},p,t,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return vg(n.default,{Component:y,route:c})||y}}});function vg(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const $S=BS;function HS(e){const t=mS(e.routes,e),n=e.parseQuery||NS,r=e.stringifyQuery||fg,i=e.history,s=Gs(),o=Gs(),a=Gs(),l=gv(br);let c=br;Ji&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Nu.bind(null,M=>""+M),h=Nu.bind(null,DS),f=Nu.bind(null,Hl);function d(M,J){let G,it;return My(M)?(G=t.getRecordMatcher(M),it=J):it=M,t.addRoute(it,G)}function p(M){const J=t.getRecordMatcher(M);J&&t.removeRoute(J)}function m(){return t.getRoutes().map(M=>M.record)}function y(M){return!!t.getRecordMatcher(M)}function v(M,J){if(J=Qt({},J||l.value),typeof M=="string"){const R=Mu(n,M,J.path),V=t.resolve({path:R.path},J),j=i.createHref(R.fullPath);return Qt(R,V,{params:f(V.params),hash:Hl(R.hash),redirectedFrom:void 0,href:j})}let G;if("path"in M)G=Qt({},M,{path:Mu(n,M.path,J.path).path});else{const R=Qt({},M.params);for(const V in R)R[V]==null&&delete R[V];G=Qt({},M,{params:h(R)}),J.params=h(J.params)}const it=t.resolve(G,J),Ot=M.hash||"";it.params=u(f(it.params));const _=Wb(r,Qt({},M,{hash:CS(Ot),path:it.path})),T=i.createHref(_);return Qt({fullPath:_,hash:Ot,query:r===fg?MS(M.query):M.query||{}},it,{redirectedFrom:void 0,href:T})}function g(M){return typeof M=="string"?Mu(n,M,l.value.path):Qt({},M)}function I(M,J){if(c!==M)return Ts(8,{from:J,to:M})}function E(M){return O(M)}function w(M){return E(Qt(g(M),{replace:!0}))}function S(M){const J=M.matched[M.matched.length-1];if(J&&J.redirect){const{redirect:G}=J;let it=typeof G=="function"?G(M):G;return typeof it=="string"&&(it=it.includes("?")||it.includes("#")?it=g(it):{path:it},it.params={}),Qt({query:M.query,hash:M.hash,params:"path"in it?{}:M.params},it)}}function O(M,J){const G=c=v(M),it=l.value,Ot=M.state,_=M.force,T=M.replace===!0,R=S(G);if(R)return O(Qt(g(R),{state:typeof R=="object"?Qt({},Ot,R.state):Ot,force:_,replace:T}),J||G);const V=G;V.redirectedFrom=J;let j;return!_&&Gb(r,it,G)&&(j=Ts(16,{to:V,from:it}),$t(it,it,!0,!1)),(j?Promise.resolve(j):x(V,it)).catch(B=>Zn(B)?Zn(B,2)?B:qt(B):ot(B,V,it)).then(B=>{if(B){if(Zn(B,2))return O(Qt({replace:T},g(B.to),{state:typeof B.to=="object"?Qt({},Ot,B.to.state):Ot,force:_}),J||V)}else B=F(V,it,!0,T,Ot);return L(V,it,B),B})}function A(M,J){const G=I(M,J);return G?Promise.reject(G):Promise.resolve()}function b(M){const J=ne.values().next().value;return J&&typeof J.runWithContext=="function"?J.runWithContext(M):M()}function x(M,J){let G;const[it,Ot,_]=KS(M,J);G=ku(it.reverse(),"beforeRouteLeave",M,J);for(const R of it)R.leaveGuards.forEach(V=>{G.push(Cr(V,M,J))});const T=A.bind(null,M,J);return G.push(T),xt(G).then(()=>{G=[];for(const R of s.list())G.push(Cr(R,M,J));return G.push(T),xt(G)}).then(()=>{G=ku(Ot,"beforeRouteUpdate",M,J);for(const R of Ot)R.updateGuards.forEach(V=>{G.push(Cr(V,M,J))});return G.push(T),xt(G)}).then(()=>{G=[];for(const R of _)if(R.beforeEnter)if(kn(R.beforeEnter))for(const V of R.beforeEnter)G.push(Cr(V,M,J));else G.push(Cr(R.beforeEnter,M,J));return G.push(T),xt(G)}).then(()=>(M.matched.forEach(R=>R.enterCallbacks={}),G=ku(_,"beforeRouteEnter",M,J),G.push(T),xt(G))).then(()=>{G=[];for(const R of o.list())G.push(Cr(R,M,J));return G.push(T),xt(G)}).catch(R=>Zn(R,8)?R:Promise.reject(R))}function L(M,J,G){a.list().forEach(it=>b(()=>it(M,J,G)))}function F(M,J,G,it,Ot){const _=I(M,J);if(_)return _;const T=J===br,R=Ji?history.state:{};G&&(it||T?i.replace(M.fullPath,Qt({scroll:T&&R&&R.scroll},Ot)):i.push(M.fullPath,Ot)),l.value=M,$t(M,J,G,T),qt()}let k;function D(){k||(k=i.listen((M,J,G)=>{if(!re.listening)return;const it=v(M),Ot=S(it);if(Ot){O(Qt(Ot,{replace:!0}),it).catch(Io);return}c=it;const _=l.value;Ji&&tS(ig(_.fullPath,G.delta),Uc()),x(it,_).catch(T=>Zn(T,12)?T:Zn(T,2)?(O(T.to,it).then(R=>{Zn(R,20)&&!G.delta&&G.type===Go.pop&&i.go(-1,!1)}).catch(Io),Promise.reject()):(G.delta&&i.go(-G.delta,!1),ot(T,it,_))).then(T=>{T=T||F(it,_,!1),T&&(G.delta&&!Zn(T,8)?i.go(-G.delta,!1):G.type===Go.pop&&Zn(T,20)&&i.go(-1,!1)),L(it,_,T)}).catch(Io)}))}let tt=Gs(),U=Gs(),Y;function ot(M,J,G){qt(M);const it=U.list();return it.length?it.forEach(Ot=>Ot(M,J,G)):console.error(M),Promise.reject(M)}function Ut(){return Y&&l.value!==br?Promise.resolve():new Promise((M,J)=>{tt.add([M,J])})}function qt(M){return Y||(Y=!M,D(),tt.list().forEach(([J,G])=>M?G(M):J()),tt.reset()),M}function $t(M,J,G,it){const{scrollBehavior:Ot}=e;if(!Ji||!Ot)return Promise.resolve();const _=!G&&eS(ig(M.fullPath,0))||(it||!G)&&history.state&&history.state.scroll||null;return ga().then(()=>Ot(M,J,_)).then(T=>T&&Zb(T)).catch(T=>ot(T,M,J))}const Nt=M=>i.go(M);let Zt;const ne=new Set,re={currentRoute:l,listening:!0,addRoute:d,removeRoute:p,hasRoute:y,getRoutes:m,resolve:v,options:e,push:E,replace:w,go:Nt,back:()=>Nt(-1),forward:()=>Nt(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:U.add,isReady:Ut,install(M){const J=this;M.component("RouterLink",FS),M.component("RouterView",$S),M.config.globalProperties.$router=J,Object.defineProperty(M.config.globalProperties,"$route",{enumerable:!0,get:()=>jr(l)}),Ji&&!Zt&&l.value===br&&(Zt=!0,E(i.location).catch(Ot=>{}));const G={};for(const Ot in br)Object.defineProperty(G,Ot,{get:()=>l.value[Ot],enumerable:!0});M.provide(ed,J),M.provide(nd,Of(G)),M.provide(kh,l);const it=M.unmount;ne.add(M),M.unmount=function(){ne.delete(M),ne.size<1&&(c=br,k&&k(),k=null,l.value=br,Zt=!1,Y=!1),it()}}};function xt(M){return M.reduce((J,G)=>J.then(()=>b(G)),Promise.resolve())}return re}function KS(e,t){const n=[],r=[],i=[],s=Math.max(t.matched.length,e.matched.length);for(let o=0;o<s;o++){const a=t.matched[o];a&&(e.matched.find(c=>_s(c,a))?r.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(c=>_s(c,l))||i.push(l))}return[n,r,i]}function WS(){return wn(nd)}const GS={},zS=e=>(ma("data-v-c97b8476"),e=e(),va(),e),QS={class:"spinner__container"},YS=zS(()=>nt("div",{class:"spinner"},[nt("div",{class:"spinner__text"},"Loading...")],-1)),XS=[YS];function JS(e,t){return ue(),Pe("div",QS,XS)}const qS=qn(GS,[["render",JS],["__scopeId","data-v-c97b8476"]]);var ZS=!1;/*!
  * pinia v2.1.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let $y;const jc=e=>$y=e,Hy=Symbol();function Vh(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var bo;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(bo||(bo={}));function tA(){const e=Rf(!0),t=e.run(()=>lr({}));let n=[],r=[];const i=pa({install(s){jc(i),i._a=s,s.provide(Hy,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return!this._a&&!ZS?r.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}const Ky=()=>{};function yg(e,t,n,r=Ky){e.push(t);const i=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),r())};return!n&&Pf()&&nv(i),i}function Wi(e,...t){e.slice().forEach(n=>{n(...t)})}const eA=e=>e();function Lh(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],i=e[n];Vh(i)&&Vh(r)&&e.hasOwnProperty(n)&&!de(r)&&!ar(r)?e[n]=Lh(i,r):e[n]=r}return e}const nA=Symbol();function rA(e){return!Vh(e)||!e.hasOwnProperty(nA)}const{assign:Rr}=Object;function iA(e){return!!(de(e)&&e.effect)}function sA(e,t,n,r){const{state:i,actions:s,getters:o}=t,a=n.state.value[e];let l;function c(){a||(n.state.value[e]=i?i():{});const u=vv(n.state.value[e]);return Rr(u,s,Object.keys(o||{}).reduce((h,f)=>(h[f]=pa(pn(()=>{jc(n);const d=n._s.get(e);return o[f].call(d,d)})),h),{}))}return l=Wy(e,c,t,n,r,!0),l}function Wy(e,t,n={},r,i,s){let o;const a=Rr({actions:{}},n),l={deep:!0};let c,u,h=[],f=[],d;const p=r.state.value[e];!s&&!p&&(r.state.value[e]={}),lr({});let m;function y(A){let b;c=u=!1,typeof A=="function"?(A(r.state.value[e]),b={type:bo.patchFunction,storeId:e,events:d}):(Lh(r.state.value[e],A),b={type:bo.patchObject,payload:A,storeId:e,events:d});const x=m=Symbol();ga().then(()=>{m===x&&(c=!0)}),u=!0,Wi(h,b,r.state.value[e])}const v=s?function(){const{state:b}=n,x=b?b():{};this.$patch(L=>{Rr(L,x)})}:Ky;function g(){o.stop(),h=[],f=[],r._s.delete(e)}function I(A,b){return function(){jc(r);const x=Array.from(arguments),L=[],F=[];function k(U){L.push(U)}function D(U){F.push(U)}Wi(f,{args:x,name:A,store:w,after:k,onError:D});let tt;try{tt=b.apply(this&&this.$id===e?this:w,x)}catch(U){throw Wi(F,U),U}return tt instanceof Promise?tt.then(U=>(Wi(L,U),U)).catch(U=>(Wi(F,U),Promise.reject(U))):(Wi(L,tt),tt)}}const E={_p:r,$id:e,$onAction:yg.bind(null,f),$patch:y,$reset:v,$subscribe(A,b={}){const x=yg(h,A,b.detached,()=>L()),L=o.run(()=>ur(()=>r.state.value[e],F=>{(b.flush==="sync"?u:c)&&A({storeId:e,type:bo.direct,events:d},F)},Rr({},l,b)));return x},$dispose:g},w=Vs(E);r._s.set(e,w);const S=r._a&&r._a.runWithContext||eA,O=r._e.run(()=>(o=Rf(),S(()=>o.run(t))));for(const A in O){const b=O[A];if(de(b)&&!iA(b)||ar(b))s||(p&&rA(b)&&(de(b)?b.value=p[A]:Lh(b,p[A])),r.state.value[e][A]=b);else if(typeof b=="function"){const x=I(A,b);O[A]=x,a.actions[A]=b}}return Rr(w,O),Rr(Vt(w),O),Object.defineProperty(w,"$state",{get:()=>r.state.value[e],set:A=>{y(b=>{Rr(b,A)})}}),r._p.forEach(A=>{Rr(w,o.run(()=>A({store:w,app:r._a,pinia:r,options:a})))}),p&&s&&n.hydrate&&n.hydrate(w.$state,p),c=!0,u=!0,w}function oA(e,t,n){let r,i;const s=typeof t=="function";typeof e=="string"?(r=e,i=s?n:t):(i=e,r=e.id);function o(a,l){const c=Kv();return a=a||(c?wn(Hy,null):null),a&&jc(a),a=$y,a._s.has(r)||(s?Wy(r,t,i,a):sA(r,i,a)),a._s.get(r)}return o.$id=r,o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},aA=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},zy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,c=l?e[i+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,d=c&63;l||(d=64,o||(f=64)),r.push(n[u],n[h],n[f],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Gy(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):aA(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const c=i<e.length?n[e.charAt(i)]:64;++i;const h=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new lA;const f=s<<2|a>>4;if(r.push(f),c!==64){const d=a<<4&240|c>>2;if(r.push(d),h!==64){const p=c<<6&192|h;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class lA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cA=function(e){const t=Gy(e);return zy.encodeByteArray(t,!0)},Kl=function(e){return cA(e).replace(/\./g,"")},Qy=function(e){try{return zy.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=()=>uA().__FIREBASE_DEFAULTS__,fA=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},dA=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Qy(e[1]);return t&&JSON.parse(t)},rd=()=>{try{return hA()||fA()||dA()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Yy=e=>{var t,n;return(n=(t=rd())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},pA=e=>{const t=Yy(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Xy=()=>{var e;return(e=rd())===null||e===void 0?void 0:e.config},Jy=e=>{var t;return(t=rd())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[Kl(JSON.stringify(n)),Kl(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qe())}function yA(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function EA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _A(){const e=Qe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function TA(){try{return typeof indexedDB=="object"}catch{return!1}}function IA(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="FirebaseError";class Er extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=wA,Object.setPrototypeOf(this,Er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ba.prototype.create)}}class ba{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?bA(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Er(i,a,r)}}function bA(e,t){return e.replace(SA,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const SA=/\{\$([^}]+)}/g;function AA(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Wl(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(Eg(s)&&Eg(o)){if(!Wl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Eg(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function no(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function ro(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function RA(e,t){const n=new PA(e,t);return n.subscribe.bind(n)}class PA{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");CA(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=Vu),i.error===void 0&&(i.error=Vu),i.complete===void 0&&(i.complete=Vu);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CA(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Vu(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(e){return e&&e._delegate?e._delegate:e}class Ci{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new gA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(DA(t))try{this.getOrInitializeService({instanceIdentifier:ui})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=ui){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ui){return this.instances.has(t)}getOptions(t=ui){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:OA(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ui){return this.component?this.component.multipleInstances?t:ui:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OA(e){return e===ui?void 0:e}function DA(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new xA(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ft||(Ft={}));const MA={debug:Ft.DEBUG,verbose:Ft.VERBOSE,info:Ft.INFO,warn:Ft.WARN,error:Ft.ERROR,silent:Ft.SILENT},kA=Ft.INFO,VA={[Ft.DEBUG]:"log",[Ft.VERBOSE]:"log",[Ft.INFO]:"info",[Ft.WARN]:"warn",[Ft.ERROR]:"error"},LA=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=VA[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class id{constructor(t){this.name=t,this._logLevel=kA,this._logHandler=LA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ft))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?MA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ft.DEBUG,...t),this._logHandler(this,Ft.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ft.VERBOSE,...t),this._logHandler(this,Ft.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ft.INFO,...t),this._logHandler(this,Ft.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ft.WARN,...t),this._logHandler(this,Ft.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ft.ERROR,...t),this._logHandler(this,Ft.ERROR,...t)}}const FA=(e,t)=>t.some(n=>e instanceof n);let _g,Tg;function UA(){return _g||(_g=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jA(){return Tg||(Tg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qy=new WeakMap,Fh=new WeakMap,Zy=new WeakMap,Lu=new WeakMap,sd=new WeakMap;function BA(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n($r(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&qy.set(n,e)}).catch(()=>{}),sd.set(t,e),t}function $A(e){if(Fh.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Fh.set(e,t)}let Uh={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Fh.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Zy.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $r(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function HA(e){Uh=e(Uh)}function KA(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Fu(this),t,...n);return Zy.set(r,t.sort?t.sort():[t]),$r(r)}:jA().includes(e)?function(...t){return e.apply(Fu(this),t),$r(qy.get(this))}:function(...t){return $r(e.apply(Fu(this),t))}}function WA(e){return typeof e=="function"?KA(e):(e instanceof IDBTransaction&&$A(e),FA(e,UA())?new Proxy(e,Uh):e)}function $r(e){if(e instanceof IDBRequest)return BA(e);if(Lu.has(e))return Lu.get(e);const t=WA(e);return t!==e&&(Lu.set(e,t),sd.set(t,e)),t}const Fu=e=>sd.get(e);function GA(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=$r(o);return r&&o.addEventListener("upgradeneeded",l=>{r($r(o.result),l.oldVersion,l.newVersion,$r(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const zA=["get","getKey","getAll","getAllKeys","count"],QA=["put","add","delete","clear"],Uu=new Map;function Ig(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Uu.get(t))return Uu.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=QA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||zA.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Uu.set(t,s),s}HA(e=>({...e,get:(t,n,r)=>Ig(t,n)||e.get(t,n,r),has:(t,n)=>!!Ig(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function XA(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const jh="@firebase/app",wg="0.9.20";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new id("@firebase/app"),JA="@firebase/app-compat",qA="@firebase/analytics-compat",ZA="@firebase/analytics",tR="@firebase/app-check-compat",eR="@firebase/app-check",nR="@firebase/auth",rR="@firebase/auth-compat",iR="@firebase/database",sR="@firebase/database-compat",oR="@firebase/functions",aR="@firebase/functions-compat",lR="@firebase/installations",cR="@firebase/installations-compat",uR="@firebase/messaging",hR="@firebase/messaging-compat",fR="@firebase/performance",dR="@firebase/performance-compat",pR="@firebase/remote-config",gR="@firebase/remote-config-compat",mR="@firebase/storage",vR="@firebase/storage-compat",yR="@firebase/firestore",ER="@firebase/firestore-compat",_R="firebase",TR="10.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh="[DEFAULT]",IR={[jh]:"fire-core",[JA]:"fire-core-compat",[ZA]:"fire-analytics",[qA]:"fire-analytics-compat",[eR]:"fire-app-check",[tR]:"fire-app-check-compat",[nR]:"fire-auth",[rR]:"fire-auth-compat",[iR]:"fire-rtdb",[sR]:"fire-rtdb-compat",[oR]:"fire-fn",[aR]:"fire-fn-compat",[lR]:"fire-iid",[cR]:"fire-iid-compat",[uR]:"fire-fcm",[hR]:"fire-fcm-compat",[fR]:"fire-perf",[dR]:"fire-perf-compat",[pR]:"fire-rc",[gR]:"fire-rc-compat",[mR]:"fire-gcs",[vR]:"fire-gcs-compat",[yR]:"fire-fst",[ER]:"fire-fst-compat","fire-js":"fire-js",[_R]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=new Map,$h=new Map;function wR(e,t){try{e.container.addComponent(t)}catch(n){xi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Is(e){const t=e.name;if($h.has(t))return xi.debug(`There were multiple attempts to register component ${t}.`),!1;$h.set(t,e);for(const n of Gl.values())wR(n,e);return!0}function od(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Hr=new ba("app","Firebase",bR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ci("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=TR;function tE(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Bh,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Hr.create("bad-app-name",{appName:String(i)});if(n||(n=Xy()),!n)throw Hr.create("no-options");const s=Gl.get(i);if(s){if(Wl(n,s.options)&&Wl(r,s.config))return s;throw Hr.create("duplicate-app",{appName:i})}const o=new NA(i);for(const l of $h.values())o.addComponent(l);const a=new SR(n,r,o);return Gl.set(i,a),a}function eE(e=Bh){const t=Gl.get(e);if(!t&&e===Bh&&Xy())return tE();if(!t)throw Hr.create("no-app",{appName:e});return t}function Kr(e,t,n){var r;let i=(r=IR[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),xi.warn(a.join(" "));return}Is(new Ci(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="firebase-heartbeat-database",RR=1,zo="firebase-heartbeat-store";let ju=null;function nE(){return ju||(ju=GA(AR,RR,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(zo)}}}).catch(e=>{throw Hr.create("idb-open",{originalErrorMessage:e.message})})),ju}async function PR(e){try{return await(await nE()).transaction(zo).objectStore(zo).get(rE(e))}catch(t){if(t instanceof Er)xi.warn(t.message);else{const n=Hr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});xi.warn(n.message)}}}async function bg(e,t){try{const r=(await nE()).transaction(zo,"readwrite");await r.objectStore(zo).put(t,rE(e)),await r.done}catch(n){if(n instanceof Er)xi.warn(n.message);else{const r=Hr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xi.warn(r.message)}}}function rE(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=1024,xR=30*24*60*60*1e3;class OR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new NR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Sg();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=xR}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Sg(),{heartbeatsToSend:n,unsentEntries:r}=DR(this._heartbeatsCache.heartbeats),i=Kl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Sg(){return new Date().toISOString().substring(0,10)}function DR(e,t=CR){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Ag(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ag(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class NR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TA()?IA().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await PR(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return bg(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return bg(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Ag(e){return Kl(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(e){Is(new Ci("platform-logger",t=>new YA(t),"PRIVATE")),Is(new Ci("heartbeat",t=>new OR(t),"PRIVATE")),Kr(jh,wg,e),Kr(jh,wg,"esm2017"),Kr("fire-js","")}MR("");function ad(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Rg(e){return e!==void 0&&e.enterprise!==void 0}class kR{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}function iE(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VR=iE,sE=new ba("auth","Firebase",iE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=new id("@firebase/auth");function LR(e,...t){zl.logLevel<=Ft.WARN&&zl.warn(`Auth (${Ls}): ${e}`,...t)}function Il(e,...t){zl.logLevel<=Ft.ERROR&&zl.error(`Auth (${Ls}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(e,...t){throw ld(e,...t)}function Hn(e,...t){return ld(e,...t)}function FR(e,t,n){const r=Object.assign(Object.assign({},VR()),{[t]:n});return new ba("auth","Firebase",r).create(t,{appName:e.name})}function ld(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return sE.create(e,...t)}function Tt(e,t,...n){if(!e)throw ld(t,...n)}function ir(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Il(t),new Error(t)}function dr(e,t){e||ir(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function UR(){return Pg()==="http:"||Pg()==="https:"}function Pg(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UR()||yA()||"connection"in navigator)?navigator.onLine:!0}function BR(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(t,n){this.shortDelay=t,this.longDelay=n,dr(n>t,"Short delay should be less than long delay!"),this.isMobile=vA()||EA()}get(){return jR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(e,t){dr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=new Aa(3e4,6e4);function Fi(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ui(e,t,n,r,i={}){return aE(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=Sa(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),oE.fetch()(lE(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},s))})}async function aE(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},$R),t);try{const i=new KR(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw il(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw il(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw il(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw il(e,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw FR(e,u,c);Vn(e,u)}}catch(i){if(i instanceof Er)throw i;Vn(e,"network-request-failed",{message:String(i)})}}async function Ra(e,t,n,r,i={}){const s=await Ui(e,t,n,r,i);return"mfaPendingCredential"in s&&Vn(e,"multi-factor-auth-required",{_serverResponse:s}),s}function lE(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?cd(e.config,i):`${e.config.apiScheme}://${i}`}class KR{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hn(this.auth,"network-request-failed")),HR.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function il(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Hn(e,t,r);return i.customData._tokenResponse=n,i}async function WR(e,t){return Ui(e,"GET","/v2/recaptchaConfig",Fi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(e,t){return Ui(e,"POST","/v1/accounts:delete",t)}async function zR(e,t){return Ui(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function QR(e,t=!1){const n=Ye(e),r=await n.getIdToken(t),i=ud(r);Tt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:So(Bu(i.auth_time)),issuedAtTime:So(Bu(i.iat)),expirationTime:So(Bu(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Bu(e){return Number(e)*1e3}function ud(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Il("JWT malformed, contained fewer than 3 sections"),null;try{const i=Qy(n);return i?JSON.parse(i):(Il("Failed to decode base64 JWT payload"),null)}catch(i){return Il("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function YR(e){const t=ud(e);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Er&&XR(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function XR({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=So(this.lastLoginAt),this.creationTime=So(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Qo(e,zR(n,{idToken:r}));Tt(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?tP(s.providerUserInfo):[],a=ZR(e.providerData,o),l=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new cE(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,h)}async function qR(e){const t=Ye(e);await Ql(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ZR(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function tP(e){return e.map(t=>{var{providerId:n}=t,r=ad(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eP(e,t){const n=await aE(e,{},async()=>{const r=Sa({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=lE(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",oE.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):YR(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return Tt(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await eP(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Yo;return r&&(Tt(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(Tt(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(Tt(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Yo,this.toJSON())}_performRefresh(){return ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(e,t){Tt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Ii{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=ad(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new JR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new cE(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await Qo(this,this.stsTokenManager.getToken(this.auth,t));return Tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return QR(this,t)}reload(){return qR(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ii(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Ql(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await Qo(this,GR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,a,l,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,d=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,g=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:I,emailVerified:E,isAnonymous:w,providerData:S,stsTokenManager:O}=n;Tt(I&&O,t,"internal-error");const A=Yo.fromJSON(this.name,O);Tt(typeof I=="string",t,"internal-error"),Sr(h,t.name),Sr(f,t.name),Tt(typeof E=="boolean",t,"internal-error"),Tt(typeof w=="boolean",t,"internal-error"),Sr(d,t.name),Sr(p,t.name),Sr(m,t.name),Sr(y,t.name),Sr(v,t.name),Sr(g,t.name);const b=new Ii({uid:I,auth:t,email:f,emailVerified:E,displayName:h,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:m,stsTokenManager:A,createdAt:v,lastLoginAt:g});return S&&Array.isArray(S)&&(b.providerData=S.map(x=>Object.assign({},x))),y&&(b._redirectEventId=y),b}static async _fromIdTokenResponse(t,n,r=!1){const i=new Yo;i.updateFromServerResponse(n);const s=new Ii({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await Ql(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg=new Map;function sr(e){dr(e instanceof Function,"Expected a class definition");let t=Cg.get(e);return t?(dr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Cg.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}uE.type="NONE";const xg=uE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(e,t,n){return`firebase:${e}:${t}:${n}`}class us{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=wl(this.userKey,i.apiKey,s),this.fullPersistenceKey=wl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Ii._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new us(sr(xg),t,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||sr(xg);const o=wl(r,t.config.apiKey,t.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=Ii._fromJSON(t,u);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new us(s,t,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new us(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(dE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(hE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(gE(t))return"Blackberry";if(mE(t))return"Webos";if(hd(t))return"Safari";if((t.includes("chrome/")||fE(t))&&!t.includes("edge/"))return"Chrome";if(pE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function hE(e=Qe()){return/firefox\//i.test(e)}function hd(e=Qe()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function fE(e=Qe()){return/crios\//i.test(e)}function dE(e=Qe()){return/iemobile/i.test(e)}function pE(e=Qe()){return/android/i.test(e)}function gE(e=Qe()){return/blackberry/i.test(e)}function mE(e=Qe()){return/webos/i.test(e)}function Bc(e=Qe()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function nP(e=Qe()){var t;return Bc(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function rP(){return _A()&&document.documentMode===10}function vE(e=Qe()){return Bc(e)||pE(e)||mE(e)||gE(e)||/windows phone/i.test(e)||dE(e)}function iP(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(e,t=[]){let n;switch(e){case"Browser":n=Og(Qe());break;case"Worker":n=`${Og(Qe())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ls}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const l=t(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oP(e,t={}){return Ui(e,"GET","/v2/passwordPolicy",Fi(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=6;class lP{constructor(t){var n,r,i,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:aP,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dg(this),this.idTokenSubscription=new Dg(this),this.beforeStateQueue=new sP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=sr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await us.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Ql(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=BR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?Ye(t):null;return n&&Tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(sr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await oP(this),n=new lP(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new ba("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&sr(t)||this._popupRedirectResolver;Tt(n,this,"argument-error"),this.redirectPersistenceManager=await us.create(this,[sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=t.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=yE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&LR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ji(e){return Ye(e)}class Dg{constructor(t){this.auth=t,this.observer=null,this.addObserver=RA(n=>this.observer=n)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function EE(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=Hn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",uP().appendChild(r)})}function hP(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const fP="https://www.google.com/recaptcha/enterprise.js?render=",dP="recaptcha-enterprise",pP="NO_RECAPTCHA";class gP{constructor(t){this.type=dP,this.auth=ji(t)}async verify(t="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{WR(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new kR(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Rg(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:t}).then(c=>{o(c)}).catch(()=>{o(pP)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Rg(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}EE(fP+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function Yl(e,t,n,r=!1){const i=new gP(e);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(e,t){const n=od(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Wl(s,t??{}))return i;Vn(i,"already-initialized")}return n.initialize({options:t})}function vP(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(sr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function yP(e,t,n){const r=ji(e);Tt(r._canInitEmulator,r,"emulator-config-failed"),Tt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=_E(t),{host:o,port:a}=EP(t),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||_P()}function _E(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function EP(e){const t=_E(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Ng(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Ng(o)}}}function Ng(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function _P(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ir("not implemented")}_getIdTokenResponse(t){return ir("not implemented")}_linkToIdToken(t,n){return ir("not implemented")}_getReauthenticationResolver(t){return ir("not implemented")}}async function TP(e,t){return Ui(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $u(e,t){return Ra(e,"POST","/v1/accounts:signInWithPassword",Fi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IP(e,t){return Ra(e,"POST","/v1/accounts:signInWithEmailLink",Fi(e,t))}async function wP(e,t){return Ra(e,"POST","/v1/accounts:signInWithEmailLink",Fi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends fd{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new Xo(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Xo(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=t._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await Yl(t,r,"signInWithPassword");return $u(t,i)}else return $u(t,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await Yl(t,r,"signInWithPassword");return $u(t,s)}else return Promise.reject(i)});case"emailLink":return IP(t,{email:this._email,oobCode:this._password});default:Vn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":return TP(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return wP(t,{idToken:n,email:this._email,oobCode:this._password});default:Vn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hs(e,t){return Ra(e,"POST","/v1/accounts:signInWithIdp",Fi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP="http://localhost";class Oi extends fd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Oi(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Vn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=ad(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Oi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return hs(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,hs(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,hs(t,n)}buildRequest(){const t={requestUri:bP,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Sa(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function AP(e){const t=no(ro(e)).link,n=t?no(ro(t)).deep_link_id:null,r=no(ro(e)).deep_link_id;return(r?no(ro(r)).link:null)||r||n||t||e}class dd{constructor(t){var n,r,i,s,o,a;const l=no(ro(t)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=SP((i=l.mode)!==null&&i!==void 0?i:null);Tt(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){const n=AP(t);try{return new dd(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(){this.providerId=Fs.PROVIDER_ID}static credential(t,n){return Xo._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=dd.parseLink(n);return Tt(r,"argument-error"),Xo._fromEmailAndCode(t,r.code,r.tenantId)}}Fs.PROVIDER_ID="password";Fs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends TE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends Pa{constructor(){super("facebook.com")}static credential(t){return Oi._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Or.credentialFromTaggedObject(t)}static credentialFromError(t){return Or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Or.credential(t.oauthAccessToken)}catch{return null}}}Or.FACEBOOK_SIGN_IN_METHOD="facebook.com";Or.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends Pa{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Oi._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Dr.credentialFromTaggedObject(t)}static credentialFromError(t){return Dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Dr.credential(n,r)}catch{return null}}}Dr.GOOGLE_SIGN_IN_METHOD="google.com";Dr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Pa{constructor(){super("github.com")}static credential(t){return Oi._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Nr.credentialFromTaggedObject(t)}static credentialFromError(t){return Nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Nr.credential(t.oauthAccessToken)}catch{return null}}}Nr.GITHUB_SIGN_IN_METHOD="github.com";Nr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends Pa{constructor(){super("twitter.com")}static credential(t,n){return Oi._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Mr.credentialFromTaggedObject(t)}static credentialFromError(t){return Mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Mr.credential(n,r)}catch{return null}}}Mr.TWITTER_SIGN_IN_METHOD="twitter.com";Mr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hu(e,t){return Ra(e,"POST","/v1/accounts:signUp",Fi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await Ii._fromIdTokenResponse(t,r,i),o=Mg(r);return new Di({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=Mg(r);return new Di({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function Mg(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends Er{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Xl.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new Xl(t,n,r,i)}}function IE(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Xl._fromErrorAndOperation(e,s,t,r):s})}async function RP(e,t,n=!1){const r=await Qo(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Di._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PP(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await Qo(e,IE(r,i,t,e),n);Tt(s.idToken,r,"internal-error");const o=ud(s.idToken);Tt(o,r,"internal-error");const{sub:a}=o;return Tt(e.uid===a,r,"user-mismatch"),Di._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Vn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wE(e,t,n=!1){const r="signIn",i=await IE(e,r,t),s=await Di._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function CP(e,t){return wE(ji(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bE(e){const t=ji(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function xP(e,t,n){var r;const i=ji(e),s={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const c=await Yl(i,s,"signUpPassword");o=Hu(i,c)}else o=Hu(i,s).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const u=await Yl(i,s,"signUpPassword");return Hu(i,u)}throw c});const a=await o.catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&bE(e),c}),l=await Di._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function OP(e,t,n){return CP(Ye(e),Fs.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&bE(e),r})}function DP(e,t,n,r){return Ye(e).onIdTokenChanged(t,n,r)}function NP(e,t,n){return Ye(e).beforeAuthStateChanged(t,n)}const Jl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jl,"1"),this.storage.removeItem(Jl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(){const e=Qe();return hd(e)||Bc(e)}const kP=1e3,VP=10;class AE extends SE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=MP()&&iP(),this.fallbackToPolling=vE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);rP()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,VP):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},kP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}AE.type="LOCAL";const LP=AE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE extends SE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}RE.type="SESSION";const PE=RE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new $c(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await FP(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$c.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=pd("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(){return window}function jP(e){Kn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(){return typeof Kn().WorkerGlobalScope<"u"&&typeof Kn().importScripts=="function"}async function BP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $P(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function HP(){return CE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="firebaseLocalStorageDb",KP=1,ql="firebaseLocalStorage",OE="fbase_key";class Ca{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hc(e,t){return e.transaction([ql],t?"readwrite":"readonly").objectStore(ql)}function WP(){const e=indexedDB.deleteDatabase(xE);return new Ca(e).toPromise()}function Kh(){const e=indexedDB.open(xE,KP);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(ql,{keyPath:OE})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(ql)?t(r):(r.close(),await WP(),t(await Kh()))})})}async function kg(e,t,n){const r=Hc(e,!0).put({[OE]:t,value:n});return new Ca(r).toPromise()}async function GP(e,t){const n=Hc(e,!1).get(t),r=await new Ca(n).toPromise();return r===void 0?null:r.value}function Vg(e,t){const n=Hc(e,!0).delete(t);return new Ca(n).toPromise()}const zP=800,QP=3;class DE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kh(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>QP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$c._getInstance(HP()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await BP(),!this.activeServiceWorker)return;this.sender=new UP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||$P()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Kh();return await kg(t,Jl,"1"),await Vg(t,Jl),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>kg(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>GP(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Vg(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=Hc(i,!1).getAll();return new Ca(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DE.type="LOCAL";const YP=DE;new Aa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(e,t){return t?sr(t):(Tt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd extends fd{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return hs(t,this._buildIdpRequest())}_linkToIdToken(t,n){return hs(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return hs(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function JP(e){return wE(e.auth,new gd(e),e.bypassAuthState)}function qP(e){const{auth:t,user:n}=e;return Tt(n,t,"internal-error"),PP(n,new gd(e),e.bypassAuthState)}async function ZP(e){const{auth:t,user:n}=e;return Tt(n,t,"internal-error"),RP(n,new gd(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return JP;case"linkViaPopup":case"linkViaRedirect":return ZP;case"reauthViaPopup":case"reauthViaRedirect":return qP;default:Vn(this.auth,"internal-error")}}resolve(t){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=new Aa(2e3,1e4);class ns extends NE{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ns.currentPopupAction&&ns.currentPopupAction.cancel(),ns.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){dr(this.filter.length===1,"Popup operations only handle one event");const t=pd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ns.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,tC.get())};t()}}ns.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="pendingRedirect",bl=new Map;class nC extends NE{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=bl.get(this.auth._key());if(!t){try{const r=await rC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}bl.set(this.auth._key(),t)}return this.bypassAuthState||bl.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rC(e,t){const n=oC(t),r=sC(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function iC(e,t){bl.set(e._key(),t)}function sC(e){return sr(e._redirectPersistence)}function oC(e){return wl(eC,e.config.apiKey,e.name)}async function aC(e,t,n=!1){const r=ji(e),i=XP(r,t),o=await new nC(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=10*60*1e3;class cC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!uC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!ME(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hn(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=lC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lg(t))}saveEventToCache(t){this.cachedEventUids.add(Lg(t)),this.lastProcessedEventTime=Date.now()}}function Lg(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function ME({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function uC(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ME(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hC(e,t={}){return Ui(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dC=/^https?/;async function pC(e){if(e.config.emulator)return;const{authorizedDomains:t}=await hC(e);for(const n of t)try{if(gC(n))return}catch{}Vn(e,"unauthorized-domain")}function gC(e){const t=Hh(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!dC.test(n))return!1;if(fC.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=new Aa(3e4,6e4);function Fg(){const e=Kn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function vC(e){return new Promise((t,n)=>{var r,i,s;function o(){Fg(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Fg(),n(Hn(e,"network-request-failed"))},timeout:mC.get()})}if(!((i=(r=Kn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=Kn().gapi)===null||s===void 0)&&s.load)o();else{const a=hP("iframefcb");return Kn()[a]=()=>{gapi.load?o():n(Hn(e,"network-request-failed"))},EE(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw Sl=null,t})}let Sl=null;function yC(e){return Sl=Sl||vC(e),Sl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=new Aa(5e3,15e3),_C="__/auth/iframe",TC="emulator/auth/iframe",IC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bC(e){const t=e.config;Tt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?cd(t,TC):`https://${e.config.authDomain}/${_C}`,r={apiKey:t.apiKey,appName:e.name,v:Ls},i=wC.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Sa(r).slice(1)}`}async function SC(e){const t=await yC(e),n=Kn().gapi;return Tt(n,e,"internal-error"),t.open({where:document.body,url:bC(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IC,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Hn(e,"network-request-failed"),a=Kn().setTimeout(()=>{s(o)},EC.get());function l(){Kn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RC=500,PC=600,CC="_blank",xC="http://localhost";class Ug{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OC(e,t,n,r=RC,i=PC){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},AC),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Qe().toLowerCase();n&&(a=fE(c)?CC:n),hE(c)&&(t=t||xC,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[d,p])=>`${f}${d}=${p},`,"");if(nP(c)&&a!=="_self")return DC(t||"",a),new Ug(null);const h=window.open(t||"",a,u);Tt(h,e,"popup-blocked");try{h.focus()}catch{}return new Ug(h)}function DC(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="__/auth/handler",MC="emulator/auth/handler",kC=encodeURIComponent("fac");async function jg(e,t,n,r,i,s){Tt(e.config.authDomain,e,"auth-domain-config-required"),Tt(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ls,eventId:i};if(t instanceof TE){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",AA(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,h]of Object.entries(s||{}))o[u]=h}if(t instanceof Pa){const u=t.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await e._getAppCheckToken(),c=l?`#${kC}=${encodeURIComponent(l)}`:"";return`${VC(e)}?${Sa(a).slice(1)}${c}`}function VC({config:e}){return e.emulator?cd(e,MC):`https://${e.authDomain}/${NC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku="webStorageSupport";class LC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PE,this._completeRedirectFn=aC,this._overrideRedirectResult=iC}async _openPopup(t,n,r,i){var s;dr((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await jg(t,n,r,Hh(),i);return OC(t,o,pd())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await jg(t,n,r,Hh(),i);return jP(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(dr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await SC(t),r=new cC(t);return n.register("authEvent",i=>(Tt(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Ku,{type:Ku},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Ku];o!==void 0&&n(!!o),Vn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return vE()||hd()||Bc()}}const FC=LC;var Bg="@firebase/auth",$g="1.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function BC(e){Is(new Ci("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Tt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yE(e)},c=new cP(r,i,s,l);return vP(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Is(new Ci("auth-internal",t=>{const n=ji(t.getProvider("auth").getImmediate());return(r=>new UC(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kr(Bg,$g,jC(e)),Kr(Bg,$g,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=5*60,HC=Jy("authIdTokenMaxAge")||$C;let Hg=null;const KC=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>HC)return;const i=n==null?void 0:n.token;Hg!==i&&(Hg=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function io(e=eE()){const t=od(e,"auth");if(t.isInitialized())return t.getImmediate();const n=mP(e,{popupRedirectResolver:FC,persistence:[YP,LP,PE]}),r=Jy("authTokenSyncURL");if(r){const s=KC(r);NP(n,s,()=>s(n.currentUser)),DP(n,o=>s(o))}const i=Yy("auth");return i&&yP(n,`http://${i}`),n}BC("Browser");var WC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Z,md=md||{},wt=WC||self;function Kc(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function xa(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function GC(e){return Object.prototype.hasOwnProperty.call(e,Wu)&&e[Wu]||(e[Wu]=++zC)}var Wu="closure_uid_"+(1e9*Math.random()>>>0),zC=0;function QC(e,t,n){return e.call.apply(e.bind,arguments)}function YC(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Ge(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ge=QC:Ge=YC,Ge.apply(null,arguments)}function sl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Oe(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function ri(){this.s=this.s,this.o=this.o}var XC=0;ri.prototype.s=!1;ri.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),XC!=0)&&GC(this)};ri.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kE=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function vd(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Kg(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Kc(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function ze(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ze.prototype.h=function(){this.defaultPrevented=!0};var JC=function(){if(!wt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{wt.addEventListener("test",()=>{},t),wt.removeEventListener("test",()=>{},t)}catch{}return e}();function Jo(e){return/^[\s\xa0]*$/.test(e)}function Wc(){var e=wt.navigator;return e&&(e=e.userAgent)?e:""}function jn(e){return Wc().indexOf(e)!=-1}function yd(e){return yd[" "](e),e}yd[" "]=function(){};function qC(e,t){var n=Kx;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var ZC=jn("Opera"),ws=jn("Trident")||jn("MSIE"),VE=jn("Edge"),Wh=VE||ws,LE=jn("Gecko")&&!(Wc().toLowerCase().indexOf("webkit")!=-1&&!jn("Edge"))&&!(jn("Trident")||jn("MSIE"))&&!jn("Edge"),tx=Wc().toLowerCase().indexOf("webkit")!=-1&&!jn("Edge");function FE(){var e=wt.document;return e?e.documentMode:void 0}var Gh;t:{var Gu="",zu=function(){var e=Wc();if(LE)return/rv:([^\);]+)(\)|;)/.exec(e);if(VE)return/Edge\/([\d\.]+)/.exec(e);if(ws)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(tx)return/WebKit\/(\S+)/.exec(e);if(ZC)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(zu&&(Gu=zu?zu[1]:""),ws){var Qu=FE();if(Qu!=null&&Qu>parseFloat(Gu)){Gh=String(Qu);break t}}Gh=Gu}var zh;if(wt.document&&ws){var Wg=FE();zh=Wg||parseInt(Gh,10)||void 0}else zh=void 0;var ex=zh;function qo(e,t){if(ze.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(LE){t:{try{yd(t.nodeName);var i=!0;break t}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:nx[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&qo.$.h.call(this)}}Oe(qo,ze);var nx={2:"touch",3:"pen",4:"mouse"};qo.prototype.h=function(){qo.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Oa="closure_listenable_"+(1e6*Math.random()|0),rx=0;function ix(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++rx,this.fa=this.ia=!1}function Gc(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Ed(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function sx(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function UE(e){const t={};for(const n in e)t[n]=e[n];return t}const Gg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jE(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<Gg.length;s++)n=Gg[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function zc(e){this.src=e,this.g={},this.h=0}zc.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=Yh(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new ix(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function Qh(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=kE(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Gc(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Yh(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var _d="closure_lm_"+(1e6*Math.random()|0),Yu={};function BE(e,t,n,r,i){if(r&&r.once)return HE(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)BE(e,t[s],n,r,i);return null}return n=wd(n),e&&e[Oa]?e.O(t,n,xa(r)?!!r.capture:!!r,i):$E(e,t,n,!1,r,i)}function $E(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=xa(i)?!!i.capture:!!i,a=Id(e);if(a||(e[_d]=a=new zc(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=ox(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)JC||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(WE(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function ox(){function e(n){return t.call(e.src,e.listener,n)}const t=ax;return e}function HE(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)HE(e,t[s],n,r,i);return null}return n=wd(n),e&&e[Oa]?e.P(t,n,xa(r)?!!r.capture:!!r,i):$E(e,t,n,!0,r,i)}function KE(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)KE(e,t[s],n,r,i);else r=xa(r)?!!r.capture:!!r,n=wd(n),e&&e[Oa]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Yh(s,n,r,i),-1<n&&(Gc(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=Id(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Yh(t,n,r,i)),(n=-1<e?t[e]:null)&&Td(n))}function Td(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[Oa])Qh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(WE(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Id(t))?(Qh(n,e),n.h==0&&(n.src=null,t[_d]=null)):Gc(e)}}}function WE(e){return e in Yu?Yu[e]:Yu[e]="on"+e}function ax(e,t){if(e.fa)e=!0;else{t=new qo(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Td(e),e=n.call(r,t)}return e}function Id(e){return e=e[_d],e instanceof zc?e:null}var Xu="__closure_events_fn_"+(1e9*Math.random()>>>0);function wd(e){return typeof e=="function"?e:(e[Xu]||(e[Xu]=function(t){return e.handleEvent(t)}),e[Xu])}function xe(){ri.call(this),this.i=new zc(this),this.S=this,this.J=null}Oe(xe,ri);xe.prototype[Oa]=!0;xe.prototype.removeEventListener=function(e,t,n,r){KE(this,e,t,n,r)};function Le(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new ze(t,e);else if(t instanceof ze)t.target=t.target||e;else{var i=t;t=new ze(r,e),jE(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ol(o,r,!0,t)&&i}if(o=t.g=e,i=ol(o,r,!0,t)&&i,i=ol(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=ol(o,r,!1,t)&&i}xe.prototype.N=function(){if(xe.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Gc(n[r]);delete e.g[t],e.h--}}this.J=null};xe.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};xe.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function ol(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Qh(e.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var bd=wt.JSON.stringify;class lx{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function cx(){var e=Sd;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class ux{constructor(){this.h=this.g=null}add(t,n){const r=GE.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var GE=new lx(()=>new hx,e=>e.reset());class hx{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function fx(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function dx(e){wt.setTimeout(()=>{throw e},0)}let Zo,ta=!1,Sd=new ux,zE=()=>{const e=wt.Promise.resolve(void 0);Zo=()=>{e.then(px)}};var px=()=>{for(var e;e=cx();){try{e.h.call(e.g)}catch(n){dx(n)}var t=GE;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ta=!1};function Qc(e,t){xe.call(this),this.h=e||1,this.g=t||wt,this.j=Ge(this.qb,this),this.l=Date.now()}Oe(Qc,xe);Z=Qc.prototype;Z.ga=!1;Z.T=null;Z.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Le(this,"tick"),this.ga&&(Ad(this),this.start()))}};Z.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ad(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}Z.N=function(){Qc.$.N.call(this),Ad(this),delete this.g};function Rd(e,t,n){if(typeof e=="function")n&&(e=Ge(e,n));else if(e&&typeof e.handleEvent=="function")e=Ge(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:wt.setTimeout(e,t||0)}function QE(e){e.g=Rd(()=>{e.g=null,e.i&&(e.i=!1,QE(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class gx extends ri{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:QE(this)}N(){super.N(),this.g&&(wt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ea(e){ri.call(this),this.h=e,this.g={}}Oe(ea,ri);var zg=[];function YE(e,t,n,r){Array.isArray(n)||(n&&(zg[0]=n.toString()),n=zg);for(var i=0;i<n.length;i++){var s=BE(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function XE(e){Ed(e.g,function(t,n){this.g.hasOwnProperty(n)&&Td(t)},e),e.g={}}ea.prototype.N=function(){ea.$.N.call(this),XE(this)};ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Yc(){this.g=!0}Yc.prototype.Ea=function(){this.g=!1};function mx(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function vx(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function rs(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+Ex(e,n)+(r?" "+r:"")})}function yx(e,t){e.info(function(){return"TIMEOUT: "+t})}Yc.prototype.info=function(){};function Ex(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return bd(n)}catch{return t}}var Bi={},Qg=null;function Xc(){return Qg=Qg||new xe}Bi.Ta="serverreachability";function JE(e){ze.call(this,Bi.Ta,e)}Oe(JE,ze);function na(e){const t=Xc();Le(t,new JE(t))}Bi.STAT_EVENT="statevent";function qE(e,t){ze.call(this,Bi.STAT_EVENT,e),this.stat=t}Oe(qE,ze);function Ze(e){const t=Xc();Le(t,new qE(t,e))}Bi.Ua="timingevent";function ZE(e,t){ze.call(this,Bi.Ua,e),this.size=t}Oe(ZE,ze);function Da(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return wt.setTimeout(function(){e()},t)}var Jc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},t_={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Pd(){}Pd.prototype.h=null;function Yg(e){return e.h||(e.h=e.i())}function e_(){}var Na={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Cd(){ze.call(this,"d")}Oe(Cd,ze);function xd(){ze.call(this,"c")}Oe(xd,ze);var Xh;function qc(){}Oe(qc,Pd);qc.prototype.g=function(){return new XMLHttpRequest};qc.prototype.i=function(){return{}};Xh=new qc;function Ma(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new ea(this),this.P=_x,e=Wh?125:void 0,this.V=new Qc(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new n_}function n_(){this.i=null,this.g="",this.h=!1}var _x=45e3,Jh={},Zl={};Z=Ma.prototype;Z.setTimeout=function(e){this.P=e};function qh(e,t,n){e.L=1,e.v=tu(pr(t)),e.s=n,e.S=!0,r_(e,null)}function r_(e,t){e.G=Date.now(),ka(e),e.A=pr(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),h_(n.i,"t",r),e.C=0,n=e.l.J,e.h=new n_,e.g=D_(e.l,n?t:null,!e.s),0<e.O&&(e.M=new gx(Ge(e.Pa,e,e.g),e.O)),YE(e.U,e.g,"readystatechange",e.nb),t=e.I?UE(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),na(),mx(e.j,e.u,e.A,e.m,e.W,e.s)}Z.nb=function(e){e=e.target;const t=this.M;t&&Bn(e)==3?t.l():this.Pa(e)};Z.Pa=function(e){try{if(e==this.g)t:{const u=Bn(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||Wh||this.g&&(this.h.h||this.g.ja()||Zg(this.g)))){this.J||u!=4||t==7||(t==8||0>=h?na(3):na(2)),Zc(this);var n=this.g.da();this.ca=n;e:if(i_(this)){var r=Zg(this.g);e="";var i=r.length,s=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mi(this),Ao(this);var o="";break e}this.h.i=new wt.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,vx(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jo(a)){var c=a;break e}}c=null}if(n=c)rs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zh(this,n);else{this.i=!1,this.o=3,Ze(12),mi(this),Ao(this);break t}}this.S?(s_(this,u,o),Wh&&this.i&&u==3&&(YE(this.U,this.V,"tick",this.mb),this.V.start())):(rs(this.j,this.m,o,null),Zh(this,o)),u==4&&mi(this),this.i&&!this.J&&(u==4?P_(this.l,this):(this.i=!1,ka(this)))}else Bx(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Ze(12)):(this.o=0,Ze(13)),mi(this),Ao(this)}}}catch{}finally{}};function i_(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function s_(e,t,n){let r=!0,i;for(;!e.J&&e.C<n.length;)if(i=Tx(e,n),i==Zl){t==4&&(e.o=4,Ze(14),r=!1),rs(e.j,e.m,null,"[Incomplete Response]");break}else if(i==Jh){e.o=4,Ze(15),rs(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else rs(e.j,e.m,i,null),Zh(e,i);i_(e)&&i!=Zl&&i!=Jh&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Ze(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Vd(t),t.M=!0,Ze(11))):(rs(e.j,e.m,n,"[Invalid Chunked Response]"),mi(e),Ao(e))}Z.mb=function(){if(this.g){var e=Bn(this.g),t=this.g.ja();this.C<t.length&&(Zc(this),s_(this,e,t),this.i&&e!=4&&ka(this))}};function Tx(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?Zl:(n=Number(t.substring(n,r)),isNaN(n)?Jh:(r+=1,r+n>t.length?Zl:(t=t.slice(r,r+n),e.C=r+n,t)))}Z.cancel=function(){this.J=!0,mi(this)};function ka(e){e.Y=Date.now()+e.P,o_(e,e.P)}function o_(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Da(Ge(e.lb,e),t)}function Zc(e){e.B&&(wt.clearTimeout(e.B),e.B=null)}Z.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(yx(this.j,this.A),this.L!=2&&(na(),Ze(17)),mi(this),this.o=2,Ao(this)):o_(this,this.Y-e)};function Ao(e){e.l.H==0||e.J||P_(e.l,e)}function mi(e){Zc(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,Ad(e.V),XE(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Zh(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||tf(n.i,e))){if(!e.K&&tf(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){t:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)nc(n),iu(n);else break t;kd(n),Ze(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Da(Ge(n.ib,n),6e3));if(1>=p_(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else vi(n,11)}else if((e.K||n.g==e)&&nc(n),!Jo(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const p=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Od(s,s.h),s.h=null))}if(r.F){const m=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,ie(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=O_(r,r.J?r.pa:null,r.Y),o.K){g_(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Zc(a),ka(a)),r.g=o}else A_(r);0<n.j.length&&su(n)}else c[0]!="stop"&&c[0]!="close"||vi(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?vi(n,7):Md(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}na(4)}catch{}}function Ix(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Kc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function wx(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Kc(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function a_(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Kc(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=wx(e),r=Ix(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var l_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bx(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function wi(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof wi){this.h=e.h,tc(this,e.j),this.s=e.s,this.g=e.g,ec(this,e.m),this.l=e.l;var t=e.i,n=new ra;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Xg(this,n),this.o=e.o}else e&&(t=String(e).match(l_))?(this.h=!1,tc(this,t[1]||"",!0),this.s=so(t[2]||""),this.g=so(t[3]||"",!0),ec(this,t[4]),this.l=so(t[5]||"",!0),Xg(this,t[6]||"",!0),this.o=so(t[7]||"")):(this.h=!1,this.i=new ra(null,this.h))}wi.prototype.toString=function(){var e=[],t=this.j;t&&e.push(oo(t,Jg,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(oo(t,Jg,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(oo(n,n.charAt(0)=="/"?Rx:Ax,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",oo(n,Cx)),e.join("")};function pr(e){return new wi(e)}function tc(e,t,n){e.j=n?so(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ec(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Xg(e,t,n){t instanceof ra?(e.i=t,xx(e.i,e.h)):(n||(t=oo(t,Px)),e.i=new ra(t,e.h))}function ie(e,t,n){e.i.set(t,n)}function tu(e){return ie(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function so(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function oo(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,Sx),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Sx(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Jg=/[#\/\?@]/g,Ax=/[#\?:]/g,Rx=/[#\?]/g,Px=/[#\?@]/g,Cx=/#/g;function ra(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ii(e){e.g||(e.g=new Map,e.h=0,e.i&&bx(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}Z=ra.prototype;Z.add=function(e,t){ii(this),this.i=null,e=Us(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function c_(e,t){ii(e),t=Us(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function u_(e,t){return ii(e),t=Us(e,t),e.g.has(t)}Z.forEach=function(e,t){ii(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};Z.ta=function(){ii(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};Z.Z=function(e){ii(this);let t=[];if(typeof e=="string")u_(this,e)&&(t=t.concat(this.g.get(Us(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};Z.set=function(e,t){return ii(this),this.i=null,e=Us(this,e),u_(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};Z.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function h_(e,t,n){c_(e,t),0<n.length&&(e.i=null,e.g.set(Us(e,t),vd(n)),e.h+=n.length)}Z.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function Us(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function xx(e,t){t&&!e.j&&(ii(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(c_(this,r),h_(this,i,n))},e)),e.j=t}var Ox=class{constructor(e,t){this.g=e,this.map=t}};function f_(e){this.l=e||Dx,wt.PerformanceNavigationTiming?(e=wt.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(wt.g&&wt.g.Ka&&wt.g.Ka()&&wt.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Dx=10;function d_(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function p_(e){return e.h?1:e.g?e.g.size:0}function tf(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Od(e,t){e.g?e.g.add(t):e.h=t}function g_(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}f_.prototype.cancel=function(){if(this.i=m_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function m_(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return vd(e.i)}var Nx=class{stringify(e){return wt.JSON.stringify(e,void 0)}parse(e){return wt.JSON.parse(e,void 0)}};function Mx(){this.g=new Nx}function kx(e,t,n){const r=n||"";try{a_(e,function(i,s){let o=i;xa(i)&&(o=bd(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Vx(e,t){const n=new Yc;if(wt.Image){const r=new Image;r.onload=sl(al,n,r,"TestLoadImage: loaded",!0,t),r.onerror=sl(al,n,r,"TestLoadImage: error",!1,t),r.onabort=sl(al,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=sl(al,n,r,"TestLoadImage: timeout",!1,t),wt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function al(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function eu(e){this.l=e.ec||null,this.j=e.ob||!1}Oe(eu,Pd);eu.prototype.g=function(){return new nu(this.l,this.j)};eu.prototype.i=function(e){return function(){return e}}({});function nu(e,t){xe.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Dd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Oe(nu,xe);var Dd=0;Z=nu.prototype;Z.open=function(e,t){if(this.readyState!=Dd)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ia(this)};Z.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||wt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};Z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Va(this)),this.readyState=Dd};Z.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ia(this)),this.g&&(this.readyState=3,ia(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof wt.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;v_(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function v_(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}Z.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Va(this):ia(this),this.readyState==3&&v_(this)}};Z.Za=function(e){this.g&&(this.response=this.responseText=e,Va(this))};Z.Ya=function(e){this.g&&(this.response=e,Va(this))};Z.ka=function(){this.g&&Va(this)};function Va(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ia(e)}Z.setRequestHeader=function(e,t){this.v.append(e,t)};Z.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};Z.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function ia(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(nu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var Lx=wt.JSON.parse;function ye(e){xe.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=y_,this.L=this.M=!1}Oe(ye,xe);var y_="",Fx=/^https?$/i,Ux=["POST","PUT"];Z=ye.prototype;Z.Oa=function(e){this.M=e};Z.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Xh.g(),this.C=this.u?Yg(this.u):Yg(Xh),this.g.onreadystatechange=Ge(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){qg(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=wt.FormData&&e instanceof wt.FormData,!(0<=kE(Ux,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{T_(this),0<this.B&&((this.L=jx(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ge(this.ua,this)):this.A=Rd(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){qg(this,s)}};function jx(e){return ws&&typeof e.timeout=="number"&&e.ontimeout!==void 0}Z.ua=function(){typeof md<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Le(this,"timeout"),this.abort(8))};function qg(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,E_(e),ru(e)}function E_(e){e.F||(e.F=!0,Le(e,"complete"),Le(e,"error"))}Z.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Le(this,"complete"),Le(this,"abort"),ru(this))};Z.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ru(this,!0)),ye.$.N.call(this)};Z.La=function(){this.s||(this.G||this.v||this.l?__(this):this.kb())};Z.kb=function(){__(this)};function __(e){if(e.h&&typeof md<"u"&&(!e.C[1]||Bn(e)!=4||e.da()!=2)){if(e.v&&Bn(e)==4)Rd(e.La,0,e);else if(Le(e,"readystatechange"),Bn(e)==4){e.h=!1;try{const o=e.da();t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(l_)[1]||null;!i&&wt.self&&wt.self.location&&(i=wt.self.location.protocol.slice(0,-1)),r=!Fx.test(i?i.toLowerCase():"")}n=r}if(n)Le(e,"complete"),Le(e,"success");else{e.m=6;try{var s=2<Bn(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",E_(e)}}finally{ru(e)}}}}function ru(e,t){if(e.g){T_(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Le(e,"ready");try{n.onreadystatechange=r}catch{}}}function T_(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(wt.clearTimeout(e.A),e.A=null)}Z.isActive=function(){return!!this.g};function Bn(e){return e.g?e.g.readyState:0}Z.da=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}};Z.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Z.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Lx(t)}};function Zg(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case y_:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function Bx(e){const t={};e=(e.g&&2<=Bn(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(Jo(e[r]))continue;var n=fx(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}sx(t,function(r){return r.join(", ")})}Z.Ia=function(){return this.m};Z.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function I_(e){let t="";return Ed(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Nd(e,t,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=I_(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):ie(e,t,n))}function zs(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function w_(e){this.Ga=0,this.j=[],this.l=new Yc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=zs("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=zs("baseRetryDelayMs",5e3,e),this.hb=zs("retryDelaySeedMs",1e4,e),this.eb=zs("forwardChannelMaxRetries",2,e),this.xa=zs("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new f_(e&&e.concurrentRequestLimit),this.Ja=new Mx,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Z=w_.prototype;Z.ra=8;Z.H=1;function Md(e){if(b_(e),e.H==3){var t=e.W++,n=pr(e.I);if(ie(n,"SID",e.K),ie(n,"RID",t),ie(n,"TYPE","terminate"),La(e,n),t=new Ma(e,e.l,t),t.L=2,t.v=tu(pr(n)),n=!1,wt.navigator&&wt.navigator.sendBeacon)try{n=wt.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&wt.Image&&(new Image().src=t.v,n=!0),n||(t.g=D_(t.l,null),t.g.ha(t.v)),t.G=Date.now(),ka(t)}x_(e)}function iu(e){e.g&&(Vd(e),e.g.cancel(),e.g=null)}function b_(e){iu(e),e.u&&(wt.clearTimeout(e.u),e.u=null),nc(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&wt.clearTimeout(e.m),e.m=null)}function su(e){if(!d_(e.i)&&!e.m){e.m=!0;var t=e.Na;Zo||zE(),ta||(Zo(),ta=!0),Sd.add(t,e),e.C=0}}function $x(e,t){return p_(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Da(Ge(e.Na,e,t),C_(e,e.C)),e.C++,!0)}Z.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Ma(this,this.l,e);let s=this.s;if(this.U&&(s?(s=UE(s),jE(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)t:{for(var t=0,n=0;n<this.j.length;n++){e:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break e}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break t}if(t===4096||n===this.j.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=S_(this,i,t),n=pr(this.I),ie(n,"RID",e),ie(n,"CVER",22),this.F&&ie(n,"X-HTTP-Session-Id",this.F),La(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(I_(s)))+"&"+t:this.o&&Nd(n,this.o,s)),Od(this.i,i),this.bb&&ie(n,"TYPE","init"),this.P?(ie(n,"$req",t),ie(n,"SID","null"),i.aa=!0,qh(i,n,null)):qh(i,n,t),this.H=2}}else this.H==3&&(e?tm(this,e):this.j.length==0||d_(this.i)||tm(this))};function tm(e,t){var n;t?n=t.m:n=e.W++;const r=pr(e.I);ie(r,"SID",e.K),ie(r,"RID",n),ie(r,"AID",e.V),La(e,r),e.o&&e.s&&Nd(r,e.o,e.s),n=new Ma(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=S_(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Od(e.i,n),qh(n,r,t)}function La(e,t){e.na&&Ed(e.na,function(n,r){ie(t,r,n)}),e.h&&a_({},function(n,r){ie(t,r,n)})}function S_(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ge(e.h.Va,e.h,e):null;t:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const u=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{kx(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break t}}}return e=e.j.splice(0,n),t.F=e,r}function A_(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Zo||zE(),ta||(Zo(),ta=!0),Sd.add(t,e),e.A=0}}function kd(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Da(Ge(e.Ma,e),C_(e,e.A)),e.A++,!0)}Z.Ma=function(){if(this.u=null,R_(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Da(Ge(this.jb,this),e)}};Z.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ze(10),iu(this),R_(this))};function Vd(e){e.B!=null&&(wt.clearTimeout(e.B),e.B=null)}function R_(e){e.g=new Ma(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=pr(e.wa);ie(t,"RID","rpc"),ie(t,"SID",e.K),ie(t,"AID",e.V),ie(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&ie(t,"TO",e.qa),ie(t,"TYPE","xmlhttp"),La(e,t),e.o&&e.s&&Nd(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=tu(pr(t)),n.s=null,n.S=!0,r_(n,e)}Z.ib=function(){this.v!=null&&(this.v=null,iu(this),kd(this),Ze(19))};function nc(e){e.v!=null&&(wt.clearTimeout(e.v),e.v=null)}function P_(e,t){var n=null;if(e.g==t){nc(e),Vd(e),e.g=null;var r=2}else if(tf(e.i,t))n=t.F,g_(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;r=Xc(),Le(r,new ZE(r,n)),su(e)}else A_(e);else if(i=t.o,i==3||i==0&&0<t.ca||!(r==1&&$x(e,t)||r==2&&kd(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:vi(e,5);break;case 4:vi(e,10);break;case 3:vi(e,6);break;default:vi(e,2)}}}function C_(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function vi(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=Ge(e.pb,e);n||(n=new wi("//www.google.com/images/cleardot.gif"),wt.location&&wt.location.protocol=="http"||tc(n,"https"),tu(n)),Vx(n.toString(),r)}else Ze(2);e.H=0,e.h&&e.h.za(t),x_(e),b_(e)}Z.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ze(2)):(this.l.info("Failed to ping google.com"),Ze(1))};function x_(e){if(e.H=0,e.ma=[],e.h){const t=m_(e.i);(t.length!=0||e.j.length!=0)&&(Kg(e.ma,t),Kg(e.ma,e.j),e.i.i.length=0,vd(e.j),e.j.length=0),e.h.ya()}}function O_(e,t,n){var r=n instanceof wi?pr(n):new wi(n);if(r.g!="")t&&(r.g=t+"."+r.g),ec(r,r.m);else{var i=wt.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new wi(null);r&&tc(s,r),t&&(s.g=t),i&&ec(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&ie(r,n,t),ie(r,"VER",e.ra),La(e,r),r}function D_(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new ye(new eu({ob:!0})):new ye(e.va),t.Oa(e.J),t}Z.isActive=function(){return!!this.h&&this.h.isActive(this)};function N_(){}Z=N_.prototype;Z.Ba=function(){};Z.Aa=function(){};Z.za=function(){};Z.ya=function(){};Z.isActive=function(){return!0};Z.Va=function(){};function rc(){if(ws&&!(10<=Number(ex)))throw Error("Environmental error: no available transport.")}rc.prototype.g=function(e,t){return new yn(e,t)};function yn(e,t){xe.call(this),this.g=new w_(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Jo(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Jo(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new js(this)}Oe(yn,xe);yn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ze(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=O_(e,null,e.Y),su(e)};yn.prototype.close=function(){Md(this.g)};yn.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=bd(e),e=n);t.j.push(new Ox(t.fb++,e)),t.H==3&&su(t)};yn.prototype.N=function(){this.g.h=null,delete this.j,Md(this.g),delete this.g,yn.$.N.call(this)};function M_(e){Cd.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){t:{for(const n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Oe(M_,Cd);function k_(){xd.call(this),this.status=1}Oe(k_,xd);function js(e){this.g=e}Oe(js,N_);js.prototype.Ba=function(){Le(this.g,"a")};js.prototype.Aa=function(e){Le(this.g,new M_(e))};js.prototype.za=function(e){Le(this.g,new k_)};js.prototype.ya=function(){Le(this.g,"b")};function Hx(){this.blockSize=-1}function Ln(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Oe(Ln,Hx);Ln.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ju(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}Ln.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)Ju(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Ju(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Ju(this,r),i=0;break}}this.h=i,this.i+=t};Ln.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function Yt(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var Kx={};function Ld(e){return-128<=e&&128>e?qC(e,function(t){return new Yt([t|0],0>t?-1:0)}):new Yt([e|0],0>e?-1:0)}function $n(e){if(isNaN(e)||!isFinite(e))return fs;if(0>e)return ke($n(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=ef;return new Yt(t,0)}function V_(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return ke(V_(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=$n(Math.pow(t,8)),r=fs,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=$n(Math.pow(t,s)),r=r.R(s).add($n(o))):(r=r.R(n),r=r.add($n(o)))}return r}var ef=4294967296,fs=Ld(0),nf=Ld(1),em=Ld(16777216);Z=Yt.prototype;Z.ea=function(){if(In(this))return-ke(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:ef+r)*t,t*=ef}return e};Z.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(or(this))return"0";if(In(this))return"-"+ke(this).toString(e);for(var t=$n(Math.pow(e,6)),n=this,r="";;){var i=sc(n,t).g;n=ic(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,or(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Z.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function or(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function In(e){return e.h==-1}Z.X=function(e){return e=ic(this,e),In(e)?-1:or(e)?0:1};function ke(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Yt(n,~e.h).add(nf)}Z.abs=function(){return In(this)?ke(this):this};Z.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Yt(n,n[n.length-1]&-2147483648?-1:0)};function ic(e,t){return e.add(ke(t))}Z.R=function(e){if(or(this)||or(e))return fs;if(In(this))return In(e)?ke(this).R(ke(e)):ke(ke(this).R(e));if(In(e))return ke(this.R(ke(e)));if(0>this.X(em)&&0>e.X(em))return $n(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(i)>>>16,l=e.D(i)&65535;n[2*r+2*i]+=o*l,ll(n,2*r+2*i),n[2*r+2*i+1]+=s*l,ll(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,ll(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,ll(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Yt(n,0)};function ll(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Qs(e,t){this.g=e,this.h=t}function sc(e,t){if(or(t))throw Error("division by zero");if(or(e))return new Qs(fs,fs);if(In(e))return t=sc(ke(e),t),new Qs(ke(t.g),ke(t.h));if(In(t))return t=sc(e,ke(t)),new Qs(ke(t.g),t.h);if(30<e.g.length){if(In(e)||In(t))throw Error("slowDivide_ only works with positive integers.");for(var n=nf,r=t;0>=r.X(e);)n=nm(n),r=nm(r);var i=Gi(n,1),s=Gi(r,1);for(r=Gi(r,2),n=Gi(n,2);!or(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=Gi(r,1),n=Gi(n,1)}return t=ic(e,i.R(t)),new Qs(i,t)}for(i=fs;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=$n(n),o=s.R(t);In(o)||0<o.X(e);)n-=r,s=$n(n),o=s.R(t);or(s)&&(s=nf),i=i.add(s),e=ic(e,o)}return new Qs(i,e)}Z.gb=function(e){return sc(this,e).h};Z.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Yt(n,this.h&e.h)};Z.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Yt(n,this.h|e.h)};Z.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Yt(n,this.h^e.h)};function nm(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Yt(n,e.h)}function Gi(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Yt(i,e.h)}rc.prototype.createWebChannel=rc.prototype.g;yn.prototype.send=yn.prototype.u;yn.prototype.open=yn.prototype.m;yn.prototype.close=yn.prototype.close;Jc.NO_ERROR=0;Jc.TIMEOUT=8;Jc.HTTP_ERROR=6;t_.COMPLETE="complete";e_.EventType=Na;Na.OPEN="a";Na.CLOSE="b";Na.ERROR="c";Na.MESSAGE="d";xe.prototype.listen=xe.prototype.O;ye.prototype.listenOnce=ye.prototype.P;ye.prototype.getLastError=ye.prototype.Sa;ye.prototype.getLastErrorCode=ye.prototype.Ia;ye.prototype.getStatus=ye.prototype.da;ye.prototype.getResponseJson=ye.prototype.Wa;ye.prototype.getResponseText=ye.prototype.ja;ye.prototype.send=ye.prototype.ha;ye.prototype.setWithCredentials=ye.prototype.Oa;Ln.prototype.digest=Ln.prototype.l;Ln.prototype.reset=Ln.prototype.reset;Ln.prototype.update=Ln.prototype.j;Yt.prototype.add=Yt.prototype.add;Yt.prototype.multiply=Yt.prototype.R;Yt.prototype.modulo=Yt.prototype.gb;Yt.prototype.compare=Yt.prototype.X;Yt.prototype.toNumber=Yt.prototype.ea;Yt.prototype.toString=Yt.prototype.toString;Yt.prototype.getBits=Yt.prototype.D;Yt.fromNumber=$n;Yt.fromString=V_;var Wx=function(){return new rc},Gx=function(){return Xc()},qu=Jc,zx=t_,Qx=Bi,rm={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},cl=e_,Yx=ye,Xx=Ln,ds=Yt;const im="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Be.UNAUTHENTICATED=new Be(null),Be.GOOGLE_CREDENTIALS=new Be("google-credentials-uid"),Be.FIRST_PARTY=new Be("first-party-uid"),Be.MOCK_USER=new Be("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bs="10.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new id("@firebase/firestore");function Ys(){return Ni.logLevel}function at(e,...t){if(Ni.logLevel<=Ft.DEBUG){const n=t.map(Fd);Ni.debug(`Firestore (${Bs}): ${e}`,...n)}}function gr(e,...t){if(Ni.logLevel<=Ft.ERROR){const n=t.map(Fd);Ni.error(`Firestore (${Bs}): ${e}`,...n)}}function bs(e,...t){if(Ni.logLevel<=Ft.WARN){const n=t.map(Fd);Ni.warn(`Firestore (${Bs}): ${e}`,...n)}}function Fd(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(e="Unexpected state"){const t=`FIRESTORE (${Bs}) INTERNAL ASSERTION FAILED: `+e;throw gr(t),new Error(t)}function se(e,t){e||It()}function Ct(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends Er{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Jx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Be.UNAUTHENTICATED))}shutdown(){}}class qx{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Zx{constructor(t){this.t=t,this.currentUser=Be.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Wr,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Wr)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(se(typeof r.accessToken=="string"),new L_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return se(t===null||typeof t=="string"),new Be(t)}}class tO{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Be.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class eO{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new tO(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Be.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nO{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rO{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,at("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(se(typeof n.token=="string"),this.R=n.token,new nO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{static V(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=iO(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function zt(e,t){return e<t?-1:e>t?1:0}function Ss(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new dt(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new dt(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new dt(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dt(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ae.fromMillis(Date.now())}static fromDate(t){return Ae.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Ae(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(t){this.timestamp=t}static fromTimestamp(t){return new St(t)}static min(){return new St(new Ae(0,0))}static max(){return new St(new Ae(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(t,n,r){n===void 0?n=0:n>t.length&&It(),r===void 0?r=t.length-n:r>t.length-n&&It(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return sa.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof sa?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class ce extends sa{construct(t,n,r){return new ce(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new dt(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ce(n)}static emptyPath(){return new ce([])}}const sO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ve extends sa{construct(t,n,r){return new Ve(t,n,r)}static isValidIdentifier(t){return sO.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ve.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ve(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new dt(H.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new dt(H.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new dt(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new dt(H.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ve(n)}static emptyPath(){return new Ve([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.path=t}static fromPath(t){return new pt(ce.fromString(t))}static fromName(t){return new pt(ce.fromString(t).popFirst(5))}static empty(){return new pt(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ce.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new ce(t.slice()))}}function oO(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=St.fromTimestamp(r===1e9?new Ae(n+1,0):new Ae(n,r));return new Zr(i,pt.empty(),t)}function aO(e){return new Zr(e.readTime,e.key,-1)}class Zr{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Zr(St.min(),pt.empty(),-1)}static max(){return new Zr(St.max(),pt.empty(),-1)}}function lO(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=pt.comparator(e.documentKey,t.documentKey),n!==0?n:zt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fa(e){if(e.code!==H.FAILED_PRECONDITION||e.message!==cO)throw e;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&It(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new W((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):W.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):W.reject(n)}static resolve(t){return new W((n,r)=>{n(t)})}static reject(t){return new W((n,r)=>{r(t)})}static waitFor(t){return new W((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(t){let n=W.resolve(!1);for(const r of t)n=n.next(i=>i?W.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new W((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(t[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(t,n){return new W((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function Ua(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Ud.ae=-1;function ou(e){return e==null}function oc(e){return e===0&&1/e==-1/0}function hO(e){return typeof e=="number"&&Number.isInteger(e)&&!oc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function $i(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function U_(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(t,n){this.comparator=t,this.root=n||Me.EMPTY}insert(t,n){return new pe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Me.BLACK,null,null))}remove(t){return new pe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Me.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ul(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ul(this.root,t,this.comparator,!1)}getReverseIterator(){return new ul(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ul(this.root,t,this.comparator,!0)}}class ul{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Me{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Me.RED,this.left=i??Me.EMPTY,this.right=s??Me.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new Me(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Me.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Me.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Me.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Me.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw It();const t=this.left.check();if(t!==this.right.check())throw It();return t+(this.isRed()?0:1)}}Me.EMPTY=null,Me.RED=!0,Me.BLACK=!1;Me.EMPTY=new class{constructor(){this.size=0}get key(){throw It()}get value(){throw It()}get color(){throw It()}get left(){throw It()}get right(){throw It()}copy(t,n,r,i,s){return this}insert(t,n,r){return new Me(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.comparator=t,this.data=new pe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new om(this.data.getIterator())}getIteratorFrom(t){return new om(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Fe)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Fe(this.comparator);return n.data=t,n}}class om{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(t){this.fields=t,t.sort(Ve.comparator)}static empty(){return new mn([])}unionWith(t){let n=new Fe(Ve.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new mn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ss(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new j_("Invalid base64 string: "+s):s}}(t);return new Xe(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new Xe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const fO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ti(e){if(se(!!e),typeof e=="string"){let t=0;const n=fO.exec(e);if(se(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ie(e.seconds),nanos:Ie(e.nanos)}}function Ie(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Mi(e){return typeof e=="string"?Xe.fromBase64String(e):Xe.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Bd(e){const t=e.mapValue.fields.__previous_value__;return jd(t)?Bd(t):t}function oa(e){const t=ti(e.mapValue.fields.__local_write_time__.timestampValue);return new Ae(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(t,n,r,i,s,o,a,l,c){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class aa{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new aa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof aa&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ki(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?jd(e)?4:pO(e)?9007199254740991:10:It()}function Yn(e,t){if(e===t)return!0;const n=ki(e);if(n!==ki(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return oa(e).isEqual(oa(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ti(i.timestampValue),a=ti(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return Mi(i.bytesValue).isEqual(Mi(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return Ie(i.geoPointValue.latitude)===Ie(s.geoPointValue.latitude)&&Ie(i.geoPointValue.longitude)===Ie(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ie(i.integerValue)===Ie(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ie(i.doubleValue),a=Ie(s.doubleValue);return o===a?oc(o)===oc(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Ss(e.arrayValue.values||[],t.arrayValue.values||[],Yn);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(sm(o)!==sm(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Yn(o[l],a[l])))return!1;return!0}(e,t);default:return It()}}function la(e,t){return(e.values||[]).find(n=>Yn(n,t))!==void 0}function As(e,t){if(e===t)return 0;const n=ki(e),r=ki(t);if(n!==r)return zt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return zt(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=Ie(s.integerValue||s.doubleValue),l=Ie(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return am(e.timestampValue,t.timestampValue);case 4:return am(oa(e),oa(t));case 5:return zt(e.stringValue,t.stringValue);case 6:return function(s,o){const a=Mi(s),l=Mi(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=zt(a[c],l[c]);if(u!==0)return u}return zt(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=zt(Ie(s.latitude),Ie(o.latitude));return a!==0?a:zt(Ie(s.longitude),Ie(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=As(a[c],l[c]);if(u)return u}return zt(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===hl.mapValue&&o===hl.mapValue)return 0;if(s===hl.mapValue)return 1;if(o===hl.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const f=zt(l[h],u[h]);if(f!==0)return f;const d=As(a[l[h]],c[u[h]]);if(d!==0)return d}return zt(l.length,u.length)}(e.mapValue,t.mapValue);default:throw It()}}function am(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return zt(e,t);const n=ti(e),r=ti(t),i=zt(n.seconds,r.seconds);return i!==0?i:zt(n.nanos,r.nanos)}function Rs(e){return rf(e)}function rf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=ti(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Mi(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return pt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=rf(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${rf(n.fields[o])}`;return i+"}"}(e.mapValue):It()}function sf(e){return!!e&&"integerValue"in e}function $d(e){return!!e&&"arrayValue"in e}function lm(e){return!!e&&"nullValue"in e}function cm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Al(e){return!!e&&"mapValue"in e}function Ro(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return $i(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Ro(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ro(e.arrayValue.values[n]);return t}return Object.assign({},e)}function pO(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.value=t}static empty(){return new on({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Al(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ro(n)}setAll(t){let n=Ve.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ro(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());Al(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Yn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Al(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){$i(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new on(Ro(this.value))}}function B_(e){const t=[];return $i(e.fields,(n,r)=>{const i=new Ve([n]);if(Al(r)){const s=B_(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new mn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new $e(t,0,St.min(),St.min(),St.min(),on.empty(),0)}static newFoundDocument(t,n,r,i){return new $e(t,1,n,St.min(),r,i,0)}static newNoDocument(t,n){return new $e(t,2,n,St.min(),St.min(),on.empty(),0)}static newUnknownDocument(t,n){return new $e(t,3,n,St.min(),St.min(),on.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(t,n){this.position=t,this.inclusive=n}}function um(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=pt.comparator(pt.fromName(o.referenceValue),n.key):r=As(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function hm(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Yn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(t,n="asc"){this.field=t,this.dir=n}}function gO(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{}class Se extends $_{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new vO(t,n,r):n==="array-contains"?new _O(t,r):n==="in"?new TO(t,r):n==="not-in"?new IO(t,r):n==="array-contains-any"?new wO(t,r):new Se(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new yO(t,r):new EO(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(As(n,this.value)):n!==null&&ki(this.value)===ki(n)&&this.matchesComparison(As(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return It()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends $_{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new Xn(t,n)}matches(t){return H_(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function H_(e){return e.op==="and"}function K_(e){return mO(e)&&H_(e)}function mO(e){for(const t of e.filters)if(t instanceof Xn)return!1;return!0}function of(e){if(e instanceof Se)return e.field.canonicalString()+e.op.toString()+Rs(e.value);if(K_(e))return e.filters.map(t=>of(t)).join(",");{const t=e.filters.map(n=>of(n)).join(",");return`${e.op}(${t})`}}function W_(e,t){return e instanceof Se?function(r,i){return i instanceof Se&&r.op===i.op&&r.field.isEqual(i.field)&&Yn(r.value,i.value)}(e,t):e instanceof Xn?function(r,i){return i instanceof Xn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&W_(o,i.filters[a]),!0):!1}(e,t):void It()}function G_(e){return e instanceof Se?function(n){return`${n.field.canonicalString()} ${n.op} ${Rs(n.value)}`}(e):e instanceof Xn?function(n){return n.op.toString()+" {"+n.getFilters().map(G_).join(" ,")+"}"}(e):"Filter"}class vO extends Se{constructor(t,n,r){super(t,n,r),this.key=pt.fromName(r.referenceValue)}matches(t){const n=pt.comparator(t.key,this.key);return this.matchesComparison(n)}}class yO extends Se{constructor(t,n){super(t,"in",n),this.keys=z_("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class EO extends Se{constructor(t,n){super(t,"not-in",n),this.keys=z_("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function z_(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>pt.fromName(r.referenceValue))}class _O extends Se{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return $d(n)&&la(n.arrayValue,this.value)}}class TO extends Se{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&la(this.value.arrayValue,n)}}class IO extends Se{constructor(t,n){super(t,"not-in",n)}matches(t){if(la(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!la(this.value.arrayValue,n)}}class wO extends Se{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!$d(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>la(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function fm(e,t=null,n=[],r=[],i=null,s=null,o=null){return new bO(e,t,n,r,i,s,o)}function Hd(e){const t=Ct(e);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>of(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ou(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Rs(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Rs(r)).join(",")),t.le=n}return t.le}function Kd(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!gO(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!W_(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!hm(e.startAt,t.startAt)&&hm(e.endAt,t.endAt)}function af(e){return pt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function SO(e,t,n,r,i,s,o,a){return new au(e,t,n,r,i,s,o,a)}function lu(e){return new au(e)}function dm(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function AO(e){return e.collectionGroup!==null}function Po(e){const t=Ct(e);if(t.he===null){t.he=[];const n=new Set;for(const s of t.explicitOrderBy)t.he.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Fe(Ve.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.he.push(new lc(s,r))}),n.has(Ve.keyField().canonicalString())||t.he.push(new lc(Ve.keyField(),r))}return t.he}function Wn(e){const t=Ct(e);return t.Pe||(t.Pe=RO(t,Po(e))),t.Pe}function RO(e,t){if(e.limitType==="F")return fm(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new lc(i.field,s)});const n=e.endAt?new ac(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ac(e.startAt.position,e.startAt.inclusive):null;return fm(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function lf(e,t,n){return new au(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function cu(e,t){return Kd(Wn(e),Wn(t))&&e.limitType===t.limitType}function Q_(e){return`${Hd(Wn(e))}|lt:${e.limitType}`}function qi(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>G_(i)).join(", ")}]`),ou(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Rs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Rs(i)).join(",")),`Target(${r})`}(Wn(e))}; limitType=${e.limitType})`}function uu(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):pt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of Po(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=um(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Po(r),i)||r.endAt&&!function(o,a,l){const c=um(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Po(r),i))}(e,t)}function PO(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Y_(e){return(t,n)=>{let r=!1;for(const i of Po(e)){const s=CO(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function CO(e,t,n){const r=e.field.isKeyField()?pt.comparator(t.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?As(l,c):It()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return It()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){$i(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return U_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=new pe(pt.comparator);function mr(){return xO}const X_=new pe(pt.comparator);function ao(...e){let t=X_;for(const n of e)t=t.insert(n.key,n);return t}function J_(e){let t=X_;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function yi(){return Co()}function q_(){return Co()}function Co(){return new $s(e=>e.toString(),(e,t)=>e.isEqual(t))}const OO=new pe(pt.comparator),DO=new Fe(pt.comparator);function kt(...e){let t=DO;for(const n of e)t=t.add(n);return t}const NO=new Fe(zt);function MO(){return NO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oc(t)?"-0":t}}function tT(e){return{integerValue:""+e}}function kO(e,t){return hO(t)?tT(t):Z_(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(){this._=void 0}}function VO(e,t,n){return e instanceof cc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&jd(s)&&(s=Bd(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof ca?nT(e,t):e instanceof ua?rT(e,t):function(i,s){const o=eT(i,s),a=pm(o)+pm(i.Te);return sf(o)&&sf(i.Te)?tT(a):Z_(i.serializer,a)}(e,t)}function LO(e,t,n){return e instanceof ca?nT(e,t):e instanceof ua?rT(e,t):n}function eT(e,t){return e instanceof uc?function(r){return sf(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class cc extends hu{}class ca extends hu{constructor(t){super(),this.elements=t}}function nT(e,t){const n=iT(t);for(const r of e.elements)n.some(i=>Yn(i,r))||n.push(r);return{arrayValue:{values:n}}}class ua extends hu{constructor(t){super(),this.elements=t}}function rT(e,t){let n=iT(t);for(const r of e.elements)n=n.filter(i=>!Yn(i,r));return{arrayValue:{values:n}}}class uc extends hu{constructor(t,n){super(),this.serializer=t,this.Te=n}}function pm(e){return Ie(e.integerValue||e.doubleValue)}function iT(e){return $d(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function FO(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof ca&&i instanceof ca||r instanceof ua&&i instanceof ua?Ss(r.elements,i.elements,Yn):r instanceof uc&&i instanceof uc?Yn(r.Te,i.Te):r instanceof cc&&i instanceof cc}(e.transform,t.transform)}class UO{constructor(t,n){this.version=t,this.transformResults=n}}class bn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new bn}static exists(t){return new bn(void 0,t)}static updateTime(t){return new bn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Rl(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class fu{}function sT(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Wd(e.key,bn.none()):new ja(e.key,e.data,bn.none());{const n=e.data,r=on.empty();let i=new Fe(Ve.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new si(e.key,r,new mn(i.toArray()),bn.none())}}function jO(e,t,n){e instanceof ja?function(i,s,o){const a=i.value.clone(),l=mm(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof si?function(i,s,o){if(!Rl(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=mm(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(oT(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function xo(e,t,n,r){return e instanceof ja?function(s,o,a,l){if(!Rl(s.precondition,o))return a;const c=s.value.clone(),u=vm(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(e,t,n,r):e instanceof si?function(s,o,a,l){if(!Rl(s.precondition,o))return a;const c=vm(s.fieldTransforms,l,o),u=o.data;return u.setAll(oT(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(e,t,n,r):function(s,o,a){return Rl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function BO(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=eT(r.transform,i||null);s!=null&&(n===null&&(n=on.empty()),n.set(r.field,s))}return n||null}function gm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ss(r,i,(s,o)=>FO(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ja extends fu{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class si extends fu{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function oT(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function mm(e,t,n){const r=new Map;se(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,LO(o,a,n[i]))}return r}function vm(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,VO(s,o,t))}return r}class Wd extends fu{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $O extends fu{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&jO(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=xo(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=xo(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=q_();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=sT(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(St.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),kt())}isEqual(t){return this.batchId===t.batchId&&Ss(this.mutations,t.mutations,(n,r)=>gm(n,r))&&Ss(this.baseMutations,t.baseMutations,(n,r)=>gm(n,r))}}class Gd{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){se(t.mutations.length===r.length);let i=function(){return OO}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Gd(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,Bt;function GO(e){switch(e){default:return It();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function aT(e){if(e===void 0)return gr("GRPC error has no .code"),H.UNKNOWN;switch(e){case _e.OK:return H.OK;case _e.CANCELLED:return H.CANCELLED;case _e.UNKNOWN:return H.UNKNOWN;case _e.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case _e.INTERNAL:return H.INTERNAL;case _e.UNAVAILABLE:return H.UNAVAILABLE;case _e.UNAUTHENTICATED:return H.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case _e.NOT_FOUND:return H.NOT_FOUND;case _e.ALREADY_EXISTS:return H.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return H.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case _e.ABORTED:return H.ABORTED;case _e.OUT_OF_RANGE:return H.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return H.UNIMPLEMENTED;case _e.DATA_LOSS:return H.DATA_LOSS;default:return It()}}(Bt=_e||(_e={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=new ds([4294967295,4294967295],0);function ym(e){const t=zO().encode(e),n=new Xx;return n.update(t),new Uint8Array(n.digest())}function Em(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ds([n,r],0),new ds([i,s],0)]}class zd{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new lo(`Invalid padding: ${n}`);if(r<0)throw new lo(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new lo(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new lo(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=ds.fromNumber(this.Ee)}Ae(t,n,r){let i=t.add(n.multiply(ds.fromNumber(r)));return i.compare(QO)===1&&(i=new ds([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ee===0)return!1;const n=ym(t),[r,i]=Em(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new zd(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Ee===0)return;const n=ym(t),[r,i]=Em(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class lo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Ba.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new du(St.min(),i,new pe(zt),mr(),kt())}}class Ba{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Ba(r,n,kt(),kt(),kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(t,n,r,i){this.me=t,this.removedTargetIds=n,this.key=r,this.fe=i}}class lT{constructor(t,n){this.targetId=t,this.ge=n}}class cT{constructor(t,n,r=Xe.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class _m{constructor(){this.pe=0,this.ye=Im(),this.we=Xe.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get Ce(){return this.be}ve(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=kt(),n=kt(),r=kt();return this.ye.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:It()}}),new Ba(this.we,this.Se,t,n,r)}Me(){this.be=!1,this.ye=Im()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1}Le(){this.be=!0,this.Se=!0}}class YO{constructor(t){this.ke=t,this.qe=new Map,this.Qe=mr(),this.Ke=Tm(),this.$e=new pe(zt)}Ue(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.We(n,t.fe):this.Ge(n,t.key,t.fe);for(const n of t.removedTargetIds)this.Ge(n,t.key,t.fe)}ze(t){this.forEachTarget(t,n=>{const r=this.je(n);switch(t.state){case 0:this.He(n)&&r.ve(t.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.ve(t.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.He(n)&&(r.Le(),r.ve(t.resumeToken));break;case 4:this.He(n)&&(this.Je(n),r.ve(t.resumeToken));break;default:It()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.He(i)&&n(i)})}Ye(t){const n=t.targetId,r=t.ge.count,i=this.Ze(n);if(i){const s=i.target;if(af(s))if(r===0){const o=new pt(s.path);this.Ge(n,o,$e.newNoDocument(o,St.min()))}else se(r===1);else{const o=this.Xe(n);if(o!==r){const a=this.et(t),l=a?this.tt(a,t,o):1;if(l!==0){this.Je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.$e=this.$e.insert(n,c)}}}}}et(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Mi(r).toUint8Array()}catch(l){if(l instanceof j_)return bs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new zd(o,i,s)}catch(l){return bs(l instanceof lo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}tt(t,n,r){return n.ge.count===r-this.it(t,n.targetId)?0:2}it(t,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ke.rt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.Ge(n,s,null),i++)}),i}st(t){const n=new Map;this.qe.forEach((s,o)=>{const a=this.Ze(o);if(a){if(s.current&&af(a.target)){const l=new pt(a.target.path);this.Qe.get(l)!==null||this.ot(o,l)||this.Ge(o,l,$e.newNoDocument(l,t))}s.Ce&&(n.set(o,s.Fe()),s.Me())}});let r=kt();this.Ke.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ze(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(t));const i=new du(t,n,this.$e,this.Qe,r);return this.Qe=mr(),this.Ke=Tm(),this.$e=new pe(zt),i}We(t,n){if(!this.He(t))return;const r=this.ot(t,n.key)?2:0;this.je(t).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.Ke=this.Ke.insert(n.key,this._t(n.key).add(t))}Ge(t,n,r){if(!this.He(t))return;const i=this.je(t);this.ot(t,n)?i.xe(n,1):i.Oe(n),this.Ke=this.Ke.insert(n,this._t(n).delete(t)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(t){this.qe.delete(t)}Xe(t){const n=this.je(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.je(t).Ne()}je(t){let n=this.qe.get(t);return n||(n=new _m,this.qe.set(t,n)),n}_t(t){let n=this.Ke.get(t);return n||(n=new Fe(zt),this.Ke=this.Ke.insert(t,n)),n}He(t){const n=this.Ze(t)!==null;return n||at("WatchChangeAggregator","Detected inactive target",t),n}Ze(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.ut(t)}Je(t){this.qe.set(t,new _m),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.Ge(t,n,null)})}ot(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function Tm(){return new pe(pt.comparator)}function Im(){return new pe(pt.comparator)}const XO=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),JO=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),qO=(()=>({and:"AND",or:"OR"}))();class ZO{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function cf(e,t){return e.useProto3Json||ou(t)?t:{value:t}}function hc(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function uT(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function t1(e,t){return hc(e,t.toTimestamp())}function Gn(e){return se(!!e),St.fromTimestamp(function(n){const r=ti(n);return new Ae(r.seconds,r.nanos)}(e))}function Qd(e,t){return function(r){return new ce(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function hT(e){const t=ce.fromString(e);return se(gT(t)),t}function uf(e,t){return Qd(e.databaseId,t.path)}function Zu(e,t){const n=hT(t);if(n.get(1)!==e.databaseId.projectId)throw new dt(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new dt(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new pt(fT(n))}function hf(e,t){return Qd(e.databaseId,t)}function e1(e){const t=hT(e);return t.length===4?ce.emptyPath():fT(t)}function ff(e){return new ce(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function fT(e){return se(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function wm(e,t,n){return{name:uf(e,t),fields:n.value.mapValue.fields}}function n1(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:It()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(se(u===void 0||typeof u=="string"),Xe.fromBase64String(u||"")):(se(u===void 0||u instanceof Uint8Array),Xe.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const u=c.code===void 0?H.UNKNOWN:aT(c.code);return new dt(u,c.message||"")}(o);n=new cT(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Zu(e,r.document.name),s=Gn(r.document.updateTime),o=r.document.createTime?Gn(r.document.createTime):St.min(),a=new on({mapValue:{fields:r.document.fields}}),l=$e.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Pl(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Zu(e,r.document),s=r.readTime?Gn(r.readTime):St.min(),o=$e.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Pl([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Zu(e,r.document),s=r.removedTargetIds||[];n=new Pl([],s,i,null)}else{if(!("filter"in t))return It();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new WO(i,s),a=r.targetId;n=new lT(a,o)}}return n}function r1(e,t){let n;if(t instanceof ja)n={update:wm(e,t.key,t.value)};else if(t instanceof Wd)n={delete:uf(e,t.key)};else if(t instanceof si)n={update:wm(e,t.key,t.data),updateMask:f1(t.fieldMask)};else{if(!(t instanceof $O))return It();n={verify:uf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof cc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ca)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ua)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof uc)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw It()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:t1(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:It()}(e,t.precondition)),n}function i1(e,t){return e&&e.length>0?(se(t!==void 0),e.map(n=>function(i,s){let o=i.updateTime?Gn(i.updateTime):Gn(s);return o.isEqual(St.min())&&(o=Gn(s)),new UO(o,i.transformResults||[])}(n,t))):[]}function s1(e,t){return{documents:[hf(e,t.path)]}}function o1(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=hf(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=hf(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return pT(Xn.create(l,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(c=>function(h){return{field:Zi(h.field),direction:c1(h.dir)}}(c))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=cf(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function a1(e){let t=e1(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){se(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:t=t.child(u.collectionId)}let s=[];n.where&&(s=function(h){const f=dT(h);return f instanceof Xn&&K_(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(p){return new lc(ts(p.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,ou(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,d=h.values||[];return new ac(d,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,d=h.values||[];return new ac(d,f)}(n.endAt)),SO(t,i,o,s,a,"F",l,c)}function l1(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return It()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function dT(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ts(n.unaryFilter.field);return Se.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ts(n.unaryFilter.field);return Se.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ts(n.unaryFilter.field);return Se.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ts(n.unaryFilter.field);return Se.create(o,"!=",{nullValue:"NULL_VALUE"});default:return It()}}(e):e.fieldFilter!==void 0?function(n){return Se.create(ts(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return It()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Xn.create(n.compositeFilter.filters.map(r=>dT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return It()}}(n.compositeFilter.op))}(e):It()}function c1(e){return XO[e]}function u1(e){return JO[e]}function h1(e){return qO[e]}function Zi(e){return{fieldPath:e.canonicalString()}}function ts(e){return Ve.fromServerFormat(e.fieldPath)}function pT(e){return e instanceof Se?function(n){if(n.op==="=="){if(cm(n.value))return{unaryFilter:{field:Zi(n.field),op:"IS_NAN"}};if(lm(n.value))return{unaryFilter:{field:Zi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(cm(n.value))return{unaryFilter:{field:Zi(n.field),op:"IS_NOT_NAN"}};if(lm(n.value))return{unaryFilter:{field:Zi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zi(n.field),op:u1(n.op),value:n.value}}}(e):e instanceof Xn?function(n){const r=n.getFilters().map(i=>pT(i));return r.length===1?r[0]:{compositeFilter:{op:h1(n.op),filters:r}}}(e):It()}function f1(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function gT(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(t,n,r,i,s=St.min(),o=St.min(),a=Xe.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Lr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(t){this.ct=t}}function p1(e){const t=a1({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?lf(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(){this._n=new m1}addToCollectionParentIndex(t,n){return this._n.add(n),W.resolve()}getCollectionParents(t,n){return W.resolve(this._n.getEntries(n))}addFieldIndex(t,n){return W.resolve()}deleteFieldIndex(t,n){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,n){return W.resolve()}getDocumentsMatchingTarget(t,n){return W.resolve(null)}getIndexType(t,n){return W.resolve(0)}getFieldIndexes(t,n){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,n){return W.resolve(Zr.min())}getMinOffsetFromCollectionGroup(t,n){return W.resolve(Zr.min())}updateCollectionGroup(t,n,r){return W.resolve()}updateIndexEntries(t,n){return W.resolve()}}class m1{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Fe(ce.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Fe(ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new Ps(0)}static Bn(){return new Ps(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(){this.changes=new $s(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&xo(r.mutation,i,mn.empty(),Ae.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,kt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=kt()){const i=yi();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=ao();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=yi();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,kt()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=mr();const o=Co(),a=function(){return Co()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof si)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),xo(u.mutation,c,u.mutation.getFieldMask(),Ae.now())):o.set(c.key,mn.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new y1(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const r=Co();let i=new pe((o,a)=>o-a),s=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||mn.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(i.get(a.batchId)||kt()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=q_();u.forEach(f=>{if(!s.has(f)){const d=sT(n.get(f),r.get(f));d!==null&&h.set(f,d),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,h))}return W.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return pt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):AO(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):W.resolve(yi());let a=-1,l=s;return o.next(c=>W.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?W.resolve():this.remoteDocumentCache.getEntry(t,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(t,c,s)).next(()=>this.computeViews(t,l,c,kt())).next(u=>({batchId:a,changes:J_(u)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new pt(n)).next(r=>{let i=ao();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=ao();return this.indexManager.getCollectionParents(t,s).next(a=>W.forEach(a,l=>{const c=function(h,f){return new au(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,c,r,i).next(u=>{u.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,$e.newInvalidDocument(u)))});let a=ao();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&xo(u.mutation,c,mn.empty(),Ae.now()),uu(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,n){return W.resolve(this.cr.get(n))}saveBundleMetadata(t,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Gn(i.createTime)}}(n)),W.resolve()}getNamedQuery(t,n){return W.resolve(this.lr.get(n))}saveNamedQuery(t,n){return this.lr.set(n.name,function(i){return{name:i.name,query:p1(i.bundledQuery),readTime:Gn(i.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(){this.overlays=new pe(pt.comparator),this.hr=new Map}getOverlay(t,n){return W.resolve(this.overlays.get(n))}getOverlays(t,n){const r=yi();return W.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.ht(t,n,s)}),W.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),W.resolve()}getOverlaysForCollection(t,n,r){const i=yi(),s=n.length+1,o=new pt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return W.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new pe((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=yi(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=yi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return W.resolve(a)}ht(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new KO(n,r));let s=this.hr.get(n);s===void 0&&(s=kt(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(){this.Pr=new Fe(Re.Ir),this.Tr=new Fe(Re.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,n){const r=new Re(t,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Ar(new Re(t,n))}Rr(t,n){t.forEach(r=>this.removeReference(r,n))}Vr(t){const n=new pt(new ce([])),r=new Re(n,t),i=new Re(n,t+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const n=new pt(new ce([])),r=new Re(n,t),i=new Re(n,t+1);let s=kt();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new Re(t,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Re{constructor(t,n){this.key=t,this.pr=n}static Ir(t,n){return pt.comparator(t.key,n.key)||zt(t.pr,n.pr)}static Er(t,n){return zt(t.pr,n.pr)||pt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Fe(Re.Ir)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new HO(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new Re(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return W.resolve(o)}lookupMutationBatch(t,n){return W.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.br(r),s=i<0?0:i;return W.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Re(n,0),i=new Re(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),W.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Fe(zt);return n.forEach(i=>{const s=new Re(i,0),o=new Re(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),W.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;pt.isDocumentKey(s)||(s=s.child(""));const o=new Re(new pt(s),0);let a=new Fe(zt);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.pr)),!0)},o),W.resolve(this.Dr(a))}Dr(t){const n=[];return t.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){se(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return W.forEach(n.mutations,i=>{const s=new Re(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.wr=r})}Mn(t){}containsKey(t,n){const r=new Re(n,0),i=this.wr.firstAfterOrEqual(r);return W.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}Cr(t,n){return this.br(t)}br(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Sr(t){const n=this.br(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(t){this.vr=t,this.docs=function(){return new pe(pt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():$e.newInvalidDocument(n))}getEntries(t,n){let r=mr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():$e.newInvalidDocument(i))}),W.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=mr();const o=n.path,a=new pt(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||lO(aO(u),r)<=0||(i.has(u.key)||uu(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return W.resolve(s)}getAllFromCollectionGroup(t,n,r,i){It()}Fr(t,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new b1(this)}getSize(t){return W.resolve(this.size)}}class b1 extends v1{constructor(t){super(),this.ar=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(t,i)):this.ar.removeEntry(r)}),W.waitFor(n)}getFromCache(t,n){return this.ar.getEntry(t,n)}getAllFromCache(t,n){return this.ar.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(t){this.persistence=t,this.Mr=new $s(n=>Hd(n),Kd),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Yd,this.targetCount=0,this.Br=Ps.Nn()}forEachTarget(t,n){return this.Mr.forEach((r,i)=>n(i)),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Br.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),W.resolve()}qn(t){this.Mr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Br=new Ps(n),this.highestTargetId=n),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,n){return this.qn(n),this.targetCount+=1,W.resolve()}updateTargetData(t,n){return this.qn(n),W.resolve()}removeTargetData(t,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),W.waitFor(s).next(()=>i)}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,n){const r=this.Mr.get(n)||null;return W.resolve(r)}addMatchingKeys(t,n,r){return this.Nr.dr(n,r),W.resolve()}removeMatchingKeys(t,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),W.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Nr.Vr(n),W.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Nr.gr(n);return W.resolve(r)}containsKey(t,n){return W.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(t,n){this.Lr={},this.overlays={},this.kr=new Ud(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new S1(this),this.indexManager=new g1,this.remoteDocumentCache=function(i){return new w1(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new d1(n),this.$r=new _1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new T1,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Lr[t.toKey()];return r||(r=new I1(n,this.referenceDelegate),this.Lr[t.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,n,r){at("MemoryPersistence","Starting transaction:",t);const i=new R1(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(t,n){return W.or(Object.values(this.Lr).map(r=>()=>r.containsKey(t,n)))}}class R1 extends uO{constructor(t){super(),this.currentSequenceNumber=t}}class Xd{constructor(t){this.persistence=t,this.zr=new Yd,this.jr=null}static Hr(t){return new Xd(t)}get Jr(){if(this.jr)return this.jr;throw It()}addReference(t,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),W.resolve()}removeReference(t,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),W.resolve()}markPotentiallyOrphaned(t,n){return this.Jr.add(n.toString()),W.resolve()}removeTarget(t,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Ur(){this.jr=new Set}Wr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.Jr,r=>{const i=pt.fromPath(r);return this.Yr(t,i).next(s=>{s||n.removeEntry(i,St.min())})}).next(()=>(this.jr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Yr(t,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(t){return 0}Yr(t,n){return W.or([()=>W.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Gr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(t,n){let r=kt(),i=kt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Jd(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=8}initialize(t,n){this.zi=t,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.ji(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new P1;return this.Ji(t,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(t,n,o,a.size)})}).next(()=>s.result)}Yi(t,n,r,i){return r.documentReadCount<this.Wi?(Ys()<=Ft.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",qi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),W.resolve()):(Ys()<=Ft.DEBUG&&at("QueryEngine","Query:",qi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ys()<=Ft.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",qi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Wn(n))):W.resolve())}ji(t,n){if(dm(n))return W.resolve(null);let r=Wn(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=lf(n,null,"F"),r=Wn(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=kt(...s);return this.zi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(t,lf(n,null,"F")):this.es(t,c,n,l)}))})))}Hi(t,n,r,i){return dm(n)||i.isEqual(St.min())?W.resolve(null):this.zi.getDocuments(t,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?W.resolve(null):(Ys()<=Ft.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qi(n)),this.es(t,o,n,oO(i,-1)).next(a=>a))})}Zi(t,n){let r=new Fe(Y_(t));return n.forEach((i,s)=>{uu(t,s)&&(r=r.add(s))}),r}Xi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(t,n,r){return Ys()<=Ft.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",qi(n)),this.zi.getDocumentsMatchingQuery(t,n,Zr.min(),r)}es(t,n,r,i){return this.zi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(t,n,r,i){this.persistence=t,this.ts=n,this.serializer=i,this.ns=new pe(zt),this.rs=new $s(s=>Hd(s),Kd),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new E1(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ns))}}function O1(e,t,n,r){return new x1(e,t,n,r)}async function mT(e,t){const n=Ct(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=kt();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function D1(e,t){const n=Ct(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,f=h.keys();let d=W.resolve();return f.forEach(p=>{d=d.next(()=>u.getEntry(l,p)).next(m=>{const y=c.docVersions.get(p);se(y!==null),m.version.compareTo(y)<0&&(h.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),d.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=kt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function vT(e){const t=Ct(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Qr.getLastRemoteSnapshotVersion(n))}function N1(e,t){const n=Ct(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];t.targetChanges.forEach((u,h)=>{const f=i.get(h);if(!f)return;a.push(n.Qr.removeMatchingKeys(s,u.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(s,u.addedDocuments,h)));let d=f.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(h)!==null?d=d.withResumeToken(Xe.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):u.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(u.resumeToken,r)),i=i.insert(h,d),function(m,y,v){return m.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(f,d,u)&&a.push(n.Qr.updateTargetData(s,d))});let l=mr(),c=kt();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(M1(s,o,t.documentUpdates).next(u=>{l=u.cs,c=u.ls})),!r.isEqual(St.min())){const u=n.Qr.getLastRemoteSnapshotVersion(s).next(h=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return W.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ns=i,s))}function M1(e,t,n){let r=kt(),i=kt();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=mr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(St.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):at("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:i}})}function k1(e,t){const n=Ct(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function V1(e,t){const n=Ct(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,t).next(s=>s?(i=s,W.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Lr(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(t,r.targetId)),r})}async function df(e,t,n){const r=Ct(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ua(o))throw o;at("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function bm(e,t,n){const r=Ct(e);let i=St.min(),s=kt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=Ct(l),f=h.rs.get(u);return f!==void 0?W.resolve(h.ns.get(f)):h.Qr.getTargetData(c,u)}(r,o,Wn(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,t,n?i:St.min(),n?s:kt())).next(a=>(L1(r,PO(t),a),{documents:a,hs:s})))}function L1(e,t,n){let r=e.ss.get(t)||St.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.ss.set(t,r)}class Sm{constructor(){this.activeTargetIds=MO()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class F1{constructor(){this.no=new Sm,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,n,r){this.ro[t]=n}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new Sm,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{io(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){at("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){at("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl=null;function th(){return fl===null?fl=function(){return 268435456+Math.round(2147483648*Math.random())}():fl++,"0x"+fl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}onMessage(t){this.Ao=t}close(){this.ho()}send(t){this.lo(t)}Ro(){this.Io()}Vo(t){this.Eo(t)}mo(t){this.Ao(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ue="WebChannelConnection";class $1 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=th(),l=this.bo(n,r);at("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,s,o),this.Co(n,l,c,i).then(u=>(at("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw bs("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=j1[n];return`${this.fo}/v1/${r}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Co(t,n,r,i){const s=th();return new Promise((o,a)=>{const l=new Yx;l.setWithCredentials(!0),l.listenOnce(zx.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case qu.NO_ERROR:const u=l.getResponseJson();at(Ue,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(u)),o(u);break;case qu.TIMEOUT:at(Ue,`RPC '${t}' ${s} timed out`),a(new dt(H.DEADLINE_EXCEEDED,"Request time out"));break;case qu.HTTP_ERROR:const h=l.getStatus();if(at(Ue,`RPC '${t}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const d=f==null?void 0:f.error;if(d&&d.status&&d.message){const p=function(y){const v=y.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(v)>=0?v:H.UNKNOWN}(d.status);a(new dt(p,d.message))}else a(new dt(H.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new dt(H.UNAVAILABLE,"Connection failed."));break;default:It()}}finally{at(Ue,`RPC '${t}' ${s} completed.`)}});const c=JSON.stringify(i);at(Ue,`RPC '${t}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Fo(t,n,r){const i=th(),s=[this.fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Wx(),a=Gx(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");at(Ue,`Creating RPC '${t}' stream ${i}: ${u}`,l);const h=o.createWebChannel(u,l);let f=!1,d=!1;const p=new B1({lo:y=>{d?at(Ue,`Not sending because RPC '${t}' stream ${i} is closed:`,y):(f||(at(Ue,`Opening RPC '${t}' stream ${i} transport.`),h.open(),f=!0),at(Ue,`RPC '${t}' stream ${i} sending:`,y),h.send(y))},ho:()=>h.close()}),m=(y,v,g)=>{y.listen(v,I=>{try{g(I)}catch(E){setTimeout(()=>{throw E},0)}})};return m(h,cl.EventType.OPEN,()=>{d||at(Ue,`RPC '${t}' stream ${i} transport opened.`)}),m(h,cl.EventType.CLOSE,()=>{d||(d=!0,at(Ue,`RPC '${t}' stream ${i} transport closed`),p.Vo())}),m(h,cl.EventType.ERROR,y=>{d||(d=!0,bs(Ue,`RPC '${t}' stream ${i} transport errored:`,y),p.Vo(new dt(H.UNAVAILABLE,"The operation could not be completed")))}),m(h,cl.EventType.MESSAGE,y=>{var v;if(!d){const g=y.data[0];se(!!g);const I=g,E=I.error||((v=I[0])===null||v===void 0?void 0:v.error);if(E){at(Ue,`RPC '${t}' stream ${i} received error:`,E);const w=E.status;let S=function(b){const x=_e[b];if(x!==void 0)return aT(x)}(w),O=E.message;S===void 0&&(S=H.INTERNAL,O="Unknown error status: "+w+" with message "+E.message),d=!0,p.Vo(new dt(S,O)),h.close()}else at(Ue,`RPC '${t}' stream ${i} received:`,g),p.mo(g)}}),m(a,Qx.STAT_EVENT,y=>{y.stat===rm.PROXY?at(Ue,`RPC '${t}' stream ${i} detected buffering proxy`):y.stat===rm.NOPROXY&&at(Ue,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ro()},0),p}}function eh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(e){return new ZO(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(t,n,r=1e3,i=1.5,s=6e4){this.oi=t,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(t){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&at("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),t())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(t,n,r,i,s,o,a,l){this.oi=t,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new yT(t,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(t){this.n_(),this.stream.send(t)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(t,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,t!==4?this.jo.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(gr(n.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.To(n)}i_(){}auth(){this.state=1;const t=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{t(()=>{const i=new dt(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(t,n){const r=this.s_(this.Wo);this.stream=this.a_(t,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(t){return at("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}s_(t){return n=>{this.oi.enqueueAndForget(()=>this.Wo===t?n():(at("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class H1 extends ET{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(t,n){return this.connection.Fo("Listen",t,n)}onMessage(t){this.jo.reset();const n=n1(this.serializer,t),r=function(s){if(!("targetChange"in s))return St.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?St.min():o.readTime?Gn(o.readTime):St.min()}(t);return this.listener.u_(n,r)}c_(t){const n={};n.database=ff(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=af(l)?{documents:s1(s,l)}:{query:o1(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=uT(s,o.resumeToken);const c=cf(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(St.min())>0){a.readTime=hc(s,o.snapshotVersion.toTimestamp());const c=cf(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,t);const r=l1(this.serializer,t);r&&(n.labels=r),this.t_(n)}l_(t){const n={};n.database=ff(this.serializer),n.removeTarget=t,this.t_(n)}}class K1 extends ET{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(t,n){return this.connection.Fo("Write",t,n)}onMessage(t){if(se(!!t.streamToken),this.lastStreamToken=t.streamToken,this.h_){this.jo.reset();const n=i1(t.writeResults,t.commitTime),r=Gn(t.commitTime);return this.listener.T_(r,n)}return se(!t.writeResults||t.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const t={};t.database=ff(this.serializer),this.t_(t)}I_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>r1(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1 extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new dt(H.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.So(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new dt(H.UNKNOWN,i.toString())})}vo(t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new dt(H.UNKNOWN,s.toString())})}terminate(){this.A_=!0}}class G1{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(t){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.y_("Offline")))}set(t){this.b_(),this.m_=0,t==="Online"&&(this.g_=!1),this.y_(t)}y_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}w_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(gr(n),this.g_=!1):at("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{Hi(this)&&(at("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Ct(l);c.v_.add(4),await $a(c),c.x_.set("Unknown"),c.v_.delete(4),await gu(c)}(this))})}),this.x_=new G1(r,i)}}async function gu(e){if(Hi(e))for(const t of e.F_)await t(!0)}async function $a(e){for(const t of e.F_)await t(!1)}function _T(e,t){const n=Ct(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),tp(n)?Zd(n):Hs(n).Jo()&&qd(n,t))}function TT(e,t){const n=Ct(e),r=Hs(n);n.C_.delete(t),r.Jo()&&IT(n,t),n.C_.size===0&&(r.Jo()?r.Xo():Hi(n)&&n.x_.set("Unknown"))}function qd(e,t){if(e.O_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Hs(e).c_(t)}function IT(e,t){e.O_.Ne(t),Hs(e).l_(t)}function Zd(e){e.O_=new YO({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>e.C_.get(t)||null,rt:()=>e.datastore.serializer.databaseId}),Hs(e).start(),e.x_.p_()}function tp(e){return Hi(e)&&!Hs(e).Ho()&&e.C_.size>0}function Hi(e){return Ct(e).v_.size===0}function wT(e){e.O_=void 0}async function Q1(e){e.C_.forEach((t,n)=>{qd(e,t)})}async function Y1(e,t){wT(e),tp(e)?(e.x_.S_(t),Zd(e)):e.x_.set("Unknown")}async function X1(e,t,n){if(e.x_.set("Online"),t instanceof cT&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(e,t)}catch(r){at("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await fc(e,r)}else if(t instanceof Pl?e.O_.Ue(t):t instanceof lT?e.O_.Ye(t):e.O_.ze(t),!n.isEqual(St.min()))try{const r=await vT(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.st(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.C_.get(c);u&&s.C_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.C_.get(l);if(!u)return;s.C_.set(l,u.withResumeToken(Xe.EMPTY_BYTE_STRING,u.snapshotVersion)),IT(s,l);const h=new Lr(u.target,l,c,u.sequenceNumber);qd(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){at("RemoteStore","Failed to raise snapshot:",r),await fc(e,r)}}async function fc(e,t,n){if(!Ua(t))throw t;e.v_.add(1),await $a(e),e.x_.set("Offline"),n||(n=()=>vT(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{at("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await gu(e)})}function bT(e,t){return t().catch(n=>fc(e,n,t))}async function mu(e){const t=Ct(e),n=ei(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;J1(t);)try{const i=await k1(t.localStore,r);if(i===null){t.D_.length===0&&n.Xo();break}r=i.batchId,q1(t,i)}catch(i){await fc(t,i)}ST(t)&&AT(t)}function J1(e){return Hi(e)&&e.D_.length<10}function q1(e,t){e.D_.push(t);const n=ei(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function ST(e){return Hi(e)&&!ei(e).Ho()&&e.D_.length>0}function AT(e){ei(e).start()}async function Z1(e){ei(e).d_()}async function tD(e){const t=ei(e);for(const n of e.D_)t.I_(n.mutations)}async function eD(e,t,n){const r=e.D_.shift(),i=Gd.from(r,t,n);await bT(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await mu(e)}async function nD(e,t){t&&ei(e).P_&&await async function(r,i){if(function(o){return GO(o)&&o!==H.ABORTED}(i.code)){const s=r.D_.shift();ei(r).Zo(),await bT(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await mu(r)}}(e,t),ST(e)&&AT(e)}async function Rm(e,t){const n=Ct(e);n.asyncQueue.verifyOperationInProgress(),at("RemoteStore","RemoteStore received new credentials");const r=Hi(n);n.v_.add(3),await $a(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await gu(n)}async function rD(e,t){const n=Ct(e);t?(n.v_.delete(2),await gu(n)):t||(n.v_.add(2),await $a(n),n.x_.set("Unknown"))}function Hs(e){return e.N_||(e.N_=function(n,r,i){const s=Ct(n);return s.R_(),new H1(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Po:Q1.bind(null,e),To:Y1.bind(null,e),u_:X1.bind(null,e)}),e.F_.push(async t=>{t?(e.N_.Zo(),tp(e)?Zd(e):e.x_.set("Unknown")):(await e.N_.stop(),wT(e))})),e.N_}function ei(e){return e.B_||(e.B_=function(n,r,i){const s=Ct(n);return s.R_(),new K1(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Po:Z1.bind(null,e),To:nD.bind(null,e),E_:tD.bind(null,e),T_:eD.bind(null,e)}),e.F_.push(async t=>{t?(e.B_.Zo(),await mu(e)):(await e.B_.stop(),e.D_.length>0&&(at("RemoteStore",`Stopping write stream with ${e.D_.length} pending writes`),e.D_=[]))})),e.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new ep(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(H.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function np(e,t){if(gr("AsyncQueue",`${t}: ${e}`),Ua(e))return new dt(H.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(t){this.comparator=t?(n,r)=>t(n,r)||pt.comparator(n.key,r.key):(n,r)=>pt.comparator(n.key,r.key),this.keyedMap=ao(),this.sortedSet=new pe(this.comparator)}static emptySet(t){return new ps(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ps)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new ps;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(){this.L_=new pe(pt.comparator)}track(t){const n=t.doc.key,r=this.L_.get(n);r?t.type!==0&&r.type===3?this.L_=this.L_.insert(n,t):t.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.L_=this.L_.remove(n):t.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:t.doc}):It():this.L_=this.L_.insert(n,t)}k_(){const t=[];return this.L_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Cs{constructor(t,n,r,i,s,o,a,l,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Cs(t,n,ps.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&cu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this.q_=void 0,this.listeners=[]}}class sD{constructor(){this.queries=new $s(t=>Q_(t),cu),this.onlineState="Unknown",this.Q_=new Set}}async function RT(e,t){const n=Ct(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new iD),i)try{s.q_=await n.onListen(r)}catch(o){const a=np(o,`Initialization of query '${qi(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.listeners.push(t),t.K_(n.onlineState),s.q_&&t.U_(s.q_)&&rp(n)}async function PT(e,t){const n=Ct(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function oD(e,t){const n=Ct(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.U_(i)&&(r=!0);o.q_=i}}r&&rp(n)}function aD(e,t,n){const r=Ct(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function rp(e){e.Q_.forEach(t=>{t.next()})}class CT{constructor(t,n,r){this.query=t,this.W_=n,this.G_=!1,this.z_=null,this.onlineState="Unknown",this.options=r||{}}U_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Cs(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.G_?this.j_(t)&&(this.W_.next(t),n=!0):this.H_(t,this.onlineState)&&(this.J_(t),n=!0),this.z_=t,n}onError(t){this.W_.error(t)}K_(t){this.onlineState=t;let n=!1;return this.z_&&!this.G_&&this.H_(this.z_,t)&&(this.J_(this.z_),n=!0),n}H_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.Y_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}j_(t){if(t.docChanges.length>0)return!0;const n=this.z_&&this.z_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}J_(t){t=Cs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.G_=!0,this.W_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(t){this.key=t}}class OT{constructor(t){this.key=t}}class lD{constructor(t,n){this.query=t,this.sa=n,this.oa=null,this.hasCachedResults=!1,this.current=!1,this._a=kt(),this.mutatedKeys=kt(),this.aa=Y_(t),this.ua=new ps(this.aa)}get ca(){return this.sa}la(t,n){const r=n?n.ha:new Pm,i=n?n.ua:this.ua;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((u,h)=>{const f=i.get(u),d=uu(this.query,h)?h:null,p=!!f&&this.mutatedKeys.has(f.key),m=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let y=!1;f&&d?f.data.isEqual(d.data)?p!==m&&(r.track({type:3,doc:d}),y=!0):this.Pa(f,d)||(r.track({type:2,doc:d}),y=!0,(l&&this.aa(d,l)>0||c&&this.aa(d,c)<0)&&(a=!0)):!f&&d?(r.track({type:0,doc:d}),y=!0):f&&!d&&(r.track({type:1,doc:f}),y=!0,(l||c)&&(a=!0)),y&&(d?(o=o.add(d),s=m?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{ua:o,ha:r,Xi:a,mutatedKeys:s}}Pa(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const i=this.ua;this.ua=t.ua,this.mutatedKeys=t.mutatedKeys;const s=t.ha.k_();s.sort((c,u)=>function(f,d){const p=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return It()}};return p(f)-p(d)}(c.type,u.type)||this.aa(c.doc,u.doc)),this.Ia(r);const o=n?this.Ta():[],a=this._a.size===0&&this.current?1:0,l=a!==this.oa;return this.oa=a,s.length!==0||l?{snapshot:new Cs(this.query,t.ua,i,s,t.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}K_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ua:this.ua,ha:new Pm,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Ea:[]}}da(t){return!this.sa.has(t)&&!!this.ua.has(t)&&!this.ua.get(t).hasLocalMutations}Ia(t){t&&(t.addedDocuments.forEach(n=>this.sa=this.sa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.sa=this.sa.delete(n)),this.current=t.current)}Ta(){if(!this.current)return[];const t=this._a;this._a=kt(),this.ua.forEach(r=>{this.da(r.key)&&(this._a=this._a.add(r.key))});const n=[];return t.forEach(r=>{this._a.has(r)||n.push(new OT(r))}),this._a.forEach(r=>{t.has(r)||n.push(new xT(r))}),n}Aa(t){this.sa=t.hs,this._a=kt();const n=this.la(t.documents);return this.applyChanges(n,!0)}Ra(){return Cs.fromInitialDocuments(this.query,this.ua,this.mutatedKeys,this.oa===0,this.hasCachedResults)}}class cD{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class uD{constructor(t){this.key=t,this.Va=!1}}class hD{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ma={},this.fa=new $s(a=>Q_(a),cu),this.ga=new Map,this.pa=new Set,this.ya=new pe(pt.comparator),this.wa=new Map,this.Sa=new Yd,this.ba={},this.Da=new Map,this.Ca=Ps.Bn(),this.onlineState="Unknown",this.va=void 0}get isPrimaryClient(){return this.va===!0}}async function fD(e,t){const n=ID(e);let r,i;const s=n.fa.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ra();else{const o=await V1(n.localStore,Wn(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await dD(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&_T(n.remoteStore,o)}return i}async function dD(e,t,n,r,i){e.Fa=(h,f,d)=>async function(m,y,v,g){let I=y.view.la(v);I.Xi&&(I=await bm(m.localStore,y.query,!1).then(({documents:S})=>y.view.la(S,I)));const E=g&&g.targetChanges.get(y.targetId),w=y.view.applyChanges(I,m.isPrimaryClient,E);return xm(m,y.targetId,w.Ea),w.snapshot}(e,h,f,d);const s=await bm(e.localStore,t,!0),o=new lD(t,s.hs),a=o.la(s.documents),l=Ba.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),c=o.applyChanges(a,e.isPrimaryClient,l);xm(e,n,c.Ea);const u=new cD(t,n,o);return e.fa.set(t,u),e.ga.has(n)?e.ga.get(n).push(t):e.ga.set(n,[t]),c.snapshot}async function pD(e,t){const n=Ct(e),r=n.fa.get(t),i=n.ga.get(r.targetId);if(i.length>1)return n.ga.set(r.targetId,i.filter(s=>!cu(s,t))),void n.fa.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await df(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),TT(n.remoteStore,r.targetId),pf(n,r.targetId)}).catch(Fa)):(pf(n,r.targetId),await df(n.localStore,r.targetId,!0))}async function gD(e,t,n){const r=wD(e);try{const i=await function(o,a){const l=Ct(o),c=Ae.now(),u=a.reduce((d,p)=>d.add(p.key),kt());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",d=>{let p=mr(),m=kt();return l.os.getEntries(d,u).next(y=>{p=y,p.forEach((v,g)=>{g.isValidDocument()||(m=m.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(d,p)).next(y=>{h=y;const v=[];for(const g of a){const I=BO(g,h.get(g.key).overlayedDocument);I!=null&&v.push(new si(g.key,I,B_(I.value.mapValue),bn.exists(!0)))}return l.mutationQueue.addMutationBatch(d,c,v,a)}).next(y=>{f=y;const v=y.applyToLocalDocumentSet(h,m);return l.documentOverlayCache.saveOverlays(d,y.batchId,v)})}).then(()=>({batchId:f.batchId,changes:J_(h)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.ba[o.currentUser.toKey()];c||(c=new pe(zt)),c=c.insert(a,l),o.ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await Ha(r,i.changes),await mu(r.remoteStore)}catch(i){const s=np(i,"Failed to persist write");n.reject(s)}}async function DT(e,t){const n=Ct(e);try{const r=await N1(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.wa.get(s);o&&(se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Va=!0:i.modifiedDocuments.size>0?se(o.Va):i.removedDocuments.size>0&&(se(o.Va),o.Va=!1))}),await Ha(n,r,t)}catch(r){await Fa(r)}}function Cm(e,t,n){const r=Ct(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.fa.forEach((s,o)=>{const a=o.view.K_(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Ct(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const f of h.listeners)f.K_(a)&&(c=!0)}),c&&rp(l)}(r.eventManager,t),i.length&&r.ma.u_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function mD(e,t,n){const r=Ct(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.wa.get(t),s=i&&i.key;if(s){let o=new pe(pt.comparator);o=o.insert(s,$e.newNoDocument(s,St.min()));const a=kt().add(s),l=new du(St.min(),new Map,new pe(zt),o,a);await DT(r,l),r.ya=r.ya.remove(s),r.wa.delete(t),ip(r)}else await df(r.localStore,t,!1).then(()=>pf(r,t,n)).catch(Fa)}async function vD(e,t){const n=Ct(e),r=t.batch.batchId;try{const i=await D1(n.localStore,t);MT(n,r,null),NT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ha(n,i)}catch(i){await Fa(i)}}async function yD(e,t,n){const r=Ct(e);try{const i=await function(o,a){const l=Ct(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(se(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,t);MT(r,t,n),NT(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ha(r,i)}catch(i){await Fa(i)}}function NT(e,t){(e.Da.get(t)||[]).forEach(n=>{n.resolve()}),e.Da.delete(t)}function MT(e,t,n){const r=Ct(e);let i=r.ba[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.ba[r.currentUser.toKey()]=i}}function pf(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ga.get(t))e.fa.delete(r),n&&e.ma.Ma(r,n);e.ga.delete(t),e.isPrimaryClient&&e.Sa.Vr(t).forEach(r=>{e.Sa.containsKey(r)||kT(e,r)})}function kT(e,t){e.pa.delete(t.path.canonicalString());const n=e.ya.get(t);n!==null&&(TT(e.remoteStore,n),e.ya=e.ya.remove(t),e.wa.delete(n),ip(e))}function xm(e,t,n){for(const r of n)r instanceof xT?(e.Sa.addReference(r.key,t),ED(e,r)):r instanceof OT?(at("SyncEngine","Document no longer in limbo: "+r.key),e.Sa.removeReference(r.key,t),e.Sa.containsKey(r.key)||kT(e,r.key)):It()}function ED(e,t){const n=t.key,r=n.path.canonicalString();e.ya.get(n)||e.pa.has(r)||(at("SyncEngine","New document in limbo: "+n),e.pa.add(r),ip(e))}function ip(e){for(;e.pa.size>0&&e.ya.size<e.maxConcurrentLimboResolutions;){const t=e.pa.values().next().value;e.pa.delete(t);const n=new pt(ce.fromString(t)),r=e.Ca.next();e.wa.set(r,new uD(n)),e.ya=e.ya.insert(n,r),_T(e.remoteStore,new Lr(Wn(lu(n.path)),r,"TargetPurposeLimboResolution",Ud.ae))}}async function Ha(e,t,n){const r=Ct(e),i=[],s=[],o=[];r.fa.isEmpty()||(r.fa.forEach((a,l)=>{o.push(r.Fa(l,t,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const u=Jd.Ki(l.targetId,c);s.push(u)}}))}),await Promise.all(o),r.ma.u_(i),await async function(l,c){const u=Ct(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>W.forEach(c,f=>W.forEach(f.qi,d=>u.persistence.referenceDelegate.addReference(h,f.targetId,d)).next(()=>W.forEach(f.Qi,d=>u.persistence.referenceDelegate.removeReference(h,f.targetId,d)))))}catch(h){if(!Ua(h))throw h;at("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const d=u.ns.get(f),p=d.snapshotVersion,m=d.withLastLimboFreeSnapshotVersion(p);u.ns=u.ns.insert(f,m)}}}(r.localStore,s))}async function _D(e,t){const n=Ct(e);if(!n.currentUser.isEqual(t)){at("SyncEngine","User change. New user:",t.toKey());const r=await mT(n.localStore,t);n.currentUser=t,function(s,o){s.Da.forEach(a=>{a.forEach(l=>{l.reject(new dt(H.CANCELLED,o))})}),s.Da.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Ha(n,r.us)}}function TD(e,t){const n=Ct(e),r=n.wa.get(t);if(r&&r.Va)return kt().add(r.key);{let i=kt();const s=n.ga.get(t);if(!s)return i;for(const o of s){const a=n.fa.get(o);i=i.unionWith(a.view.ca)}return i}}function ID(e){const t=Ct(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=DT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=TD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=mD.bind(null,t),t.ma.u_=oD.bind(null,t.eventManager),t.ma.Ma=aD.bind(null,t.eventManager),t}function wD(e){const t=Ct(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=vD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yD.bind(null,t),t}class Om{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=pu(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return O1(this.persistence,new C1,t.initialUser,this.serializer)}createPersistence(t){return new A1(Xd.Hr,this.serializer)}createSharedClientState(t){return new F1}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class bD{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Cm(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_D.bind(null,this.syncEngine),await rD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new sD}()}createDatastore(t){const n=pu(t.databaseInfo.databaseId),r=function(s){return new $1(s)}(t.databaseInfo);return function(s,o,a,l){return new W1(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new z1(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>Cm(this.syncEngine,n,0),function(){return Am.C()?new Am:new U1}())}createSyncEngine(t,n){return function(i,s,o,a,l,c,u){const h=new hD(i,s,o,a,l,c);return u&&(h.va=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=Ct(n);at("RemoteStore","RemoteStore shutting down."),r.v_.add(5),await $a(r),r.M_.shutdown(),r.x_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Na(this.observer.next,t)}error(t){this.observer.error?this.Na(this.observer.error,t):gr("Uncaught Error in snapshot listener:",t.toString())}Ba(){this.muted=!0}Na(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Be.UNAUTHENTICATED,this.clientId=F_.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{at("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(at("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new dt(H.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=np(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function nh(e,t){e.asyncQueue.verifyOperationInProgress(),at("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await mT(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Dm(e,t){e.asyncQueue.verifyOperationInProgress();const n=await RD(e);at("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>Rm(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>Rm(t.remoteStore,s)),e._onlineComponents=t}function AD(e){return e.name==="FirebaseError"?e.code===H.FAILED_PRECONDITION||e.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function RD(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){at("FirestoreClient","Using user provided OfflineComponentProvider");try{await nh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!AD(n))throw n;bs("Error using user provided cache. Falling back to memory cache: "+n),await nh(e,new Om)}}else at("FirestoreClient","Using default OfflineComponentProvider"),await nh(e,new Om);return e._offlineComponents}async function LT(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(at("FirestoreClient","Using user provided OnlineComponentProvider"),await Dm(e,e._uninitializedComponentsProvider._online)):(at("FirestoreClient","Using default OnlineComponentProvider"),await Dm(e,new bD))),e._onlineComponents}function PD(e){return LT(e).then(t=>t.syncEngine)}async function gf(e){const t=await LT(e),n=t.eventManager;return n.onListen=fD.bind(null,t.syncEngine),n.onUnlisten=pD.bind(null,t.syncEngine),n}function CD(e,t,n={}){const r=new Wr;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new VT({next:f=>{o.enqueueAndForget(()=>PT(s,h));const d=f.docs.has(a);!d&&f.fromCache?c.reject(new dt(H.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&f.fromCache&&l&&l.source==="server"?c.reject(new dt(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new CT(lu(a.path),u,{includeMetadataChanges:!0,Y_:!0});return RT(s,h)}(await gf(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(e,t,n){if(!n)throw new dt(H.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function xD(e,t,n,r){if(t===!0&&r===!0)throw new dt(H.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Mm(e){if(!pt.isDocumentKey(e))throw new dt(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function km(e){if(pt.isDocumentKey(e))throw new dt(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function sp(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":It()}function Sn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new dt(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sp(e);throw new dt(H.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new dt(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new dt(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}xD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FT((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new dt(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new dt(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new dt(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class vu{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new dt(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new dt(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vm(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Jx;switch(r.type){case"firstParty":return new eO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new dt(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Nm.get(n);r&&(at("ComponentProvider","Removing Datastore"),Nm.delete(n),r.terminate())}(this),Promise.resolve()}}function OD(e,t,n,r={}){var i;const s=(e=Sn(e,vu))._getSettings(),o=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Be.MOCK_USER;else{a=mA(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new dt(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Be(c)}e._authCredentials=new qx(new L_(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new yu(this.firestore,t,this._query)}}class tn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new tn(this.firestore,t,this._key)}}class Gr extends yu{constructor(t,n,r){super(t,n,lu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new tn(this.firestore,null,new pt(t))}withConverter(t){return new Gr(this.firestore,t,this._path)}}function Lm(e,t,...n){if(e=Ye(e),UT("collection","path",t),e instanceof vu){const r=ce.fromString(t,...n);return km(r),new Gr(e,null,r)}{if(!(e instanceof tn||e instanceof Gr))throw new dt(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ce.fromString(t,...n));return km(r),new Gr(e.firestore,null,r)}}function hi(e,t,...n){if(e=Ye(e),arguments.length===1&&(t=F_.V()),UT("doc","path",t),e instanceof vu){const r=ce.fromString(t,...n);return Mm(r),new tn(e,null,new pt(r))}{if(!(e instanceof tn||e instanceof Gr))throw new dt(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ce.fromString(t,...n));return Mm(r),new tn(e.firestore,e instanceof Gr?e.converter:null,new pt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(){this.Ya=Promise.resolve(),this.Za=[],this.Xa=!1,this.eu=[],this.tu=null,this.nu=!1,this.ru=!1,this.iu=[],this.jo=new yT(this,"async_queue_retry"),this.su=()=>{const n=eh();n&&at("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const t=eh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.su)}get isShuttingDown(){return this.Xa}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ou(),this._u(t)}enterRestrictedMode(t){if(!this.Xa){this.Xa=!0,this.ru=t||!1;const n=eh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.su)}}enqueue(t){if(this.ou(),this.Xa)return new Promise(()=>{});const n=new Wr;return this._u(()=>this.Xa&&this.ru?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Za.push(t),this.au()))}async au(){if(this.Za.length!==0){try{await this.Za[0](),this.Za.shift(),this.jo.reset()}catch(t){if(!Ua(t))throw t;at("AsyncQueue","Operation failed with retryable error: "+t)}this.Za.length>0&&this.jo.qo(()=>this.au())}}_u(t){const n=this.Ya.then(()=>(this.nu=!0,t().catch(r=>{this.tu=r,this.nu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw gr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.nu=!1,r))));return this.Ya=n,n}enqueueAfterDelay(t,n,r){this.ou(),this.iu.indexOf(t)>-1&&(n=0);const i=ep.createAndSchedule(this,t,n,r,s=>this.uu(s));return this.eu.push(i),i}ou(){this.tu&&It()}verifyOperationInProgress(){}async cu(){let t;do t=this.Ya,await t;while(t!==this.Ya)}lu(t){for(const n of this.eu)if(n.timerId===t)return!0;return!1}hu(t){return this.cu().then(()=>{this.eu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.eu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.cu()})}Pu(t){this.iu.push(t)}uu(t){const n=this.eu.indexOf(t);this.eu.splice(n,1)}}function Fm(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(e,["next","error","complete"])}class ni extends vu{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new DD}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||jT(this),this._firestoreClient.terminate()}}function ND(e,t){const n=typeof e=="object"?e:eE(),r=typeof e=="string"?e:t||"(default)",i=od(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=pA("firestore");s&&OD(i,...s)}return i}function op(e){return e._firestoreClient||jT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function jT(e){var t,n,r;const i=e._freezeSettings(),s=function(a,l,c,u){return new dO(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,FT(u.experimentalLongPollingOptions),u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new SD(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xs(Xe.fromBase64String(t))}catch(n){throw new dt(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new xs(Xe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new dt(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ve(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new dt(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new dt(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=/^__.*__$/;class kD{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new si(t,this.data,this.fieldMask,n,this.fieldTransforms):new ja(t,this.data,n,this.fieldTransforms)}}class BT{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new si(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function $T(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw It()}}class cp{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Iu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(t){return new cp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}du(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Eu({path:r,Au:!1});return i.Ru(t),i}Vu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Eu({path:r,Au:!1});return i.Iu(),i}mu(t){return this.Eu({path:void 0,Au:!0})}fu(t){return dc(t,this.settings.methodName,this.settings.gu||!1,this.path,this.settings.pu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Iu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ru(this.path.get(t))}Ru(t){if(t.length===0)throw this.fu("Document fields must not be empty");if($T(this.Tu)&&MD.test(t))throw this.fu('Document fields cannot begin and end with "__"')}}class VD{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||pu(t)}yu(t,n,r,i=!1){return new cp({Tu:t,methodName:n,pu:r,path:Ve.emptyPath(),Au:!1,gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function up(e){const t=e._freezeSettings(),n=pu(e._databaseId);return new VD(e._databaseId,!!t.ignoreUndefinedProperties,n)}function HT(e,t,n,r,i,s={}){const o=e.yu(s.merge||s.mergeFields?2:0,t,n,i);hp("Data must be an object, but it was:",o,r);const a=KT(r,o);let l,c;if(s.merge)l=new mn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const f=mf(t,h,n);if(!o.contains(f))throw new dt(H.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);GT(u,f)||u.push(f)}l=new mn(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new kD(new on(a),l,c)}class _u extends ap{_toFieldTransform(t){if(t.Tu!==2)throw t.Tu===1?t.fu(`${this._methodName}() can only appear at the top level of your update data`):t.fu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof _u}}function LD(e,t,n,r){const i=e.yu(1,t,n);hp("Data must be an object, but it was:",i,r);const s=[],o=on.empty();$i(r,(l,c)=>{const u=fp(t,l,n);c=Ye(c);const h=i.Vu(u);if(c instanceof _u)s.push(u);else{const f=Tu(c,h);f!=null&&(s.push(u),o.set(u,f))}});const a=new mn(s);return new BT(o,a,i.fieldTransforms)}function FD(e,t,n,r,i,s){const o=e.yu(1,t,n),a=[mf(t,r,n)],l=[i];if(s.length%2!=0)throw new dt(H.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(mf(t,s[f])),l.push(s[f+1]);const c=[],u=on.empty();for(let f=a.length-1;f>=0;--f)if(!GT(c,a[f])){const d=a[f];let p=l[f];p=Ye(p);const m=o.Vu(d);if(p instanceof _u)c.push(d);else{const y=Tu(p,m);y!=null&&(c.push(d),u.set(d,y))}}const h=new mn(c);return new BT(u,h,o.fieldTransforms)}function Tu(e,t){if(WT(e=Ye(e)))return hp("Unsupported field value:",t,e),KT(e,t);if(e instanceof ap)return function(r,i){if(!$T(i.Tu))throw i.fu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.fu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Au&&t.Tu!==4)throw t.fu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Tu(a,i.mu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=Ye(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ae.fromDate(r);return{timestampValue:hc(i.serializer,s)}}if(r instanceof Ae){const s=new Ae(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hc(i.serializer,s)}}if(r instanceof lp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xs)return{bytesValue:uT(i.serializer,r._byteString)};if(r instanceof tn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.fu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Qd(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.fu(`Unsupported field value: ${sp(r)}`)}(e,t)}function KT(e,t){const n={};return U_(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$i(e,(r,i)=>{const s=Tu(i,t.du(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function WT(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ae||e instanceof lp||e instanceof xs||e instanceof tn||e instanceof ap)}function hp(e,t,n){if(!WT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=sp(n);throw r==="an object"?t.fu(e+" a custom object"):t.fu(e+" "+r)}}function mf(e,t,n){if((t=Ye(t))instanceof Eu)return t._internalPath;if(typeof t=="string")return fp(e,t);throw dc("Field path arguments must be of type string or ",e,!1,void 0,n)}const UD=new RegExp("[~\\*/\\[\\]]");function fp(e,t,n){if(t.search(UD)>=0)throw dc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Eu(...t.split("."))._internalPath}catch{throw dc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function dc(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new dt(H.INVALID_ARGUMENT,a+e+l)}function GT(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new jD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(QT("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jD extends zT{data(){return super.data()}}function QT(e,t){return typeof t=="string"?fp(e,t):t instanceof Eu?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new dt(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $D{convertValue(t,n="none"){switch(ki(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ie(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Mi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw It()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return $i(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new lp(Ie(t.latitude),Ie(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Bd(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(oa(t));default:return null}}convertTimestamp(t){const n=ti(t);return new Ae(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ce.fromString(t);se(gT(r));const i=new aa(r.get(1),r.get(3)),s=new pt(r.popFirst(5));return i.isEqual(n)||gr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class XT extends zT{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Cl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(QT("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Cl extends XT{data(t={}){return super.data(t)}}class HD{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new co(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Cl(this._firestore,this._userDataWriter,r.key,r,new co(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new dt(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Cl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new co(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Cl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new co(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:KD(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function KD(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return It()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(e){e=Sn(e,tn);const t=Sn(e.firestore,ni);return CD(op(t),e._key).then(n=>qT(t,e,n))}class JT extends $D{constructor(t){super(),this.firestore=t}convertBytes(t){return new xs(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new tn(this.firestore,null,n)}}function GD(e,t,n){e=Sn(e,tn);const r=Sn(e.firestore,ni),i=YT(e.converter,t,n);return Iu(r,[HT(up(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,bn.none())])}function rh(e,t,n,...r){e=Sn(e,tn);const i=Sn(e.firestore,ni),s=up(i);let o;return o=typeof(t=Ye(t))=="string"||t instanceof Eu?FD(s,"updateDoc",e._key,t,n,r):LD(s,"updateDoc",e._key,t),Iu(i,[o.toMutation(e._key,bn.exists(!0))])}function zD(e){return Iu(Sn(e.firestore,ni),[new Wd(e._key,bn.none())])}function QD(e,t){const n=Sn(e.firestore,ni),r=hi(e),i=YT(e.converter,t);return Iu(n,[HT(up(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,bn.exists(!1))]).then(()=>r)}function YD(e,...t){var n,r,i;e=Ye(e);let s={includeMetadataChanges:!1},o=0;typeof t[o]!="object"||Fm(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Fm(t[o])){const h=t[o];t[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),t[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),t[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,c,u;if(e instanceof tn)c=Sn(e.firestore,ni),u=lu(e._key.path),l={next:h=>{t[o]&&t[o](qT(c,e,h))},error:t[o+1],complete:t[o+2]};else{const h=Sn(e,yu);c=Sn(h.firestore,ni),u=h._query;const f=new JT(c);l={next:d=>{t[o]&&t[o](new HD(c,f,h,d))},error:t[o+1],complete:t[o+2]},BD(e._query)}return function(f,d,p,m){const y=new VT(m),v=new CT(d,y,p);return f.asyncQueue.enqueueAndForget(async()=>RT(await gf(f),v)),()=>{y.Ba(),f.asyncQueue.enqueueAndForget(async()=>PT(await gf(f),v))}}(op(c),u,a,l)}function Iu(e,t){return function(r,i){const s=new Wr;return r.asyncQueue.enqueueAndForget(async()=>gD(await PD(r),i,s)),s.promise}(op(e),t)}function qT(e,t,n){const r=n.docs.get(t._key),i=new JT(e);return new XT(e,i,t._key,r,new co(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(i){Bs=i})(Ls),Is(new Ci("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ni(new Zx(r.getProvider("auth-internal")),new rO(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new dt(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new aa(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Kr(im,"4.3.0",t),Kr(im,"4.3.0","esm2017")})();const Ee=oA("toDoStore",{state:()=>({isLoaderActive:!1,userId:"",userTasksCollection:Lm(El,"users","cm8zSIV4fBIcf7XbMihz","tasks"),userName:"",tasks:{},arrTasks:[],isActive:!1,currentTask:{},priority:{minimal:"green",medium:"yellow",maximum:"red"},isSignUpActive:!1}),actions:{async getTasks(){try{this.startLoader(),this.userId=await this.getUserId();const e=hi(El,"users",this.userId);WD(e).then(t=>{const n=t.data();this.userName=n.name}),this.userTasksCollection=Lm(El,"users",this.userId,"tasks"),YD(this.userTasksCollection,t=>{t.forEach(n=>{let r={};r.id=n.id,r.title=n.data().title,r.priority=n.data().priority,r.description=n.data().description,r.image=n.data().image,r.type=n.data().type,r.date=n.data().date,r.done=n.data().done,r.fullDate=n.data().fullDate,this.addTask(r)}),this.endLoader()})}catch(e){this.endLoader(),console.log(e)}},startLoader(){this.isLoaderActive=!0},endLoader(){this.isLoaderActive=!1},async login({email:e,password:t}){try{await OP(io(),e,t),this.userId=this.getUserId()}catch(n){throw n}},changeIsSignUpActive(){this.isSignUpActive?this.isSignUpActive=!1:this.isSignUpActive=!0},async logout(){this.userId="",this.tasks={},await io().signOut()},async register({email:e,password:t,name:n}){try{await xP(io(),e,t),this.userId=this.getUserId();const r=hi(El,"users",this.userId);GD(r,{name:n})}catch(r){throw r}},getUserId(){const e=io().currentUser;return e?e.uid:null},addTask(e){this.tasks[e.type]?this.tasks[e.type][e.id]=e:this.tasks[e.type]={},this.tasks[e.type][e.id]=e,this.isActive=!1},updateFirebase(){for(let e in this.tasks)for(let t in this.tasks[e]){let n=this.tasks[e][t];rh(hi(this.userTasksCollection,n.id),{type:n.type})}},addToFirebase(e){QD(this.userTasksCollection,{title:e.title,priority:e.priority,description:e.description,type:e.type,done:e.done,date:e.date,image:e.image,fullDate:e.fullDate})},toggleDone(e){rh(hi(this.userTasksCollection,e.id),{done:!e.done})},redactTask(e){if(rh(hi(this.userTasksCollection,e.id),{title:e.title,description:e.description,priority:e.priority,type:e.type,image:e.image}),this.tasks[e.type]&&this.tasks[e.type][e.id]){let t=this.tasks[e.type][e.id];t.title=e.title,t.description=e.description,t.priority=e.priority,t.image=e.image}else{for(let n in this.tasks)this.tasks[n][e.id]&&delete this.tasks[n][e.id];let t={};t.title=e.title,t.description=e.description,t.image=e.image,t.priority=e.priority,t.type=e.type,t.id=e.id,t.date=e.date,this.tasks[e.type]?this.tasks[e.type][e.id]=t:(this.tasks[e.type]={},this.tasks[e.type][e.id]=t)}this.isActive=!1},removeTask(e){delete this.tasks[e.type][e.id],zD(hi(this.userTasksCollection,e.id))},sortByPriority(){for(let e of Object.keys(this.tasks)){const t=this.tasks[e],n={},r=Object.keys(t).sort((i,s)=>{const o=t[i],a=t[s];return o.priority.localeCompare(a.priority)});for(let i of r)n[i]=t[i];this.tasks[e]=n}},sortByDate(){for(let e of Object.keys(this.tasks)){const t=this.tasks[e];let n={},r=Object.keys(t).sort((i,s)=>t[s].fullDate-t[i].fullDate);for(let i of r)n[i]=this.tasks[e][i];this.tasks[e]=n}},hideForm(){this.isActive=!1},showForm(){this.isActive=!0},showRedactForm(e){this.isActive=!0,this.currentTask.title=e.title,this.currentTask.description=e.description,this.currentTask.priority=e.priority,this.currentTask.id=e.id,this.currentTask.type=e.type,this.currentTask.date=e.date,this.currentTask.image=e.image},removeType(e){delete this.tasks[e]}}});const XD={name:"Initial",data(){return{store:Ee()}},computed:{userId(){return this.store.userId}},methods:{showForm(){this.$emit("showForm")}}},JD={class:"initial"},qD={class:"initial__text"};function ZD(e,t,n,r,i,s){return ue(),Pe("div",JD,[nt("div",qD,gn(s.userId?"Let create some tasks!":'First, you need to create an account or log in. Click the button in the upper right corner to open the login form."'),1),s.userId?(ue(),Pe("button",{key:0,class:"initial__btn",onClick:t[0]||(t[0]=o=>i.store.showForm())},"Add new task")):Vr("",!0)])}const tN=qn(XD,[["render",ZD]]);const eN={name:"OverlayForm",props:{isActive:{type:Boolean,default:!1}},data(){return{store:Ee()}},computed:{currentTask(){return this.store.currentTask},formTitle(){return this.currentTask.id?"Redact the task":"Create the task"},submitText(){return this.currentTask.id?"Save changes":"Add new task"}},methods:{limitToSingleLetter(e){const t=e.target.value;/^\d/.test(t)?this.currentTask.type="":this.currentTask.type=t},hideForm(){this.currentTask.title="",this.currentTask.description="",this.currentTask.id="",this.currentTask.priority="minimal",this.currentTask.type="",this.currentTask.image=null,this.store.hideForm()},getDate(){let e=new Date;return`${e.getHours()}:${e.getMinutes()} ${e.getDate()}.${e.getMonth()+1}.${e.getFullYear()}`},saveImage(e){const t=e.target.files[0];if(t){const n=new Blob([t],{type:t.type}),r=new FileReader;r.onload=i=>{this.currentTask.image=i.target.result},r.readAsDataURL(n)}},submit(){let e={title:this.currentTask.title||null,description:this.currentTask.description||null,priority:this.currentTask.priority||"minimal",type:this.currentTask.type||"Without type",image:this.currentTask.image||null,done:!1,fullDate:this.currentTask.fullDate||new Date};this.currentTask.id?(e.id=this.currentTask.id,e.priority=e.priority!==""?e.priority:this.currentTask.priority,e.title=e.title!==""?e.title:this.currentTask.title,e.description=e.description!==""?e.description:this.currentTask.description,e.type=e.type!==""?e.type:this.currentTask.type,e.date=this.currentTask.date,this.store.redactTask(e)):(e.date=this.getDate(),this.store.addToFirebase(e)),this.hideForm()}}},nN={class:"form"},rN=nt("option",{value:"minimal"},"Minimal",-1),iN=nt("option",{value:"medium"},"Medium",-1),sN=nt("option",{value:"maximum"},"Maximum",-1),oN=[rN,iN,sN];function aN(e,t,n,r,i,s){return n.isActive?(ue(),Pe("div",{key:0,class:"overlay",onMousedown:t[8]||(t[8]=(...o)=>s.hideForm&&s.hideForm(...o))},[nt("div",{onMousedown:t[7]||(t[7]=Wo(()=>{},["stop"])),class:"overlay__content"},[nt("form",nN,[nt("h2",null,gn(s.formTitle),1),rr(nt("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>s.currentTask.title=o),class:"form__title",type:"text",placeholder:"Title"},null,512),[[Nn,s.currentTask.title,void 0,{trim:!0}]]),rr(nt("textarea",{"onUpdate:modelValue":t[1]||(t[1]=o=>s.currentTask.description=o),class:"form__description",type:"text",placeholder:"Description",cols:"30",rows:"10"},null,512),[[Nn,s.currentTask.description,void 0,{trim:!0}]]),nt("div",null,[rr(nt("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>s.currentTask.type=o),onInput:t[3]||(t[3]=(...o)=>s.limitToSingleLetter&&s.limitToSingleLetter(...o)),class:"form__type",type:"text",placeholder:"Type",maxlength:"15"},null,544),[[Nn,s.currentTask.type,void 0,{trim:!0}]]),nt("input",{type:"file",onChange:t[4]||(t[4]=(...o)=>s.saveImage&&s.saveImage(...o)),class:"form__image-upload"},null,32),wa(" Priority: "),rr(nt("select",{class:"form__priority","onUpdate:modelValue":t[5]||(t[5]=o=>s.currentTask.priority=o)},oN,512),[[Zf,s.currentTask.priority]]),nt("button",{class:"form__submit",onClick:t[6]||(t[6]=Wo((...o)=>s.submit&&s.submit(...o),["prevent"]))},gn(s.submitText),1)])])],32)],32)):Vr("",!0)}const lN=qn(eN,[["render",aN]]);var cN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uN(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ZT(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(t,i);return new s}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var tI={exports:{}};const hN=ZT(Fb);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Um(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Um(Object(n),!0).forEach(function(r){fN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Um(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xl(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xl=function(t){return typeof t}:xl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xl(e)}function fN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function An(){return An=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},An.apply(this,arguments)}function dN(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function pN(e,t){if(e==null)return{};var n=dN(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gN(e){return mN(e)||vN(e)||yN(e)||EN()}function mN(e){if(Array.isArray(e))return vf(e)}function vN(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yN(e,t){if(e){if(typeof e=="string")return vf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vf(e,t)}}function vf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function EN(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _N="1.14.0";function hr(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var _r=hr(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ka=hr(/Edge/i),jm=hr(/firefox/i),Oo=hr(/safari/i)&&!hr(/chrome/i)&&!hr(/android/i),eI=hr(/iP(ad|od|hone)/i),TN=hr(/chrome/i)&&hr(/android/i),nI={capture:!1,passive:!1};function Mt(e,t,n){e.addEventListener(t,n,!_r&&nI)}function Dt(e,t,n){e.removeEventListener(t,n,!_r&&nI)}function pc(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function IN(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Cn(e,t,n,r){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&pc(e,t):pc(e,t))||r&&e===n)return e;if(e===n)break}while(e=IN(e))}return null}var Bm=/\s+/g;function fe(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(Bm," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(Bm," ")}}function lt(e,t,n){var r=e&&e.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in r)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),r[t]=n+(typeof n=="string"?"":"px")}}function bi(e,t){var n="";if(typeof e=="string")n=e;else do{var r=lt(e,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function rI(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,s=r.length;if(n)for(;i<s;i++)n(r[i],i);return r}return[]}function zn(){var e=document.scrollingElement;return e||document.documentElement}function le(e,t,n,r,i){if(!(!e.getBoundingClientRect&&e!==window)){var s,o,a,l,c,u,h;if(e!==window&&e.parentNode&&e!==zn()?(s=e.getBoundingClientRect(),o=s.top,a=s.left,l=s.bottom,c=s.right,u=s.height,h=s.width):(o=0,a=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,h=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!_r))do if(i&&i.getBoundingClientRect&&(lt(i,"transform")!=="none"||n&&lt(i,"position")!=="static")){var f=i.getBoundingClientRect();o-=f.top+parseInt(lt(i,"border-top-width")),a-=f.left+parseInt(lt(i,"border-left-width")),l=o+s.height,c=a+s.width;break}while(i=i.parentNode);if(r&&e!==window){var d=bi(i||e),p=d&&d.a,m=d&&d.d;d&&(o/=m,a/=p,h/=p,u/=m,l=o+u,c=a+h)}return{top:o,left:a,bottom:l,right:c,width:h,height:u}}}function $m(e,t,n){for(var r=Fr(e,!0),i=le(e)[t];r;){var s=le(r)[n],o=void 0;if(n==="top"||n==="left"?o=i>=s:o=i<=s,!o)return r;if(r===zn())break;r=Fr(r,!1)}return!1}function Os(e,t,n,r){for(var i=0,s=0,o=e.children;s<o.length;){if(o[s].style.display!=="none"&&o[s]!==yt.ghost&&(r||o[s]!==yt.dragged)&&Cn(o[s],n.draggable,e,!1)){if(i===t)return o[s];i++}s++}return null}function dp(e,t){for(var n=e.lastElementChild;n&&(n===yt.ghost||lt(n,"display")==="none"||t&&!pc(n,t));)n=n.previousElementSibling;return n||null}function ve(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==yt.clone&&(!t||pc(e,t))&&n++;return n}function Hm(e){var t=0,n=0,r=zn();if(e)do{var i=bi(e),s=i.a,o=i.d;t+=e.scrollLeft*s,n+=e.scrollTop*o}while(e!==r&&(e=e.parentNode));return[t,n]}function wN(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n)}return-1}function Fr(e,t){if(!e||!e.getBoundingClientRect)return zn();var n=e,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=lt(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return zn();if(r||t)return n;r=!0}}while(n=n.parentNode);return zn()}function bN(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function ih(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var Do;function iI(e,t){return function(){if(!Do){var n=arguments,r=this;n.length===1?e.call(r,n[0]):e.apply(r,n),Do=setTimeout(function(){Do=void 0},t)}}}function SN(){clearTimeout(Do),Do=void 0}function sI(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function pp(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function Km(e,t){lt(e,"position","absolute"),lt(e,"top",t.top),lt(e,"left",t.left),lt(e,"width",t.width),lt(e,"height",t.height)}function sh(e){lt(e,"position",""),lt(e,"top",""),lt(e,"left",""),lt(e,"width",""),lt(e,"height","")}var Ke="Sortable"+new Date().getTime();function AN(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(lt(i,"display")==="none"||i===yt.ghost)){e.push({target:i,rect:le(i)});var s=Jn({},e[e.length-1].rect);if(i.thisAnimationDuration){var o=bi(i,!0);o&&(s.top-=o.f,s.left-=o.e)}i.fromRect=s}})}},addAnimationState:function(r){e.push(r)},removeAnimationState:function(r){e.splice(wN(e,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(t),typeof r=="function"&&r();return}var s=!1,o=0;e.forEach(function(a){var l=0,c=a.target,u=c.fromRect,h=le(c),f=c.prevFromRect,d=c.prevToRect,p=a.rect,m=bi(c,!0);m&&(h.top-=m.f,h.left-=m.e),c.toRect=h,c.thisAnimationDuration&&ih(f,h)&&!ih(u,h)&&(p.top-h.top)/(p.left-h.left)===(u.top-h.top)/(u.left-h.left)&&(l=PN(p,f,d,i.options)),ih(h,u)||(c.prevFromRect=u,c.prevToRect=h,l||(l=i.options.animation),i.animate(c,p,h,l)),l&&(s=!0,o=Math.max(o,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(t),s?t=setTimeout(function(){typeof r=="function"&&r()},o):typeof r=="function"&&r(),e=[]},animate:function(r,i,s,o){if(o){lt(r,"transition",""),lt(r,"transform","");var a=bi(this.el),l=a&&a.a,c=a&&a.d,u=(i.left-s.left)/(l||1),h=(i.top-s.top)/(c||1);r.animatingX=!!u,r.animatingY=!!h,lt(r,"transform","translate3d("+u+"px,"+h+"px,0)"),this.forRepaintDummy=RN(r),lt(r,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),lt(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){lt(r,"transition",""),lt(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},o)}}}}function RN(e){return e.offsetWidth}function PN(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}var zi=[],oh={initializeByDefault:!0},Wa={mount:function(t){for(var n in oh)oh.hasOwnProperty(n)&&!(n in t)&&(t[n]=oh[n]);zi.forEach(function(r){if(r.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),zi.push(t)},pluginEvent:function(t,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var s=t+"Global";zi.forEach(function(o){n[o.pluginName]&&(n[o.pluginName][s]&&n[o.pluginName][s](Jn({sortable:n},r)),n.options[o.pluginName]&&n[o.pluginName][t]&&n[o.pluginName][t](Jn({sortable:n},r)))})},initializePlugins:function(t,n,r,i){zi.forEach(function(a){var l=a.pluginName;if(!(!t.options[l]&&!a.initializeByDefault)){var c=new a(t,n,t.options);c.sortable=t,c.options=t.options,t[l]=c,An(r,c.defaults)}});for(var s in t.options)if(t.options.hasOwnProperty(s)){var o=this.modifyOption(t,s,t.options[s]);typeof o<"u"&&(t.options[s]=o)}},getEventProperties:function(t,n){var r={};return zi.forEach(function(i){typeof i.eventProperties=="function"&&An(r,i.eventProperties.call(n[i.pluginName],t))}),r},modifyOption:function(t,n,r){var i;return zi.forEach(function(s){t[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[n]=="function"&&(i=s.optionListeners[n].call(t[s.pluginName],r))}),i}};function uo(e){var t=e.sortable,n=e.rootEl,r=e.name,i=e.targetEl,s=e.cloneEl,o=e.toEl,a=e.fromEl,l=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,h=e.newDraggableIndex,f=e.originalEvent,d=e.putSortable,p=e.extraEventProperties;if(t=t||n&&n[Ke],!!t){var m,y=t.options,v="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!_r&&!Ka?m=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(m=document.createEvent("Event"),m.initEvent(r,!0,!0)),m.to=o||n,m.from=a||n,m.item=i||n,m.clone=s,m.oldIndex=l,m.newIndex=c,m.oldDraggableIndex=u,m.newDraggableIndex=h,m.originalEvent=f,m.pullMode=d?d.lastPutMode:void 0;var g=Jn(Jn({},p),Wa.getEventProperties(r,t));for(var I in g)m[I]=g[I];n&&n.dispatchEvent(m),y[v]&&y[v].call(t,m)}}var CN=["evt"],nn=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,s=pN(r,CN);Wa.pluginEvent.bind(yt)(t,n,Jn({dragEl:X,parentEl:ge,ghostEl:Pt,rootEl:ae,nextEl:fi,lastDownEl:Ol,cloneEl:me,cloneHidden:kr,dragStarted:ho,putSortable:De,activeSortable:yt.active,originalEvent:i,oldIndex:is,oldDraggableIndex:No,newIndex:hn,newDraggableIndex:xr,hideGhostForTarget:cI,unhideGhostForTarget:uI,cloneNowHidden:function(){kr=!0},cloneNowShown:function(){kr=!1},dispatchSortableEvent:function(a){qe({sortable:n,name:a,originalEvent:i})}},s))};function qe(e){uo(Jn({putSortable:De,cloneEl:me,targetEl:X,rootEl:ae,oldIndex:is,oldDraggableIndex:No,newIndex:hn,newDraggableIndex:xr},e))}var X,ge,Pt,ae,fi,Ol,me,kr,is,hn,No,xr,dl,De,es=!1,gc=!1,mc=[],li,Rn,ah,lh,Wm,Gm,ho,Qi,Mo,ko=!1,pl=!1,Dl,je,ch=[],yf=!1,vc=[],wu=typeof document<"u",gl=eI,zm=Ka||_r?"cssFloat":"float",xN=wu&&!TN&&!eI&&"draggable"in document.createElement("div"),oI=function(){if(wu){if(_r)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),aI=function(t,n){var r=lt(t),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),s=Os(t,0,n),o=Os(t,1,n),a=s&&lt(s),l=o&&lt(o),c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+le(s).width,u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+le(o).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&a.float&&a.float!=="none"){var h=a.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===h)?"vertical":"horizontal"}return s&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||c>=i&&r[zm]==="none"||o&&r[zm]==="none"&&c+u>i)?"vertical":"horizontal"},ON=function(t,n,r){var i=r?t.left:t.top,s=r?t.right:t.bottom,o=r?t.width:t.height,a=r?n.left:n.top,l=r?n.right:n.bottom,c=r?n.width:n.height;return i===a||s===l||i+o/2===a+c/2},DN=function(t,n){var r;return mc.some(function(i){var s=i[Ke].options.emptyInsertThreshold;if(!(!s||dp(i))){var o=le(i),a=t>=o.left-s&&t<=o.right+s,l=n>=o.top-s&&n<=o.bottom+s;if(a&&l)return r=i}}),r},lI=function(t){function n(s,o){return function(a,l,c,u){var h=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(s==null&&(o||h))return!0;if(s==null||s===!1)return!1;if(o&&s==="clone")return s;if(typeof s=="function")return n(s(a,l,c,u),o)(a,l,c,u);var f=(o?a:l).options.group.name;return s===!0||typeof s=="string"&&s===f||s.join&&s.indexOf(f)>-1}}var r={},i=t.group;(!i||xl(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,t.group=r},cI=function(){!oI&&Pt&&lt(Pt,"display","none")},uI=function(){!oI&&Pt&&lt(Pt,"display","")};wu&&document.addEventListener("click",function(e){if(gc)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),gc=!1,!1},!0);var ci=function(t){if(X){t=t.touches?t.touches[0]:t;var n=DN(t.clientX,t.clientY);if(n){var r={};for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[Ke]._onDragOver(r)}}},NN=function(t){X&&X.parentNode[Ke]._isOutsideThisEl(t.target)};function yt(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=An({},t),e[Ke]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return aI(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:yt.supportPointer!==!1&&"PointerEvent"in window&&!Oo,emptyInsertThreshold:5};Wa.initializePlugins(this,e,n);for(var r in n)!(r in t)&&(t[r]=n[r]);lI(t);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=t.forceFallback?!1:xN,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?Mt(e,"pointerdown",this._onTapStart):(Mt(e,"mousedown",this._onTapStart),Mt(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(Mt(e,"dragover",this),Mt(e,"dragenter",this)),mc.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),An(this,AN())}yt.prototype={constructor:yt,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Qi=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,X):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n=this,r=this.el,i=this.options,s=i.preventOnFilter,o=t.type,a=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,l=(a||t).target,c=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,u=i.filter;if(BN(r),!X&&!(/mousedown|pointerdown/.test(o)&&t.button!==0||i.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&Oo&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Cn(l,i.draggable,r,!1),!(l&&l.animated)&&Ol!==l)){if(is=ve(l),No=ve(l,i.draggable),typeof u=="function"){if(u.call(this,t,l,this)){qe({sortable:n,rootEl:c,name:"filter",targetEl:l,toEl:r,fromEl:r}),nn("filter",n,{evt:t}),s&&t.cancelable&&t.preventDefault();return}}else if(u&&(u=u.split(",").some(function(h){if(h=Cn(c,h.trim(),r,!1),h)return qe({sortable:n,rootEl:h,name:"filter",targetEl:l,fromEl:r,toEl:r}),nn("filter",n,{evt:t}),!0}),u)){s&&t.cancelable&&t.preventDefault();return}i.handle&&!Cn(c,i.handle,r,!1)||this._prepareDragStart(t,a,l)}}},_prepareDragStart:function(t,n,r){var i=this,s=i.el,o=i.options,a=s.ownerDocument,l;if(r&&!X&&r.parentNode===s){var c=le(r);if(ae=s,X=r,ge=X.parentNode,fi=X.nextSibling,Ol=r,dl=o.group,yt.dragged=X,li={target:X,clientX:(n||t).clientX,clientY:(n||t).clientY},Wm=li.clientX-c.left,Gm=li.clientY-c.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,X.style["will-change"]="all",l=function(){if(nn("delayEnded",i,{evt:t}),yt.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!jm&&i.nativeDraggable&&(X.draggable=!0),i._triggerDragStart(t,n),qe({sortable:i,name:"choose",originalEvent:t}),fe(X,o.chosenClass,!0)},o.ignore.split(",").forEach(function(u){rI(X,u.trim(),uh)}),Mt(a,"dragover",ci),Mt(a,"mousemove",ci),Mt(a,"touchmove",ci),Mt(a,"mouseup",i._onDrop),Mt(a,"touchend",i._onDrop),Mt(a,"touchcancel",i._onDrop),jm&&this.nativeDraggable&&(this.options.touchStartThreshold=4,X.draggable=!0),nn("delayStart",this,{evt:t}),o.delay&&(!o.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Ka||_r))){if(yt.eventCanceled){this._onDrop();return}Mt(a,"mouseup",i._disableDelayedDrag),Mt(a,"touchend",i._disableDelayedDrag),Mt(a,"touchcancel",i._disableDelayedDrag),Mt(a,"mousemove",i._delayedDragTouchMoveHandler),Mt(a,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&Mt(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){X&&uh(X),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;Dt(t,"mouseup",this._disableDelayedDrag),Dt(t,"touchend",this._disableDelayedDrag),Dt(t,"touchcancel",this._disableDelayedDrag),Dt(t,"mousemove",this._delayedDragTouchMoveHandler),Dt(t,"touchmove",this._delayedDragTouchMoveHandler),Dt(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?Mt(document,"pointermove",this._onTouchMove):n?Mt(document,"touchmove",this._onTouchMove):Mt(document,"mousemove",this._onTouchMove):(Mt(X,"dragend",this),Mt(ae,"dragstart",this._onDragStart));try{document.selection?Nl(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(es=!1,ae&&X){nn("dragStarted",this,{evt:n}),this.nativeDraggable&&Mt(document,"dragover",NN);var r=this.options;!t&&fe(X,r.dragClass,!1),fe(X,r.ghostClass,!0),yt.active=this,t&&this._appendGhost(),qe({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Rn){this._lastX=Rn.clientX,this._lastY=Rn.clientY,cI();for(var t=document.elementFromPoint(Rn.clientX,Rn.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Rn.clientX,Rn.clientY),t!==n);)n=t;if(X.parentNode[Ke]._isOutsideThisEl(t),n)do{if(n[Ke]){var r=void 0;if(r=n[Ke]._onDragOver({clientX:Rn.clientX,clientY:Rn.clientY,target:t,rootEl:n}),r&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);uI()}},_onTouchMove:function(t){if(li){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,s=t.touches?t.touches[0]:t,o=Pt&&bi(Pt,!0),a=Pt&&o&&o.a,l=Pt&&o&&o.d,c=gl&&je&&Hm(je),u=(s.clientX-li.clientX+i.x)/(a||1)+(c?c[0]-ch[0]:0)/(a||1),h=(s.clientY-li.clientY+i.y)/(l||1)+(c?c[1]-ch[1]:0)/(l||1);if(!yt.active&&!es){if(r&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<r)return;this._onDragStart(t,!0)}if(Pt){o?(o.e+=u-(ah||0),o.f+=h-(lh||0)):o={a:1,b:0,c:0,d:1,e:u,f:h};var f="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");lt(Pt,"webkitTransform",f),lt(Pt,"mozTransform",f),lt(Pt,"msTransform",f),lt(Pt,"transform",f),ah=u,lh=h,Rn=s}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Pt){var t=this.options.fallbackOnBody?document.body:ae,n=le(X,!0,gl,!0,t),r=this.options;if(gl){for(je=t;lt(je,"position")==="static"&&lt(je,"transform")==="none"&&je!==document;)je=je.parentNode;je!==document.body&&je!==document.documentElement?(je===document&&(je=zn()),n.top+=je.scrollTop,n.left+=je.scrollLeft):je=zn(),ch=Hm(je)}Pt=X.cloneNode(!0),fe(Pt,r.ghostClass,!1),fe(Pt,r.fallbackClass,!0),fe(Pt,r.dragClass,!0),lt(Pt,"transition",""),lt(Pt,"transform",""),lt(Pt,"box-sizing","border-box"),lt(Pt,"margin",0),lt(Pt,"top",n.top),lt(Pt,"left",n.left),lt(Pt,"width",n.width),lt(Pt,"height",n.height),lt(Pt,"opacity","0.8"),lt(Pt,"position",gl?"absolute":"fixed"),lt(Pt,"zIndex","100000"),lt(Pt,"pointerEvents","none"),yt.ghost=Pt,t.appendChild(Pt),lt(Pt,"transform-origin",Wm/parseInt(Pt.style.width)*100+"% "+Gm/parseInt(Pt.style.height)*100+"%")}},_onDragStart:function(t,n){var r=this,i=t.dataTransfer,s=r.options;if(nn("dragStart",this,{evt:t}),yt.eventCanceled){this._onDrop();return}nn("setupClone",this),yt.eventCanceled||(me=pp(X),me.draggable=!1,me.style["will-change"]="",this._hideClone(),fe(me,this.options.chosenClass,!1),yt.clone=me),r.cloneId=Nl(function(){nn("clone",r),!yt.eventCanceled&&(r.options.removeCloneOnHide||ae.insertBefore(me,X),r._hideClone(),qe({sortable:r,name:"clone"}))}),!n&&fe(X,s.dragClass,!0),n?(gc=!0,r._loopId=setInterval(r._emulateDragOver,50)):(Dt(document,"mouseup",r._onDrop),Dt(document,"touchend",r._onDrop),Dt(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",s.setData&&s.setData.call(r,i,X)),Mt(document,"drop",r),lt(X,"transform","translateZ(0)")),es=!0,r._dragStartId=Nl(r._dragStarted.bind(r,n,t)),Mt(document,"selectstart",r),ho=!0,Oo&&lt(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,r=t.target,i,s,o,a=this.options,l=a.group,c=yt.active,u=dl===l,h=a.sort,f=De||c,d,p=this,m=!1;if(yf)return;function y(ot,Ut){nn(ot,p,Jn({evt:t,isOwner:u,axis:d?"vertical":"horizontal",revert:o,dragRect:i,targetRect:s,canSort:h,fromSortable:f,target:r,completed:g,onMove:function($t,Nt){return ml(ae,n,X,i,$t,le($t),t,Nt)},changed:I},Ut))}function v(){y("dragOverAnimationCapture"),p.captureAnimationState(),p!==f&&f.captureAnimationState()}function g(ot){return y("dragOverCompleted",{insertion:ot}),ot&&(u?c._hideClone():c._showClone(p),p!==f&&(fe(X,De?De.options.ghostClass:c.options.ghostClass,!1),fe(X,a.ghostClass,!0)),De!==p&&p!==yt.active?De=p:p===yt.active&&De&&(De=null),f===p&&(p._ignoreWhileAnimating=r),p.animateAll(function(){y("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(r===X&&!X.animated||r===n&&!r.animated)&&(Qi=null),!a.dragoverBubble&&!t.rootEl&&r!==document&&(X.parentNode[Ke]._isOutsideThisEl(t.target),!ot&&ci(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),m=!0}function I(){hn=ve(X),xr=ve(X,a.draggable),qe({sortable:p,name:"change",toEl:n,newIndex:hn,newDraggableIndex:xr,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),r=Cn(r,a.draggable,n,!0),y("dragOver"),yt.eventCanceled)return m;if(X.contains(t.target)||r.animated&&r.animatingX&&r.animatingY||p._ignoreWhileAnimating===r)return g(!1);if(gc=!1,c&&!a.disabled&&(u?h||(o=ge!==ae):De===this||(this.lastPutMode=dl.checkPull(this,c,X,t))&&l.checkPut(this,c,X,t))){if(d=this._getDirection(t,r)==="vertical",i=le(X),y("dragOverValid"),yt.eventCanceled)return m;if(o)return ge=ae,v(),this._hideClone(),y("revert"),yt.eventCanceled||(fi?ae.insertBefore(X,fi):ae.appendChild(X)),g(!0);var E=dp(n,a.draggable);if(!E||LN(t,d,this)&&!E.animated){if(E===X)return g(!1);if(E&&n===t.target&&(r=E),r&&(s=le(r)),ml(ae,n,X,i,r,s,t,!!r)!==!1)return v(),n.appendChild(X),ge=n,I(),g(!0)}else if(E&&VN(t,d,this)){var w=Os(n,0,a,!0);if(w===X)return g(!1);if(r=w,s=le(r),ml(ae,n,X,i,r,s,t,!1)!==!1)return v(),n.insertBefore(X,w),ge=n,I(),g(!0)}else if(r.parentNode===n){s=le(r);var S=0,O,A=X.parentNode!==n,b=!ON(X.animated&&X.toRect||i,r.animated&&r.toRect||s,d),x=d?"top":"left",L=$m(r,"top","top")||$m(X,"top","top"),F=L?L.scrollTop:void 0;Qi!==r&&(O=s[x],ko=!1,pl=!b&&a.invertSwap||A),S=FN(t,r,s,d,b?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,pl,Qi===r);var k;if(S!==0){var D=ve(X);do D-=S,k=ge.children[D];while(k&&(lt(k,"display")==="none"||k===Pt))}if(S===0||k===r)return g(!1);Qi=r,Mo=S;var tt=r.nextElementSibling,U=!1;U=S===1;var Y=ml(ae,n,X,i,r,s,t,U);if(Y!==!1)return(Y===1||Y===-1)&&(U=Y===1),yf=!0,setTimeout(kN,30),v(),U&&!tt?n.appendChild(X):r.parentNode.insertBefore(X,U?tt:r),L&&sI(L,0,F-L.scrollTop),ge=X.parentNode,O!==void 0&&!pl&&(Dl=Math.abs(O-le(r)[x])),I(),g(!0)}if(n.contains(X))return g(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Dt(document,"mousemove",this._onTouchMove),Dt(document,"touchmove",this._onTouchMove),Dt(document,"pointermove",this._onTouchMove),Dt(document,"dragover",ci),Dt(document,"mousemove",ci),Dt(document,"touchmove",ci)},_offUpEvents:function(){var t=this.el.ownerDocument;Dt(t,"mouseup",this._onDrop),Dt(t,"touchend",this._onDrop),Dt(t,"pointerup",this._onDrop),Dt(t,"touchcancel",this._onDrop),Dt(document,"selectstart",this)},_onDrop:function(t){var n=this.el,r=this.options;if(hn=ve(X),xr=ve(X,r.draggable),nn("drop",this,{evt:t}),ge=X&&X.parentNode,hn=ve(X),xr=ve(X,r.draggable),yt.eventCanceled){this._nulling();return}es=!1,pl=!1,ko=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ef(this.cloneId),Ef(this._dragStartId),this.nativeDraggable&&(Dt(document,"drop",this),Dt(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Oo&&lt(document.body,"user-select",""),lt(X,"transform",""),t&&(ho&&(t.cancelable&&t.preventDefault(),!r.dropBubble&&t.stopPropagation()),Pt&&Pt.parentNode&&Pt.parentNode.removeChild(Pt),(ae===ge||De&&De.lastPutMode!=="clone")&&me&&me.parentNode&&me.parentNode.removeChild(me),X&&(this.nativeDraggable&&Dt(X,"dragend",this),uh(X),X.style["will-change"]="",ho&&!es&&fe(X,De?De.options.ghostClass:this.options.ghostClass,!1),fe(X,this.options.chosenClass,!1),qe({sortable:this,name:"unchoose",toEl:ge,newIndex:null,newDraggableIndex:null,originalEvent:t}),ae!==ge?(hn>=0&&(qe({rootEl:ge,name:"add",toEl:ge,fromEl:ae,originalEvent:t}),qe({sortable:this,name:"remove",toEl:ge,originalEvent:t}),qe({rootEl:ge,name:"sort",toEl:ge,fromEl:ae,originalEvent:t}),qe({sortable:this,name:"sort",toEl:ge,originalEvent:t})),De&&De.save()):hn!==is&&hn>=0&&(qe({sortable:this,name:"update",toEl:ge,originalEvent:t}),qe({sortable:this,name:"sort",toEl:ge,originalEvent:t})),yt.active&&((hn==null||hn===-1)&&(hn=is,xr=No),qe({sortable:this,name:"end",toEl:ge,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){nn("nulling",this),ae=X=ge=Pt=fi=me=Ol=kr=li=Rn=ho=hn=xr=is=No=Qi=Mo=De=dl=yt.dragged=yt.ghost=yt.clone=yt.active=null,vc.forEach(function(t){t.checked=!0}),vc.length=ah=lh=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":X&&(this._onDragOver(t),MN(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,r=this.el.children,i=0,s=r.length,o=this.options;i<s;i++)n=r[i],Cn(n,o.draggable,this.el,!1)&&t.push(n.getAttribute(o.dataIdAttr)||jN(n));return t},sort:function(t,n){var r={},i=this.el;this.toArray().forEach(function(s,o){var a=i.children[o];Cn(a,this.options.draggable,i,!1)&&(r[s]=a)},this),n&&this.captureAnimationState(),t.forEach(function(s){r[s]&&(i.removeChild(r[s]),i.appendChild(r[s]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return Cn(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var r=this.options;if(n===void 0)return r[t];var i=Wa.modifyOption(this,t,n);typeof i<"u"?r[t]=i:r[t]=n,t==="group"&&lI(r)},destroy:function(){nn("destroy",this);var t=this.el;t[Ke]=null,Dt(t,"mousedown",this._onTapStart),Dt(t,"touchstart",this._onTapStart),Dt(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(Dt(t,"dragover",this),Dt(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),mc.splice(mc.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!kr){if(nn("hideClone",this),yt.eventCanceled)return;lt(me,"display","none"),this.options.removeCloneOnHide&&me.parentNode&&me.parentNode.removeChild(me),kr=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(kr){if(nn("showClone",this),yt.eventCanceled)return;X.parentNode==ae&&!this.options.group.revertClone?ae.insertBefore(me,X):fi?ae.insertBefore(me,fi):ae.appendChild(me),this.options.group.revertClone&&this.animate(X,me),lt(me,"display",""),kr=!1}}};function MN(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function ml(e,t,n,r,i,s,o,a){var l,c=e[Ke],u=c.options.onMove,h;return window.CustomEvent&&!_r&&!Ka?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=e,l.dragged=n,l.draggedRect=r,l.related=i||t,l.relatedRect=s||le(t),l.willInsertAfter=a,l.originalEvent=o,e.dispatchEvent(l),u&&(h=u.call(c,l,o)),h}function uh(e){e.draggable=!1}function kN(){yf=!1}function VN(e,t,n){var r=le(Os(n.el,0,n.options,!0)),i=10;return t?e.clientX<r.left-i||e.clientY<r.top&&e.clientX<r.right:e.clientY<r.top-i||e.clientY<r.bottom&&e.clientX<r.left}function LN(e,t,n){var r=le(dp(n.el,n.options.draggable)),i=10;return t?e.clientX>r.right+i||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+i}function FN(e,t,n,r,i,s,o,a){var l=r?e.clientY:e.clientX,c=r?n.height:n.width,u=r?n.top:n.left,h=r?n.bottom:n.right,f=!1;if(!o){if(a&&Dl<c*i){if(!ko&&(Mo===1?l>u+c*s/2:l<h-c*s/2)&&(ko=!0),ko)f=!0;else if(Mo===1?l<u+Dl:l>h-Dl)return-Mo}else if(l>u+c*(1-i)/2&&l<h-c*(1-i)/2)return UN(t)}return f=f||o,f&&(l<u+c*s/2||l>h-c*s/2)?l>u+c/2?1:-1:0}function UN(e){return ve(X)<ve(e)?1:-1}function jN(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function BN(e){vc.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&vc.push(r)}}function Nl(e){return setTimeout(e,0)}function Ef(e){return clearTimeout(e)}wu&&Mt(document,"touchmove",function(e){(yt.active||es)&&e.cancelable&&e.preventDefault()});yt.utils={on:Mt,off:Dt,css:lt,find:rI,is:function(t,n){return!!Cn(t,n,t,!1)},extend:bN,throttle:iI,closest:Cn,toggleClass:fe,clone:pp,index:ve,nextTick:Nl,cancelNextTick:Ef,detectDirection:aI,getChild:Os};yt.get=function(e){return e[Ke]};yt.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(yt.utils=Jn(Jn({},yt.utils),r.utils)),Wa.mount(r)})};yt.create=function(e,t){return new yt(e,t)};yt.version=_N;var Te=[],fo,_f,Tf=!1,hh,fh,yc,po;function $N(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?Mt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Mt(document,"pointermove",this._handleFallbackAutoScroll):r.touches?Mt(document,"touchmove",this._handleFallbackAutoScroll):Mt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?Dt(document,"dragover",this._handleAutoScroll):(Dt(document,"pointermove",this._handleFallbackAutoScroll),Dt(document,"touchmove",this._handleFallbackAutoScroll),Dt(document,"mousemove",this._handleFallbackAutoScroll)),Qm(),Ml(),SN()},nulling:function(){yc=_f=fo=Tf=po=hh=fh=null,Te.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,s=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(s,o);if(yc=n,r||this.options.forceAutoScrollFallback||Ka||_r||Oo){dh(n,this.options,a,r);var l=Fr(a,!0);Tf&&(!po||s!==hh||o!==fh)&&(po&&Qm(),po=setInterval(function(){var c=Fr(document.elementFromPoint(s,o),!0);c!==l&&(l=c,Ml()),dh(n,i.options,c,r)},10),hh=s,fh=o)}else{if(!this.options.bubbleScroll||Fr(a,!0)===zn()){Ml();return}dh(n,this.options,Fr(a,!1),!1)}}},An(e,{pluginName:"scroll",initializeByDefault:!0})}function Ml(){Te.forEach(function(e){clearInterval(e.pid)}),Te=[]}function Qm(){clearInterval(po)}var dh=iI(function(e,t,n,r){if(t.scroll){var i=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,o=t.scrollSensitivity,a=t.scrollSpeed,l=zn(),c=!1,u;_f!==n&&(_f=n,Ml(),fo=t.scroll,u=t.scrollFn,fo===!0&&(fo=Fr(n,!0)));var h=0,f=fo;do{var d=f,p=le(d),m=p.top,y=p.bottom,v=p.left,g=p.right,I=p.width,E=p.height,w=void 0,S=void 0,O=d.scrollWidth,A=d.scrollHeight,b=lt(d),x=d.scrollLeft,L=d.scrollTop;d===l?(w=I<O&&(b.overflowX==="auto"||b.overflowX==="scroll"||b.overflowX==="visible"),S=E<A&&(b.overflowY==="auto"||b.overflowY==="scroll"||b.overflowY==="visible")):(w=I<O&&(b.overflowX==="auto"||b.overflowX==="scroll"),S=E<A&&(b.overflowY==="auto"||b.overflowY==="scroll"));var F=w&&(Math.abs(g-i)<=o&&x+I<O)-(Math.abs(v-i)<=o&&!!x),k=S&&(Math.abs(y-s)<=o&&L+E<A)-(Math.abs(m-s)<=o&&!!L);if(!Te[h])for(var D=0;D<=h;D++)Te[D]||(Te[D]={});(Te[h].vx!=F||Te[h].vy!=k||Te[h].el!==d)&&(Te[h].el=d,Te[h].vx=F,Te[h].vy=k,clearInterval(Te[h].pid),(F!=0||k!=0)&&(c=!0,Te[h].pid=setInterval(function(){r&&this.layer===0&&yt.active._onTouchMove(yc);var tt=Te[this.layer].vy?Te[this.layer].vy*a:0,U=Te[this.layer].vx?Te[this.layer].vx*a:0;typeof u=="function"&&u.call(yt.dragged.parentNode[Ke],U,tt,e,yc,Te[this.layer].el)!=="continue"||sI(Te[this.layer].el,U,tt)}.bind({layer:h}),24))),h++}while(t.bubbleScroll&&f!==l&&(f=Fr(f,!1)));Tf=c}},30),hI=function(t){var n=t.originalEvent,r=t.putSortable,i=t.dragEl,s=t.activeSortable,o=t.dispatchSortableEvent,a=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(n){var c=r||s;a();var u=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,h=document.elementFromPoint(u.clientX,u.clientY);l(),c&&!c.el.contains(h)&&(o("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function gp(){}gp.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,r=t.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=Os(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:hI};An(gp,{pluginName:"revertOnSpill"});function mp(){}mp.prototype={onSpill:function(t){var n=t.dragEl,r=t.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:hI};An(mp,{pluginName:"removeOnSpill"});var _n;function HN(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(n){var r=n.dragEl;_n=r},dragOverValid:function(n){var r=n.completed,i=n.target,s=n.onMove,o=n.activeSortable,a=n.changed,l=n.cancel;if(o.options.swap){var c=this.sortable.el,u=this.options;if(i&&i!==c){var h=_n;s(i)!==!1?(fe(i,u.swapClass,!0),_n=i):_n=null,h&&h!==_n&&fe(h,u.swapClass,!1)}a(),r(!0),l()}},drop:function(n){var r=n.activeSortable,i=n.putSortable,s=n.dragEl,o=i||this.sortable,a=this.options;_n&&fe(_n,a.swapClass,!1),_n&&(a.swap||i&&i.options.swap)&&s!==_n&&(o.captureAnimationState(),o!==r&&r.captureAnimationState(),KN(s,_n),o.animateAll(),o!==r&&r.animateAll())},nulling:function(){_n=null}},An(e,{pluginName:"swap",eventProperties:function(){return{swapItem:_n}}})}function KN(e,t){var n=e.parentNode,r=t.parentNode,i,s;!n||!r||n.isEqualNode(t)||r.isEqualNode(e)||(i=ve(e),s=ve(t),n.isEqualNode(r)&&i<s&&s++,n.insertBefore(t,n.children[i]),r.insertBefore(e,r.children[s]))}var bt=[],un=[],Xs,Pn,Js=!1,rn=!1,Yi=!1,te,qs,vl;function WN(){function e(t){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));t.options.supportPointer?Mt(document,"pointerup",this._deselectMultiDrag):(Mt(document,"mouseup",this._deselectMultiDrag),Mt(document,"touchend",this._deselectMultiDrag)),Mt(document,"keydown",this._checkKeyDown),Mt(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(i,s){var o="";bt.length&&Pn===t?bt.forEach(function(a,l){o+=(l?", ":"")+a.textContent}):o=s.textContent,i.setData("Text",o)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var r=n.dragEl;te=r},delayEnded:function(){this.isMultiDrag=~bt.indexOf(te)},setupClone:function(n){var r=n.sortable,i=n.cancel;if(this.isMultiDrag){for(var s=0;s<bt.length;s++)un.push(pp(bt[s])),un[s].sortableIndex=bt[s].sortableIndex,un[s].draggable=!1,un[s].style["will-change"]="",fe(un[s],this.options.selectedClass,!1),bt[s]===te&&fe(un[s],this.options.chosenClass,!1);r._hideClone(),i()}},clone:function(n){var r=n.sortable,i=n.rootEl,s=n.dispatchSortableEvent,o=n.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||bt.length&&Pn===r&&(Ym(!0,i),s("clone"),o()))},showClone:function(n){var r=n.cloneNowShown,i=n.rootEl,s=n.cancel;this.isMultiDrag&&(Ym(!1,i),un.forEach(function(o){lt(o,"display","")}),r(),vl=!1,s())},hideClone:function(n){var r=this;n.sortable;var i=n.cloneNowHidden,s=n.cancel;this.isMultiDrag&&(un.forEach(function(o){lt(o,"display","none"),r.options.removeCloneOnHide&&o.parentNode&&o.parentNode.removeChild(o)}),i(),vl=!0,s())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&Pn&&Pn.multiDrag._deselectMultiDrag(),bt.forEach(function(r){r.sortableIndex=ve(r)}),bt=bt.sort(function(r,i){return r.sortableIndex-i.sortableIndex}),Yi=!0},dragStarted:function(n){var r=this,i=n.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){bt.forEach(function(o){o!==te&&lt(o,"position","absolute")});var s=le(te,!1,!0,!0);bt.forEach(function(o){o!==te&&Km(o,s)}),rn=!0,Js=!0}i.animateAll(function(){rn=!1,Js=!1,r.options.animation&&bt.forEach(function(o){sh(o)}),r.options.sort&&yl()})}},dragOver:function(n){var r=n.target,i=n.completed,s=n.cancel;rn&&~bt.indexOf(r)&&(i(!1),s())},revert:function(n){var r=n.fromSortable,i=n.rootEl,s=n.sortable,o=n.dragRect;bt.length>1&&(bt.forEach(function(a){s.addAnimationState({target:a,rect:rn?le(a):o}),sh(a),a.fromRect=o,r.removeAnimationState(a)}),rn=!1,GN(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(n){var r=n.sortable,i=n.isOwner,s=n.insertion,o=n.activeSortable,a=n.parentEl,l=n.putSortable,c=this.options;if(s){if(i&&o._hideClone(),Js=!1,c.animation&&bt.length>1&&(rn||!i&&!o.options.sort&&!l)){var u=le(te,!1,!0,!0);bt.forEach(function(f){f!==te&&(Km(f,u),a.appendChild(f))}),rn=!0}if(!i)if(rn||yl(),bt.length>1){var h=vl;o._showClone(r),o.options.animation&&!vl&&h&&un.forEach(function(f){o.addAnimationState({target:f,rect:qs}),f.fromRect=qs,f.thisAnimationDuration=null})}else o._showClone(r)}},dragOverAnimationCapture:function(n){var r=n.dragRect,i=n.isOwner,s=n.activeSortable;if(bt.forEach(function(a){a.thisAnimationDuration=null}),s.options.animation&&!i&&s.multiDrag.isMultiDrag){qs=An({},r);var o=bi(te,!0);qs.top-=o.f,qs.left-=o.e}},dragOverAnimationComplete:function(){rn&&(rn=!1,yl())},drop:function(n){var r=n.originalEvent,i=n.rootEl,s=n.parentEl,o=n.sortable,a=n.dispatchSortableEvent,l=n.oldIndex,c=n.putSortable,u=c||this.sortable;if(r){var h=this.options,f=s.children;if(!Yi)if(h.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),fe(te,h.selectedClass,!~bt.indexOf(te)),~bt.indexOf(te))bt.splice(bt.indexOf(te),1),Xs=null,uo({sortable:o,rootEl:i,name:"deselect",targetEl:te,originalEvt:r});else{if(bt.push(te),uo({sortable:o,rootEl:i,name:"select",targetEl:te,originalEvt:r}),r.shiftKey&&Xs&&o.el.contains(Xs)){var d=ve(Xs),p=ve(te);if(~d&&~p&&d!==p){var m,y;for(p>d?(y=d,m=p):(y=p,m=d+1);y<m;y++)~bt.indexOf(f[y])||(fe(f[y],h.selectedClass,!0),bt.push(f[y]),uo({sortable:o,rootEl:i,name:"select",targetEl:f[y],originalEvt:r}))}}else Xs=te;Pn=u}if(Yi&&this.isMultiDrag){if(rn=!1,(s[Ke].options.sort||s!==i)&&bt.length>1){var v=le(te),g=ve(te,":not(."+this.options.selectedClass+")");if(!Js&&h.animation&&(te.thisAnimationDuration=null),u.captureAnimationState(),!Js&&(h.animation&&(te.fromRect=v,bt.forEach(function(E){if(E.thisAnimationDuration=null,E!==te){var w=rn?le(E):v;E.fromRect=w,u.addAnimationState({target:E,rect:w})}})),yl(),bt.forEach(function(E){f[g]?s.insertBefore(E,f[g]):s.appendChild(E),g++}),l===ve(te))){var I=!1;bt.forEach(function(E){if(E.sortableIndex!==ve(E)){I=!0;return}}),I&&a("update")}bt.forEach(function(E){sh(E)}),u.animateAll()}Pn=u}(i===s||c&&c.lastPutMode!=="clone")&&un.forEach(function(E){E.parentNode&&E.parentNode.removeChild(E)})}},nullingGlobal:function(){this.isMultiDrag=Yi=!1,un.length=0},destroyGlobal:function(){this._deselectMultiDrag(),Dt(document,"pointerup",this._deselectMultiDrag),Dt(document,"mouseup",this._deselectMultiDrag),Dt(document,"touchend",this._deselectMultiDrag),Dt(document,"keydown",this._checkKeyDown),Dt(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof Yi<"u"&&Yi)&&Pn===this.sortable&&!(n&&Cn(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;bt.length;){var r=bt[0];fe(r,this.options.selectedClass,!1),bt.shift(),uo({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:r,originalEvt:n})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},An(e,{pluginName:"multiDrag",utils:{select:function(n){var r=n.parentNode[Ke];!r||!r.options.multiDrag||~bt.indexOf(n)||(Pn&&Pn!==r&&(Pn.multiDrag._deselectMultiDrag(),Pn=r),fe(n,r.options.selectedClass,!0),bt.push(n))},deselect:function(n){var r=n.parentNode[Ke],i=bt.indexOf(n);!r||!r.options.multiDrag||!~i||(fe(n,r.options.selectedClass,!1),bt.splice(i,1))}},eventProperties:function(){var n=this,r=[],i=[];return bt.forEach(function(s){r.push({multiDragElement:s,index:s.sortableIndex});var o;rn&&s!==te?o=-1:rn?o=ve(s,":not(."+n.options.selectedClass+")"):o=ve(s),i.push({multiDragElement:s,index:o})}),{items:gN(bt),clones:[].concat(un),oldIndicies:r,newIndicies:i}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function GN(e,t){bt.forEach(function(n,r){var i=t.children[n.sortableIndex+(e?Number(r):0)];i?t.insertBefore(n,i):t.appendChild(n)})}function Ym(e,t){un.forEach(function(n,r){var i=t.children[n.sortableIndex+(e?Number(r):0)];i?t.insertBefore(n,i):t.appendChild(n)})}function yl(){bt.forEach(function(e){e!==te&&e.parentNode&&e.parentNode.removeChild(e)})}yt.mount(new $N);yt.mount(mp,gp);const zN=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:WN,Sortable:yt,Swap:HN,default:yt},Symbol.toStringTag,{value:"Module"})),QN=ZT(zN);(function(e,t){(function(r,i){e.exports=i(hN,QN)})(typeof self<"u"?self:cN,function(n,r){return function(i){var s={};function o(a){if(s[a])return s[a].exports;var l=s[a]={i:a,l:!1,exports:{}};return i[a].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=i,o.c=s,o.d=function(a,l,c){o.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:c})},o.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},o.t=function(a,l){if(l&1&&(a=o(a)),l&8||l&4&&typeof a=="object"&&a&&a.__esModule)return a;var c=Object.create(null);if(o.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:a}),l&2&&typeof a!="string")for(var u in a)o.d(c,u,function(h){return a[h]}.bind(null,u));return c},o.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(l,"a",l),l},o.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},o.p="",o(o.s="fb15")}({"00ee":function(i,s,o){var a=o("b622"),l=a("toStringTag"),c={};c[l]="z",i.exports=String(c)==="[object z]"},"0366":function(i,s,o){var a=o("1c0b");i.exports=function(l,c,u){if(a(l),c===void 0)return l;switch(u){case 0:return function(){return l.call(c)};case 1:return function(h){return l.call(c,h)};case 2:return function(h,f){return l.call(c,h,f)};case 3:return function(h,f,d){return l.call(c,h,f,d)}}return function(){return l.apply(c,arguments)}}},"057f":function(i,s,o){var a=o("fc6a"),l=o("241c").f,c={}.toString,u=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],h=function(f){try{return l(f)}catch{return u.slice()}};i.exports.f=function(d){return u&&c.call(d)=="[object Window]"?h(d):l(a(d))}},"06cf":function(i,s,o){var a=o("83ab"),l=o("d1e7"),c=o("5c6c"),u=o("fc6a"),h=o("c04e"),f=o("5135"),d=o("0cfb"),p=Object.getOwnPropertyDescriptor;s.f=a?p:function(y,v){if(y=u(y),v=h(v,!0),d)try{return p(y,v)}catch{}if(f(y,v))return c(!l.f.call(y,v),y[v])}},"0cfb":function(i,s,o){var a=o("83ab"),l=o("d039"),c=o("cc12");i.exports=!a&&!l(function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(i,s,o){var a=o("23e7"),l=o("d58f").left,c=o("a640"),u=o("ae40"),h=c("reduce"),f=u("reduce",{1:0});a({target:"Array",proto:!0,forced:!h||!f},{reduce:function(p){return l(this,p,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(i,s,o){var a=o("c6b6"),l=o("9263");i.exports=function(c,u){var h=c.exec;if(typeof h=="function"){var f=h.call(c,u);if(typeof f!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return f}if(a(c)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return l.call(c,u)}},"159b":function(i,s,o){var a=o("da84"),l=o("fdbc"),c=o("17c2"),u=o("9112");for(var h in l){var f=a[h],d=f&&f.prototype;if(d&&d.forEach!==c)try{u(d,"forEach",c)}catch{d.forEach=c}}},"17c2":function(i,s,o){var a=o("b727").forEach,l=o("a640"),c=o("ae40"),u=l("forEach"),h=c("forEach");i.exports=!u||!h?function(d){return a(this,d,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(i,s,o){var a=o("d066");i.exports=a("document","documentElement")},"1c0b":function(i,s){i.exports=function(o){if(typeof o!="function")throw TypeError(String(o)+" is not a function");return o}},"1c7e":function(i,s,o){var a=o("b622"),l=a("iterator"),c=!1;try{var u=0,h={next:function(){return{done:!!u++}},return:function(){c=!0}};h[l]=function(){return this},Array.from(h,function(){throw 2})}catch{}i.exports=function(f,d){if(!d&&!c)return!1;var p=!1;try{var m={};m[l]=function(){return{next:function(){return{done:p=!0}}}},f(m)}catch{}return p}},"1d80":function(i,s){i.exports=function(o){if(o==null)throw TypeError("Can't call method on "+o);return o}},"1dde":function(i,s,o){var a=o("d039"),l=o("b622"),c=o("2d00"),u=l("species");i.exports=function(h){return c>=51||!a(function(){var f=[],d=f.constructor={};return d[u]=function(){return{foo:1}},f[h](Boolean).foo!==1})}},"23cb":function(i,s,o){var a=o("a691"),l=Math.max,c=Math.min;i.exports=function(u,h){var f=a(u);return f<0?l(f+h,0):c(f,h)}},"23e7":function(i,s,o){var a=o("da84"),l=o("06cf").f,c=o("9112"),u=o("6eeb"),h=o("ce4e"),f=o("e893"),d=o("94ca");i.exports=function(p,m){var y=p.target,v=p.global,g=p.stat,I,E,w,S,O,A;if(v?E=a:g?E=a[y]||h(y,{}):E=(a[y]||{}).prototype,E)for(w in m){if(O=m[w],p.noTargetGet?(A=l(E,w),S=A&&A.value):S=E[w],I=d(v?w:y+(g?".":"#")+w,p.forced),!I&&S!==void 0){if(typeof O==typeof S)continue;f(O,S)}(p.sham||S&&S.sham)&&c(O,"sham",!0),u(E,w,O,p)}}},"241c":function(i,s,o){var a=o("ca84"),l=o("7839"),c=l.concat("length","prototype");s.f=Object.getOwnPropertyNames||function(h){return a(h,c)}},"25f0":function(i,s,o){var a=o("6eeb"),l=o("825a"),c=o("d039"),u=o("ad6d"),h="toString",f=RegExp.prototype,d=f[h],p=c(function(){return d.call({source:"a",flags:"b"})!="/a/b"}),m=d.name!=h;(p||m)&&a(RegExp.prototype,h,function(){var v=l(this),g=String(v.source),I=v.flags,E=String(I===void 0&&v instanceof RegExp&&!("flags"in f)?u.call(v):I);return"/"+g+"/"+E},{unsafe:!0})},"2ca0":function(i,s,o){var a=o("23e7"),l=o("06cf").f,c=o("50c4"),u=o("5a34"),h=o("1d80"),f=o("ab13"),d=o("c430"),p="".startsWith,m=Math.min,y=f("startsWith"),v=!d&&!y&&!!function(){var g=l(String.prototype,"startsWith");return g&&!g.writable}();a({target:"String",proto:!0,forced:!v&&!y},{startsWith:function(I){var E=String(h(this));u(I);var w=c(m(arguments.length>1?arguments[1]:void 0,E.length)),S=String(I);return p?p.call(E,S,w):E.slice(w,w+S.length)===S}})},"2d00":function(i,s,o){var a=o("da84"),l=o("342f"),c=a.process,u=c&&c.versions,h=u&&u.v8,f,d;h?(f=h.split("."),d=f[0]+f[1]):l&&(f=l.match(/Edge\/(\d+)/),(!f||f[1]>=74)&&(f=l.match(/Chrome\/(\d+)/),f&&(d=f[1]))),i.exports=d&&+d},"342f":function(i,s,o){var a=o("d066");i.exports=a("navigator","userAgent")||""},"35a1":function(i,s,o){var a=o("f5df"),l=o("3f8c"),c=o("b622"),u=c("iterator");i.exports=function(h){if(h!=null)return h[u]||h["@@iterator"]||l[a(h)]}},"37e8":function(i,s,o){var a=o("83ab"),l=o("9bf2"),c=o("825a"),u=o("df75");i.exports=a?Object.defineProperties:function(f,d){c(f);for(var p=u(d),m=p.length,y=0,v;m>y;)l.f(f,v=p[y++],d[v]);return f}},"3bbe":function(i,s,o){var a=o("861d");i.exports=function(l){if(!a(l)&&l!==null)throw TypeError("Can't set "+String(l)+" as a prototype");return l}},"3ca3":function(i,s,o){var a=o("6547").charAt,l=o("69f3"),c=o("7dd0"),u="String Iterator",h=l.set,f=l.getterFor(u);c(String,"String",function(d){h(this,{type:u,string:String(d),index:0})},function(){var p=f(this),m=p.string,y=p.index,v;return y>=m.length?{value:void 0,done:!0}:(v=a(m,y),p.index+=v.length,{value:v,done:!1})})},"3f8c":function(i,s){i.exports={}},4160:function(i,s,o){var a=o("23e7"),l=o("17c2");a({target:"Array",proto:!0,forced:[].forEach!=l},{forEach:l})},"428f":function(i,s,o){var a=o("da84");i.exports=a},"44ad":function(i,s,o){var a=o("d039"),l=o("c6b6"),c="".split;i.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(u){return l(u)=="String"?c.call(u,""):Object(u)}:Object},"44d2":function(i,s,o){var a=o("b622"),l=o("7c73"),c=o("9bf2"),u=a("unscopables"),h=Array.prototype;h[u]==null&&c.f(h,u,{configurable:!0,value:l(null)}),i.exports=function(f){h[u][f]=!0}},"44e7":function(i,s,o){var a=o("861d"),l=o("c6b6"),c=o("b622"),u=c("match");i.exports=function(h){var f;return a(h)&&((f=h[u])!==void 0?!!f:l(h)=="RegExp")}},4930:function(i,s,o){var a=o("d039");i.exports=!!Object.getOwnPropertySymbols&&!a(function(){return!String(Symbol())})},"4d64":function(i,s,o){var a=o("fc6a"),l=o("50c4"),c=o("23cb"),u=function(h){return function(f,d,p){var m=a(f),y=l(m.length),v=c(p,y),g;if(h&&d!=d){for(;y>v;)if(g=m[v++],g!=g)return!0}else for(;y>v;v++)if((h||v in m)&&m[v]===d)return h||v||0;return!h&&-1}};i.exports={includes:u(!0),indexOf:u(!1)}},"4de4":function(i,s,o){var a=o("23e7"),l=o("b727").filter,c=o("1dde"),u=o("ae40"),h=c("filter"),f=u("filter");a({target:"Array",proto:!0,forced:!h||!f},{filter:function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(i,s,o){var a=o("0366"),l=o("7b0b"),c=o("9bdd"),u=o("e95a"),h=o("50c4"),f=o("8418"),d=o("35a1");i.exports=function(m){var y=l(m),v=typeof this=="function"?this:Array,g=arguments.length,I=g>1?arguments[1]:void 0,E=I!==void 0,w=d(y),S=0,O,A,b,x,L,F;if(E&&(I=a(I,g>2?arguments[2]:void 0,2)),w!=null&&!(v==Array&&u(w)))for(x=w.call(y),L=x.next,A=new v;!(b=L.call(x)).done;S++)F=E?c(x,I,[b.value,S],!0):b.value,f(A,S,F);else for(O=h(y.length),A=new v(O);O>S;S++)F=E?I(y[S],S):y[S],f(A,S,F);return A.length=S,A}},"4fad":function(i,s,o){var a=o("23e7"),l=o("6f53").entries;a({target:"Object",stat:!0},{entries:function(u){return l(u)}})},"50c4":function(i,s,o){var a=o("a691"),l=Math.min;i.exports=function(c){return c>0?l(a(c),9007199254740991):0}},5135:function(i,s){var o={}.hasOwnProperty;i.exports=function(a,l){return o.call(a,l)}},5319:function(i,s,o){var a=o("d784"),l=o("825a"),c=o("7b0b"),u=o("50c4"),h=o("a691"),f=o("1d80"),d=o("8aa5"),p=o("14c3"),m=Math.max,y=Math.min,v=Math.floor,g=/\$([$&'`]|\d\d?|<[^>]*>)/g,I=/\$([$&'`]|\d\d?)/g,E=function(w){return w===void 0?w:String(w)};a("replace",2,function(w,S,O,A){var b=A.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,x=A.REPLACE_KEEPS_$0,L=b?"$":"$0";return[function(D,tt){var U=f(this),Y=D==null?void 0:D[w];return Y!==void 0?Y.call(D,U,tt):S.call(String(U),D,tt)},function(k,D){if(!b&&x||typeof D=="string"&&D.indexOf(L)===-1){var tt=O(S,k,this,D);if(tt.done)return tt.value}var U=l(k),Y=String(this),ot=typeof D=="function";ot||(D=String(D));var Ut=U.global;if(Ut){var qt=U.unicode;U.lastIndex=0}for(var $t=[];;){var Nt=p(U,Y);if(Nt===null||($t.push(Nt),!Ut))break;var Zt=String(Nt[0]);Zt===""&&(U.lastIndex=d(Y,u(U.lastIndex),qt))}for(var ne="",re=0,xt=0;xt<$t.length;xt++){Nt=$t[xt];for(var M=String(Nt[0]),J=m(y(h(Nt.index),Y.length),0),G=[],it=1;it<Nt.length;it++)G.push(E(Nt[it]));var Ot=Nt.groups;if(ot){var _=[M].concat(G,J,Y);Ot!==void 0&&_.push(Ot);var T=String(D.apply(void 0,_))}else T=F(M,Y,J,G,Ot,D);J>=re&&(ne+=Y.slice(re,J)+T,re=J+M.length)}return ne+Y.slice(re)}];function F(k,D,tt,U,Y,ot){var Ut=tt+k.length,qt=U.length,$t=I;return Y!==void 0&&(Y=c(Y),$t=g),S.call(ot,$t,function(Nt,Zt){var ne;switch(Zt.charAt(0)){case"$":return"$";case"&":return k;case"`":return D.slice(0,tt);case"'":return D.slice(Ut);case"<":ne=Y[Zt.slice(1,-1)];break;default:var re=+Zt;if(re===0)return Nt;if(re>qt){var xt=v(re/10);return xt===0?Nt:xt<=qt?U[xt-1]===void 0?Zt.charAt(1):U[xt-1]+Zt.charAt(1):Nt}ne=U[re-1]}return ne===void 0?"":ne})}})},5692:function(i,s,o){var a=o("c430"),l=o("c6cd");(i.exports=function(c,u){return l[c]||(l[c]=u!==void 0?u:{})})("versions",[]).push({version:"3.6.5",mode:a?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(i,s,o){var a=o("d066"),l=o("241c"),c=o("7418"),u=o("825a");i.exports=a("Reflect","ownKeys")||function(f){var d=l.f(u(f)),p=c.f;return p?d.concat(p(f)):d}},"5a34":function(i,s,o){var a=o("44e7");i.exports=function(l){if(a(l))throw TypeError("The method doesn't accept regular expressions");return l}},"5c6c":function(i,s){i.exports=function(o,a){return{enumerable:!(o&1),configurable:!(o&2),writable:!(o&4),value:a}}},"5db7":function(i,s,o){var a=o("23e7"),l=o("a2bf"),c=o("7b0b"),u=o("50c4"),h=o("1c0b"),f=o("65f0");a({target:"Array",proto:!0},{flatMap:function(p){var m=c(this),y=u(m.length),v;return h(p),v=f(m,0),v.length=l(v,m,m,y,0,1,p,arguments.length>1?arguments[1]:void 0),v}})},6547:function(i,s,o){var a=o("a691"),l=o("1d80"),c=function(u){return function(h,f){var d=String(l(h)),p=a(f),m=d.length,y,v;return p<0||p>=m?u?"":void 0:(y=d.charCodeAt(p),y<55296||y>56319||p+1===m||(v=d.charCodeAt(p+1))<56320||v>57343?u?d.charAt(p):y:u?d.slice(p,p+2):(y-55296<<10)+(v-56320)+65536)}};i.exports={codeAt:c(!1),charAt:c(!0)}},"65f0":function(i,s,o){var a=o("861d"),l=o("e8b5"),c=o("b622"),u=c("species");i.exports=function(h,f){var d;return l(h)&&(d=h.constructor,typeof d=="function"&&(d===Array||l(d.prototype))?d=void 0:a(d)&&(d=d[u],d===null&&(d=void 0))),new(d===void 0?Array:d)(f===0?0:f)}},"69f3":function(i,s,o){var a=o("7f9a"),l=o("da84"),c=o("861d"),u=o("9112"),h=o("5135"),f=o("f772"),d=o("d012"),p=l.WeakMap,m,y,v,g=function(b){return v(b)?y(b):m(b,{})},I=function(b){return function(x){var L;if(!c(x)||(L=y(x)).type!==b)throw TypeError("Incompatible receiver, "+b+" required");return L}};if(a){var E=new p,w=E.get,S=E.has,O=E.set;m=function(b,x){return O.call(E,b,x),x},y=function(b){return w.call(E,b)||{}},v=function(b){return S.call(E,b)}}else{var A=f("state");d[A]=!0,m=function(b,x){return u(b,A,x),x},y=function(b){return h(b,A)?b[A]:{}},v=function(b){return h(b,A)}}i.exports={set:m,get:y,has:v,enforce:g,getterFor:I}},"6eeb":function(i,s,o){var a=o("da84"),l=o("9112"),c=o("5135"),u=o("ce4e"),h=o("8925"),f=o("69f3"),d=f.get,p=f.enforce,m=String(String).split("String");(i.exports=function(y,v,g,I){var E=I?!!I.unsafe:!1,w=I?!!I.enumerable:!1,S=I?!!I.noTargetGet:!1;if(typeof g=="function"&&(typeof v=="string"&&!c(g,"name")&&l(g,"name",v),p(g).source=m.join(typeof v=="string"?v:"")),y===a){w?y[v]=g:u(v,g);return}else E?!S&&y[v]&&(w=!0):delete y[v];w?y[v]=g:l(y,v,g)})(Function.prototype,"toString",function(){return typeof this=="function"&&d(this).source||h(this)})},"6f53":function(i,s,o){var a=o("83ab"),l=o("df75"),c=o("fc6a"),u=o("d1e7").f,h=function(f){return function(d){for(var p=c(d),m=l(p),y=m.length,v=0,g=[],I;y>v;)I=m[v++],(!a||u.call(p,I))&&g.push(f?[I,p[I]]:p[I]);return g}};i.exports={entries:h(!0),values:h(!1)}},"73d9":function(i,s,o){var a=o("44d2");a("flatMap")},7418:function(i,s){s.f=Object.getOwnPropertySymbols},"746f":function(i,s,o){var a=o("428f"),l=o("5135"),c=o("e538"),u=o("9bf2").f;i.exports=function(h){var f=a.Symbol||(a.Symbol={});l(f,h)||u(f,h,{value:c.f(h)})}},7839:function(i,s){i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(i,s,o){var a=o("1d80");i.exports=function(l){return Object(a(l))}},"7c73":function(i,s,o){var a=o("825a"),l=o("37e8"),c=o("7839"),u=o("d012"),h=o("1be4"),f=o("cc12"),d=o("f772"),p=">",m="<",y="prototype",v="script",g=d("IE_PROTO"),I=function(){},E=function(b){return m+v+p+b+m+"/"+v+p},w=function(b){b.write(E("")),b.close();var x=b.parentWindow.Object;return b=null,x},S=function(){var b=f("iframe"),x="java"+v+":",L;return b.style.display="none",h.appendChild(b),b.src=String(x),L=b.contentWindow.document,L.open(),L.write(E("document.F=Object")),L.close(),L.F},O,A=function(){try{O=document.domain&&new ActiveXObject("htmlfile")}catch{}A=O?w(O):S();for(var b=c.length;b--;)delete A[y][c[b]];return A()};u[g]=!0,i.exports=Object.create||function(x,L){var F;return x!==null?(I[y]=a(x),F=new I,I[y]=null,F[g]=x):F=A(),L===void 0?F:l(F,L)}},"7dd0":function(i,s,o){var a=o("23e7"),l=o("9ed3"),c=o("e163"),u=o("d2bb"),h=o("d44e"),f=o("9112"),d=o("6eeb"),p=o("b622"),m=o("c430"),y=o("3f8c"),v=o("ae93"),g=v.IteratorPrototype,I=v.BUGGY_SAFARI_ITERATORS,E=p("iterator"),w="keys",S="values",O="entries",A=function(){return this};i.exports=function(b,x,L,F,k,D,tt){l(L,x,F);var U=function(xt){if(xt===k&&$t)return $t;if(!I&&xt in Ut)return Ut[xt];switch(xt){case w:return function(){return new L(this,xt)};case S:return function(){return new L(this,xt)};case O:return function(){return new L(this,xt)}}return function(){return new L(this)}},Y=x+" Iterator",ot=!1,Ut=b.prototype,qt=Ut[E]||Ut["@@iterator"]||k&&Ut[k],$t=!I&&qt||U(k),Nt=x=="Array"&&Ut.entries||qt,Zt,ne,re;if(Nt&&(Zt=c(Nt.call(new b)),g!==Object.prototype&&Zt.next&&(!m&&c(Zt)!==g&&(u?u(Zt,g):typeof Zt[E]!="function"&&f(Zt,E,A)),h(Zt,Y,!0,!0),m&&(y[Y]=A))),k==S&&qt&&qt.name!==S&&(ot=!0,$t=function(){return qt.call(this)}),(!m||tt)&&Ut[E]!==$t&&f(Ut,E,$t),y[x]=$t,k)if(ne={values:U(S),keys:D?$t:U(w),entries:U(O)},tt)for(re in ne)(I||ot||!(re in Ut))&&d(Ut,re,ne[re]);else a({target:x,proto:!0,forced:I||ot},ne);return ne}},"7f9a":function(i,s,o){var a=o("da84"),l=o("8925"),c=a.WeakMap;i.exports=typeof c=="function"&&/native code/.test(l(c))},"825a":function(i,s,o){var a=o("861d");i.exports=function(l){if(!a(l))throw TypeError(String(l)+" is not an object");return l}},"83ab":function(i,s,o){var a=o("d039");i.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(i,s,o){var a=o("c04e"),l=o("9bf2"),c=o("5c6c");i.exports=function(u,h,f){var d=a(h);d in u?l.f(u,d,c(0,f)):u[d]=f}},"861d":function(i,s){i.exports=function(o){return typeof o=="object"?o!==null:typeof o=="function"}},8875:function(i,s,o){var a,l,c;(function(u,h){l=[],a=h,c=typeof a=="function"?a.apply(s,l):a,c!==void 0&&(i.exports=c)})(typeof self<"u"?self:this,function(){function u(){var h=Object.getOwnPropertyDescriptor(document,"currentScript");if(!h&&"currentScript"in document&&document.currentScript||h&&h.get!==u&&document.currentScript)return document.currentScript;try{throw new Error}catch(O){var f=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,d=/@([^@]*):(\d+):(\d+)\s*$/ig,p=f.exec(O.stack)||d.exec(O.stack),m=p&&p[1]||!1,y=p&&p[2]||!1,v=document.location.href.replace(document.location.hash,""),g,I,E,w=document.getElementsByTagName("script");m===v&&(g=document.documentElement.outerHTML,I=new RegExp("(?:[^\\n]+?\\n){0,"+(y-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),E=g.replace(I,"$1").trim());for(var S=0;S<w.length;S++)if(w[S].readyState==="interactive"||w[S].src===m||m===v&&w[S].innerHTML&&w[S].innerHTML.trim()===E)return w[S];return null}}return u})},8925:function(i,s,o){var a=o("c6cd"),l=Function.toString;typeof a.inspectSource!="function"&&(a.inspectSource=function(c){return l.call(c)}),i.exports=a.inspectSource},"8aa5":function(i,s,o){var a=o("6547").charAt;i.exports=function(l,c,u){return c+(u?a(l,c).length:1)}},"8bbf":function(i,s){i.exports=n},"90e3":function(i,s){var o=0,a=Math.random();i.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++o+a).toString(36)}},9112:function(i,s,o){var a=o("83ab"),l=o("9bf2"),c=o("5c6c");i.exports=a?function(u,h,f){return l.f(u,h,c(1,f))}:function(u,h,f){return u[h]=f,u}},9263:function(i,s,o){var a=o("ad6d"),l=o("9f7f"),c=RegExp.prototype.exec,u=String.prototype.replace,h=c,f=function(){var y=/a/,v=/b*/g;return c.call(y,"a"),c.call(v,"a"),y.lastIndex!==0||v.lastIndex!==0}(),d=l.UNSUPPORTED_Y||l.BROKEN_CARET,p=/()??/.exec("")[1]!==void 0,m=f||p||d;m&&(h=function(v){var g=this,I,E,w,S,O=d&&g.sticky,A=a.call(g),b=g.source,x=0,L=v;return O&&(A=A.replace("y",""),A.indexOf("g")===-1&&(A+="g"),L=String(v).slice(g.lastIndex),g.lastIndex>0&&(!g.multiline||g.multiline&&v[g.lastIndex-1]!==`
`)&&(b="(?: "+b+")",L=" "+L,x++),E=new RegExp("^(?:"+b+")",A)),p&&(E=new RegExp("^"+b+"$(?!\\s)",A)),f&&(I=g.lastIndex),w=c.call(O?E:g,L),O?w?(w.input=w.input.slice(x),w[0]=w[0].slice(x),w.index=g.lastIndex,g.lastIndex+=w[0].length):g.lastIndex=0:f&&w&&(g.lastIndex=g.global?w.index+w[0].length:I),p&&w&&w.length>1&&u.call(w[0],E,function(){for(S=1;S<arguments.length-2;S++)arguments[S]===void 0&&(w[S]=void 0)}),w}),i.exports=h},"94ca":function(i,s,o){var a=o("d039"),l=/#|\.prototype\./,c=function(p,m){var y=h[u(p)];return y==d?!0:y==f?!1:typeof m=="function"?a(m):!!m},u=c.normalize=function(p){return String(p).replace(l,".").toLowerCase()},h=c.data={},f=c.NATIVE="N",d=c.POLYFILL="P";i.exports=c},"99af":function(i,s,o){var a=o("23e7"),l=o("d039"),c=o("e8b5"),u=o("861d"),h=o("7b0b"),f=o("50c4"),d=o("8418"),p=o("65f0"),m=o("1dde"),y=o("b622"),v=o("2d00"),g=y("isConcatSpreadable"),I=9007199254740991,E="Maximum allowed index exceeded",w=v>=51||!l(function(){var b=[];return b[g]=!1,b.concat()[0]!==b}),S=m("concat"),O=function(b){if(!u(b))return!1;var x=b[g];return x!==void 0?!!x:c(b)},A=!w||!S;a({target:"Array",proto:!0,forced:A},{concat:function(x){var L=h(this),F=p(L,0),k=0,D,tt,U,Y,ot;for(D=-1,U=arguments.length;D<U;D++)if(ot=D===-1?L:arguments[D],O(ot)){if(Y=f(ot.length),k+Y>I)throw TypeError(E);for(tt=0;tt<Y;tt++,k++)tt in ot&&d(F,k,ot[tt])}else{if(k>=I)throw TypeError(E);d(F,k++,ot)}return F.length=k,F}})},"9bdd":function(i,s,o){var a=o("825a");i.exports=function(l,c,u,h){try{return h?c(a(u)[0],u[1]):c(u)}catch(d){var f=l.return;throw f!==void 0&&a(f.call(l)),d}}},"9bf2":function(i,s,o){var a=o("83ab"),l=o("0cfb"),c=o("825a"),u=o("c04e"),h=Object.defineProperty;s.f=a?h:function(d,p,m){if(c(d),p=u(p,!0),c(m),l)try{return h(d,p,m)}catch{}if("get"in m||"set"in m)throw TypeError("Accessors not supported");return"value"in m&&(d[p]=m.value),d}},"9ed3":function(i,s,o){var a=o("ae93").IteratorPrototype,l=o("7c73"),c=o("5c6c"),u=o("d44e"),h=o("3f8c"),f=function(){return this};i.exports=function(d,p,m){var y=p+" Iterator";return d.prototype=l(a,{next:c(1,m)}),u(d,y,!1,!0),h[y]=f,d}},"9f7f":function(i,s,o){var a=o("d039");function l(c,u){return RegExp(c,u)}s.UNSUPPORTED_Y=a(function(){var c=l("a","y");return c.lastIndex=2,c.exec("abcd")!=null}),s.BROKEN_CARET=a(function(){var c=l("^r","gy");return c.lastIndex=2,c.exec("str")!=null})},a2bf:function(i,s,o){var a=o("e8b5"),l=o("50c4"),c=o("0366"),u=function(h,f,d,p,m,y,v,g){for(var I=m,E=0,w=v?c(v,g,3):!1,S;E<p;){if(E in d){if(S=w?w(d[E],E,f):d[E],y>0&&a(S))I=u(h,f,S,l(S.length),I,y-1)-1;else{if(I>=9007199254740991)throw TypeError("Exceed the acceptable array length");h[I]=S}I++}E++}return I};i.exports=u},a352:function(i,s){i.exports=r},a434:function(i,s,o){var a=o("23e7"),l=o("23cb"),c=o("a691"),u=o("50c4"),h=o("7b0b"),f=o("65f0"),d=o("8418"),p=o("1dde"),m=o("ae40"),y=p("splice"),v=m("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,I=Math.min,E=9007199254740991,w="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!y||!v},{splice:function(O,A){var b=h(this),x=u(b.length),L=l(O,x),F=arguments.length,k,D,tt,U,Y,ot;if(F===0?k=D=0:F===1?(k=0,D=x-L):(k=F-2,D=I(g(c(A),0),x-L)),x+k-D>E)throw TypeError(w);for(tt=f(b,D),U=0;U<D;U++)Y=L+U,Y in b&&d(tt,U,b[Y]);if(tt.length=D,k<D){for(U=L;U<x-D;U++)Y=U+D,ot=U+k,Y in b?b[ot]=b[Y]:delete b[ot];for(U=x;U>x-D+k;U--)delete b[U-1]}else if(k>D)for(U=x-D;U>L;U--)Y=U+D-1,ot=U+k-1,Y in b?b[ot]=b[Y]:delete b[ot];for(U=0;U<k;U++)b[U+L]=arguments[U+2];return b.length=x-D+k,tt}})},a4d3:function(i,s,o){var a=o("23e7"),l=o("da84"),c=o("d066"),u=o("c430"),h=o("83ab"),f=o("4930"),d=o("fdbf"),p=o("d039"),m=o("5135"),y=o("e8b5"),v=o("861d"),g=o("825a"),I=o("7b0b"),E=o("fc6a"),w=o("c04e"),S=o("5c6c"),O=o("7c73"),A=o("df75"),b=o("241c"),x=o("057f"),L=o("7418"),F=o("06cf"),k=o("9bf2"),D=o("d1e7"),tt=o("9112"),U=o("6eeb"),Y=o("5692"),ot=o("f772"),Ut=o("d012"),qt=o("90e3"),$t=o("b622"),Nt=o("e538"),Zt=o("746f"),ne=o("d44e"),re=o("69f3"),xt=o("b727").forEach,M=ot("hidden"),J="Symbol",G="prototype",it=$t("toPrimitive"),Ot=re.set,_=re.getterFor(J),T=Object[G],R=l.Symbol,V=c("JSON","stringify"),j=F.f,B=k.f,q=x.f,Q=D.f,z=Y("symbols"),$=Y("op-symbols"),ct=Y("string-to-symbol-registry"),rt=Y("symbol-to-string-registry"),ut=Y("wks"),gt=l.QObject,At=!gt||!gt[G]||!gt[G].findChild,Wt=h&&p(function(){return O(B({},"a",{get:function(){return B(this,"a",{value:7}).a}})).a!=7})?function(_t,ht,vt){var Lt=j(T,ht);Lt&&delete T[ht],B(_t,ht,vt),Lt&&_t!==T&&B(T,ht,Lt)}:B,jt=function(_t,ht){var vt=z[_t]=O(R[G]);return Ot(vt,{type:J,tag:_t,description:ht}),h||(vt.description=ht),vt},P=d?function(_t){return typeof _t=="symbol"}:function(_t){return Object(_t)instanceof R},C=function(ht,vt,Lt){ht===T&&C($,vt,Lt),g(ht);var Ht=w(vt,!0);return g(Lt),m(z,Ht)?(Lt.enumerable?(m(ht,M)&&ht[M][Ht]&&(ht[M][Ht]=!1),Lt=O(Lt,{enumerable:S(0,!1)})):(m(ht,M)||B(ht,M,S(1,{})),ht[M][Ht]=!0),Wt(ht,Ht,Lt)):B(ht,Ht,Lt)},N=function(ht,vt){g(ht);var Lt=E(vt),Ht=A(Lt).concat(Rt(Lt));return xt(Ht,function(en){(!h||et.call(Lt,en))&&C(ht,en,Lt[en])}),ht},K=function(ht,vt){return vt===void 0?O(ht):N(O(ht),vt)},et=function(ht){var vt=w(ht,!0),Lt=Q.call(this,vt);return this===T&&m(z,vt)&&!m($,vt)?!1:Lt||!m(this,vt)||!m(z,vt)||m(this,M)&&this[M][vt]?Lt:!0},mt=function(ht,vt){var Lt=E(ht),Ht=w(vt,!0);if(!(Lt===T&&m(z,Ht)&&!m($,Ht))){var en=j(Lt,Ht);return en&&m(z,Ht)&&!(m(Lt,M)&&Lt[M][Ht])&&(en.enumerable=!0),en}},ft=function(ht){var vt=q(E(ht)),Lt=[];return xt(vt,function(Ht){!m(z,Ht)&&!m(Ut,Ht)&&Lt.push(Ht)}),Lt},Rt=function(ht){var vt=ht===T,Lt=q(vt?$:E(ht)),Ht=[];return xt(Lt,function(en){m(z,en)&&(!vt||m(T,en))&&Ht.push(z[en])}),Ht};if(f||(R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor");var ht=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),vt=qt(ht),Lt=function(Ht){this===T&&Lt.call($,Ht),m(this,M)&&m(this[M],vt)&&(this[M][vt]=!1),Wt(this,vt,S(1,Ht))};return h&&At&&Wt(T,vt,{configurable:!0,set:Lt}),jt(vt,ht)},U(R[G],"toString",function(){return _(this).tag}),U(R,"withoutSetter",function(_t){return jt(qt(_t),_t)}),D.f=et,k.f=C,F.f=mt,b.f=x.f=ft,L.f=Rt,Nt.f=function(_t){return jt($t(_t),_t)},h&&(B(R[G],"description",{configurable:!0,get:function(){return _(this).description}}),u||U(T,"propertyIsEnumerable",et,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:R}),xt(A(ut),function(_t){Zt(_t)}),a({target:J,stat:!0,forced:!f},{for:function(_t){var ht=String(_t);if(m(ct,ht))return ct[ht];var vt=R(ht);return ct[ht]=vt,rt[vt]=ht,vt},keyFor:function(ht){if(!P(ht))throw TypeError(ht+" is not a symbol");if(m(rt,ht))return rt[ht]},useSetter:function(){At=!0},useSimple:function(){At=!1}}),a({target:"Object",stat:!0,forced:!f,sham:!h},{create:K,defineProperty:C,defineProperties:N,getOwnPropertyDescriptor:mt}),a({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:ft,getOwnPropertySymbols:Rt}),a({target:"Object",stat:!0,forced:p(function(){L.f(1)})},{getOwnPropertySymbols:function(ht){return L.f(I(ht))}}),V){var oe=!f||p(function(){var _t=R();return V([_t])!="[null]"||V({a:_t})!="{}"||V(Object(_t))!="{}"});a({target:"JSON",stat:!0,forced:oe},{stringify:function(ht,vt,Lt){for(var Ht=[ht],en=1,bu;arguments.length>en;)Ht.push(arguments[en++]);if(bu=vt,!(!v(vt)&&ht===void 0||P(ht)))return y(vt)||(vt=function(yI,Ga){if(typeof bu=="function"&&(Ga=bu.call(this,yI,Ga)),!P(Ga))return Ga}),Ht[1]=vt,V.apply(null,Ht)}})}R[G][it]||tt(R[G],it,R[G].valueOf),ne(R,J),Ut[M]=!0},a630:function(i,s,o){var a=o("23e7"),l=o("4df4"),c=o("1c7e"),u=!c(function(h){Array.from(h)});a({target:"Array",stat:!0,forced:u},{from:l})},a640:function(i,s,o){var a=o("d039");i.exports=function(l,c){var u=[][l];return!!u&&a(function(){u.call(null,c||function(){throw 1},1)})}},a691:function(i,s){var o=Math.ceil,a=Math.floor;i.exports=function(l){return isNaN(l=+l)?0:(l>0?a:o)(l)}},ab13:function(i,s,o){var a=o("b622"),l=a("match");i.exports=function(c){var u=/./;try{"/./"[c](u)}catch{try{return u[l]=!1,"/./"[c](u)}catch{}}return!1}},ac1f:function(i,s,o){var a=o("23e7"),l=o("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},ad6d:function(i,s,o){var a=o("825a");i.exports=function(){var l=a(this),c="";return l.global&&(c+="g"),l.ignoreCase&&(c+="i"),l.multiline&&(c+="m"),l.dotAll&&(c+="s"),l.unicode&&(c+="u"),l.sticky&&(c+="y"),c}},ae40:function(i,s,o){var a=o("83ab"),l=o("d039"),c=o("5135"),u=Object.defineProperty,h={},f=function(d){throw d};i.exports=function(d,p){if(c(h,d))return h[d];p||(p={});var m=[][d],y=c(p,"ACCESSORS")?p.ACCESSORS:!1,v=c(p,0)?p[0]:f,g=c(p,1)?p[1]:void 0;return h[d]=!!m&&!l(function(){if(y&&!a)return!0;var I={length:-1};y?u(I,1,{enumerable:!0,get:f}):I[1]=1,m.call(I,v,g)})}},ae93:function(i,s,o){var a=o("e163"),l=o("9112"),c=o("5135"),u=o("b622"),h=o("c430"),f=u("iterator"),d=!1,p=function(){return this},m,y,v;[].keys&&(v=[].keys(),"next"in v?(y=a(a(v)),y!==Object.prototype&&(m=y)):d=!0),m==null&&(m={}),!h&&!c(m,f)&&l(m,f,p),i.exports={IteratorPrototype:m,BUGGY_SAFARI_ITERATORS:d}},b041:function(i,s,o){var a=o("00ee"),l=o("f5df");i.exports=a?{}.toString:function(){return"[object "+l(this)+"]"}},b0c0:function(i,s,o){var a=o("83ab"),l=o("9bf2").f,c=Function.prototype,u=c.toString,h=/^\s*function ([^ (]*)/,f="name";a&&!(f in c)&&l(c,f,{configurable:!0,get:function(){try{return u.call(this).match(h)[1]}catch{return""}}})},b622:function(i,s,o){var a=o("da84"),l=o("5692"),c=o("5135"),u=o("90e3"),h=o("4930"),f=o("fdbf"),d=l("wks"),p=a.Symbol,m=f?p:p&&p.withoutSetter||u;i.exports=function(y){return c(d,y)||(h&&c(p,y)?d[y]=p[y]:d[y]=m("Symbol."+y)),d[y]}},b64b:function(i,s,o){var a=o("23e7"),l=o("7b0b"),c=o("df75"),u=o("d039"),h=u(function(){c(1)});a({target:"Object",stat:!0,forced:h},{keys:function(d){return c(l(d))}})},b727:function(i,s,o){var a=o("0366"),l=o("44ad"),c=o("7b0b"),u=o("50c4"),h=o("65f0"),f=[].push,d=function(p){var m=p==1,y=p==2,v=p==3,g=p==4,I=p==6,E=p==5||I;return function(w,S,O,A){for(var b=c(w),x=l(b),L=a(S,O,3),F=u(x.length),k=0,D=A||h,tt=m?D(w,F):y?D(w,0):void 0,U,Y;F>k;k++)if((E||k in x)&&(U=x[k],Y=L(U,k,b),p)){if(m)tt[k]=Y;else if(Y)switch(p){case 3:return!0;case 5:return U;case 6:return k;case 2:f.call(tt,U)}else if(g)return!1}return I?-1:v||g?g:tt}};i.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6)}},c04e:function(i,s,o){var a=o("861d");i.exports=function(l,c){if(!a(l))return l;var u,h;if(c&&typeof(u=l.toString)=="function"&&!a(h=u.call(l))||typeof(u=l.valueOf)=="function"&&!a(h=u.call(l))||!c&&typeof(u=l.toString)=="function"&&!a(h=u.call(l)))return h;throw TypeError("Can't convert object to primitive value")}},c430:function(i,s){i.exports=!1},c6b6:function(i,s){var o={}.toString;i.exports=function(a){return o.call(a).slice(8,-1)}},c6cd:function(i,s,o){var a=o("da84"),l=o("ce4e"),c="__core-js_shared__",u=a[c]||l(c,{});i.exports=u},c740:function(i,s,o){var a=o("23e7"),l=o("b727").findIndex,c=o("44d2"),u=o("ae40"),h="findIndex",f=!0,d=u(h);h in[]&&Array(1)[h](function(){f=!1}),a({target:"Array",proto:!0,forced:f||!d},{findIndex:function(m){return l(this,m,arguments.length>1?arguments[1]:void 0)}}),c(h)},c8ba:function(i,s){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}i.exports=o},c975:function(i,s,o){var a=o("23e7"),l=o("4d64").indexOf,c=o("a640"),u=o("ae40"),h=[].indexOf,f=!!h&&1/[1].indexOf(1,-0)<0,d=c("indexOf"),p=u("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:f||!d||!p},{indexOf:function(y){return f?h.apply(this,arguments)||0:l(this,y,arguments.length>1?arguments[1]:void 0)}})},ca84:function(i,s,o){var a=o("5135"),l=o("fc6a"),c=o("4d64").indexOf,u=o("d012");i.exports=function(h,f){var d=l(h),p=0,m=[],y;for(y in d)!a(u,y)&&a(d,y)&&m.push(y);for(;f.length>p;)a(d,y=f[p++])&&(~c(m,y)||m.push(y));return m}},caad:function(i,s,o){var a=o("23e7"),l=o("4d64").includes,c=o("44d2"),u=o("ae40"),h=u("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!h},{includes:function(d){return l(this,d,arguments.length>1?arguments[1]:void 0)}}),c("includes")},cc12:function(i,s,o){var a=o("da84"),l=o("861d"),c=a.document,u=l(c)&&l(c.createElement);i.exports=function(h){return u?c.createElement(h):{}}},ce4e:function(i,s,o){var a=o("da84"),l=o("9112");i.exports=function(c,u){try{l(a,c,u)}catch{a[c]=u}return u}},d012:function(i,s){i.exports={}},d039:function(i,s){i.exports=function(o){try{return!!o()}catch{return!0}}},d066:function(i,s,o){var a=o("428f"),l=o("da84"),c=function(u){return typeof u=="function"?u:void 0};i.exports=function(u,h){return arguments.length<2?c(a[u])||c(l[u]):a[u]&&a[u][h]||l[u]&&l[u][h]}},d1e7:function(i,s,o){var a={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,c=l&&!a.call({1:2},1);s.f=c?function(h){var f=l(this,h);return!!f&&f.enumerable}:a},d28b:function(i,s,o){var a=o("746f");a("iterator")},d2bb:function(i,s,o){var a=o("825a"),l=o("3bbe");i.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var c=!1,u={},h;try{h=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,h.call(u,[]),c=u instanceof Array}catch{}return function(d,p){return a(d),l(p),c?h.call(d,p):d.__proto__=p,d}}():void 0)},d3b7:function(i,s,o){var a=o("00ee"),l=o("6eeb"),c=o("b041");a||l(Object.prototype,"toString",c,{unsafe:!0})},d44e:function(i,s,o){var a=o("9bf2").f,l=o("5135"),c=o("b622"),u=c("toStringTag");i.exports=function(h,f,d){h&&!l(h=d?h:h.prototype,u)&&a(h,u,{configurable:!0,value:f})}},d58f:function(i,s,o){var a=o("1c0b"),l=o("7b0b"),c=o("44ad"),u=o("50c4"),h=function(f){return function(d,p,m,y){a(p);var v=l(d),g=c(v),I=u(v.length),E=f?I-1:0,w=f?-1:1;if(m<2)for(;;){if(E in g){y=g[E],E+=w;break}if(E+=w,f?E<0:I<=E)throw TypeError("Reduce of empty array with no initial value")}for(;f?E>=0:I>E;E+=w)E in g&&(y=p(y,g[E],E,v));return y}};i.exports={left:h(!1),right:h(!0)}},d784:function(i,s,o){o("ac1f");var a=o("6eeb"),l=o("d039"),c=o("b622"),u=o("9263"),h=o("9112"),f=c("species"),d=!l(function(){var g=/./;return g.exec=function(){var I=[];return I.groups={a:"7"},I},"".replace(g,"$<a>")!=="7"}),p=function(){return"a".replace(/./,"$0")==="$0"}(),m=c("replace"),y=function(){return/./[m]?/./[m]("a","$0")==="":!1}(),v=!l(function(){var g=/(?:)/,I=g.exec;g.exec=function(){return I.apply(this,arguments)};var E="ab".split(g);return E.length!==2||E[0]!=="a"||E[1]!=="b"});i.exports=function(g,I,E,w){var S=c(g),O=!l(function(){var k={};return k[S]=function(){return 7},""[g](k)!=7}),A=O&&!l(function(){var k=!1,D=/a/;return g==="split"&&(D={},D.constructor={},D.constructor[f]=function(){return D},D.flags="",D[S]=/./[S]),D.exec=function(){return k=!0,null},D[S](""),!k});if(!O||!A||g==="replace"&&!(d&&p&&!y)||g==="split"&&!v){var b=/./[S],x=E(S,""[g],function(k,D,tt,U,Y){return D.exec===u?O&&!Y?{done:!0,value:b.call(D,tt,U)}:{done:!0,value:k.call(tt,D,U)}:{done:!1}},{REPLACE_KEEPS_$0:p,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:y}),L=x[0],F=x[1];a(String.prototype,g,L),a(RegExp.prototype,S,I==2?function(k,D){return F.call(k,this,D)}:function(k){return F.call(k,this)})}w&&h(RegExp.prototype[S],"sham",!0)}},d81d:function(i,s,o){var a=o("23e7"),l=o("b727").map,c=o("1dde"),u=o("ae40"),h=c("map"),f=u("map");a({target:"Array",proto:!0,forced:!h||!f},{map:function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}})},da84:function(i,s,o){(function(a){var l=function(c){return c&&c.Math==Math&&c};i.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof a=="object"&&a)||Function("return this")()}).call(this,o("c8ba"))},dbb4:function(i,s,o){var a=o("23e7"),l=o("83ab"),c=o("56ef"),u=o("fc6a"),h=o("06cf"),f=o("8418");a({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(p){for(var m=u(p),y=h.f,v=c(m),g={},I=0,E,w;v.length>I;)w=y(m,E=v[I++]),w!==void 0&&f(g,E,w);return g}})},dbf1:function(i,s,o){(function(a){o.d(s,"a",function(){return c});function l(){return typeof window<"u"?window.console:a.console}var c=l()}).call(this,o("c8ba"))},ddb0:function(i,s,o){var a=o("da84"),l=o("fdbc"),c=o("e260"),u=o("9112"),h=o("b622"),f=h("iterator"),d=h("toStringTag"),p=c.values;for(var m in l){var y=a[m],v=y&&y.prototype;if(v){if(v[f]!==p)try{u(v,f,p)}catch{v[f]=p}if(v[d]||u(v,d,m),l[m]){for(var g in c)if(v[g]!==c[g])try{u(v,g,c[g])}catch{v[g]=c[g]}}}}},df75:function(i,s,o){var a=o("ca84"),l=o("7839");i.exports=Object.keys||function(u){return a(u,l)}},e01a:function(i,s,o){var a=o("23e7"),l=o("83ab"),c=o("da84"),u=o("5135"),h=o("861d"),f=o("9bf2").f,d=o("e893"),p=c.Symbol;if(l&&typeof p=="function"&&(!("description"in p.prototype)||p().description!==void 0)){var m={},y=function(){var S=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),O=this instanceof y?new p(S):S===void 0?p():p(S);return S===""&&(m[O]=!0),O};d(y,p);var v=y.prototype=p.prototype;v.constructor=y;var g=v.toString,I=String(p("test"))=="Symbol(test)",E=/^Symbol\((.*)\)[^)]+$/;f(v,"description",{configurable:!0,get:function(){var S=h(this)?this.valueOf():this,O=g.call(S);if(u(m,S))return"";var A=I?O.slice(7,-1):O.replace(E,"$1");return A===""?void 0:A}}),a({global:!0,forced:!0},{Symbol:y})}},e163:function(i,s,o){var a=o("5135"),l=o("7b0b"),c=o("f772"),u=o("e177"),h=c("IE_PROTO"),f=Object.prototype;i.exports=u?Object.getPrototypeOf:function(d){return d=l(d),a(d,h)?d[h]:typeof d.constructor=="function"&&d instanceof d.constructor?d.constructor.prototype:d instanceof Object?f:null}},e177:function(i,s,o){var a=o("d039");i.exports=!a(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},e260:function(i,s,o){var a=o("fc6a"),l=o("44d2"),c=o("3f8c"),u=o("69f3"),h=o("7dd0"),f="Array Iterator",d=u.set,p=u.getterFor(f);i.exports=h(Array,"Array",function(m,y){d(this,{type:f,target:a(m),index:0,kind:y})},function(){var m=p(this),y=m.target,v=m.kind,g=m.index++;return!y||g>=y.length?(m.target=void 0,{value:void 0,done:!0}):v=="keys"?{value:g,done:!1}:v=="values"?{value:y[g],done:!1}:{value:[g,y[g]],done:!1}},"values"),c.Arguments=c.Array,l("keys"),l("values"),l("entries")},e439:function(i,s,o){var a=o("23e7"),l=o("d039"),c=o("fc6a"),u=o("06cf").f,h=o("83ab"),f=l(function(){u(1)}),d=!h||f;a({target:"Object",stat:!0,forced:d,sham:!h},{getOwnPropertyDescriptor:function(m,y){return u(c(m),y)}})},e538:function(i,s,o){var a=o("b622");s.f=a},e893:function(i,s,o){var a=o("5135"),l=o("56ef"),c=o("06cf"),u=o("9bf2");i.exports=function(h,f){for(var d=l(f),p=u.f,m=c.f,y=0;y<d.length;y++){var v=d[y];a(h,v)||p(h,v,m(f,v))}}},e8b5:function(i,s,o){var a=o("c6b6");i.exports=Array.isArray||function(c){return a(c)=="Array"}},e95a:function(i,s,o){var a=o("b622"),l=o("3f8c"),c=a("iterator"),u=Array.prototype;i.exports=function(h){return h!==void 0&&(l.Array===h||u[c]===h)}},f5df:function(i,s,o){var a=o("00ee"),l=o("c6b6"),c=o("b622"),u=c("toStringTag"),h=l(function(){return arguments}())=="Arguments",f=function(d,p){try{return d[p]}catch{}};i.exports=a?l:function(d){var p,m,y;return d===void 0?"Undefined":d===null?"Null":typeof(m=f(p=Object(d),u))=="string"?m:h?l(p):(y=l(p))=="Object"&&typeof p.callee=="function"?"Arguments":y}},f772:function(i,s,o){var a=o("5692"),l=o("90e3"),c=a("keys");i.exports=function(u){return c[u]||(c[u]=l(u))}},fb15:function(i,s,o){if(o.r(s),typeof window<"u"){var a=window.document.currentScript;{var l=o("8875");a=l(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:l})}var c=a&&a.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);c&&(o.p=c[1])}o("99af"),o("4de4"),o("4160"),o("c975"),o("d81d"),o("a434"),o("159b"),o("a4d3"),o("e439"),o("dbb4"),o("b64b");function u(P,C,N){return C in P?Object.defineProperty(P,C,{value:N,enumerable:!0,configurable:!0,writable:!0}):P[C]=N,P}function h(P,C){var N=Object.keys(P);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(P);C&&(K=K.filter(function(et){return Object.getOwnPropertyDescriptor(P,et).enumerable})),N.push.apply(N,K)}return N}function f(P){for(var C=1;C<arguments.length;C++){var N=arguments[C]!=null?arguments[C]:{};C%2?h(Object(N),!0).forEach(function(K){u(P,K,N[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(N)):h(Object(N)).forEach(function(K){Object.defineProperty(P,K,Object.getOwnPropertyDescriptor(N,K))})}return P}function d(P){if(Array.isArray(P))return P}o("e01a"),o("d28b"),o("e260"),o("d3b7"),o("3ca3"),o("ddb0");function p(P,C){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(P)))){var N=[],K=!0,et=!1,mt=void 0;try{for(var ft=P[Symbol.iterator](),Rt;!(K=(Rt=ft.next()).done)&&(N.push(Rt.value),!(C&&N.length===C));K=!0);}catch(oe){et=!0,mt=oe}finally{try{!K&&ft.return!=null&&ft.return()}finally{if(et)throw mt}}return N}}o("a630"),o("fb6a"),o("b0c0"),o("25f0");function m(P,C){(C==null||C>P.length)&&(C=P.length);for(var N=0,K=new Array(C);N<C;N++)K[N]=P[N];return K}function y(P,C){if(P){if(typeof P=="string")return m(P,C);var N=Object.prototype.toString.call(P).slice(8,-1);if(N==="Object"&&P.constructor&&(N=P.constructor.name),N==="Map"||N==="Set")return Array.from(P);if(N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return m(P,C)}}function v(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g(P,C){return d(P)||p(P,C)||y(P,C)||v()}function I(P){if(Array.isArray(P))return m(P)}function E(P){if(typeof Symbol<"u"&&Symbol.iterator in Object(P))return Array.from(P)}function w(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(P){return I(P)||E(P)||y(P)||w()}var O=o("a352"),A=o.n(O);function b(P){P.parentElement!==null&&P.parentElement.removeChild(P)}function x(P,C,N){var K=N===0?P.children[0]:P.children[N-1].nextSibling;P.insertBefore(C,K)}var L=o("dbf1");o("13d5"),o("4fad"),o("ac1f"),o("5319");function F(P){var C=Object.create(null);return function(K){var et=C[K];return et||(C[K]=P(K))}}var k=/-(\w)/g,D=F(function(P){return P.replace(k,function(C,N){return N.toUpperCase()})});o("5db7"),o("73d9");var tt=["Start","Add","Remove","Update","End"],U=["Choose","Unchoose","Sort","Filter","Clone"],Y=["Move"],ot=[Y,tt,U].flatMap(function(P){return P}).map(function(P){return"on".concat(P)}),Ut={manage:Y,manageAndEmit:tt,emit:U};function qt(P){return ot.indexOf(P)!==-1}o("caad"),o("2ca0");var $t=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function Nt(P){return $t.includes(P)}function Zt(P){return["transition-group","TransitionGroup"].includes(P)}function ne(P){return["id","class","role","style"].includes(P)||P.startsWith("data-")||P.startsWith("aria-")||P.startsWith("on")}function re(P){return P.reduce(function(C,N){var K=g(N,2),et=K[0],mt=K[1];return C[et]=mt,C},{})}function xt(P){var C=P.$attrs,N=P.componentData,K=N===void 0?{}:N,et=re(Object.entries(C).filter(function(mt){var ft=g(mt,2),Rt=ft[0];return ft[1],ne(Rt)}));return f(f({},et),K)}function M(P){var C=P.$attrs,N=P.callBackBuilder,K=re(J(C));Object.entries(N).forEach(function(mt){var ft=g(mt,2),Rt=ft[0],oe=ft[1];Ut[Rt].forEach(function(_t){K["on".concat(_t)]=oe(_t)})});var et="[data-draggable]".concat(K.draggable||"");return f(f({},K),{},{draggable:et})}function J(P){return Object.entries(P).filter(function(C){var N=g(C,2),K=N[0];return N[1],!ne(K)}).map(function(C){var N=g(C,2),K=N[0],et=N[1];return[D(K),et]}).filter(function(C){var N=g(C,2),K=N[0];return N[1],!qt(K)})}o("c740");function G(P,C){if(!(P instanceof C))throw new TypeError("Cannot call a class as a function")}function it(P,C){for(var N=0;N<C.length;N++){var K=C[N];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(P,K.key,K)}}function Ot(P,C,N){return C&&it(P.prototype,C),N&&it(P,N),P}var _=function(C){var N=C.el;return N},T=function(C,N){return C.__draggable_context=N},R=function(C){return C.__draggable_context},V=function(){function P(C){var N=C.nodes,K=N.header,et=N.default,mt=N.footer,ft=C.root,Rt=C.realList;G(this,P),this.defaultNodes=et,this.children=[].concat(S(K),S(et),S(mt)),this.externalComponent=ft.externalComponent,this.rootTransition=ft.transition,this.tag=ft.tag,this.realList=Rt}return Ot(P,[{key:"render",value:function(N,K){var et=this.tag,mt=this.children,ft=this._isRootComponent,Rt=ft?{default:function(){return mt}}:mt;return N(et,K,Rt)}},{key:"updated",value:function(){var N=this.defaultNodes,K=this.realList;N.forEach(function(et,mt){T(_(et),{element:K[mt],index:mt})})}},{key:"getUnderlyingVm",value:function(N){return R(N)}},{key:"getVmIndexFromDomIndex",value:function(N,K){var et=this.defaultNodes,mt=et.length,ft=K.children,Rt=ft.item(N);if(Rt===null)return mt;var oe=R(Rt);if(oe)return oe.index;if(mt===0)return 0;var _t=_(et[0]),ht=S(ft).findIndex(function(vt){return vt===_t});return N<ht?0:mt}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),P}(),j=o("8bbf");function B(P,C){var N=P[C];return N?N():[]}function q(P){var C=P.$slots,N=P.realList,K=P.getKey,et=N||[],mt=["header","footer"].map(function(vt){return B(C,vt)}),ft=g(mt,2),Rt=ft[0],oe=ft[1],_t=C.item;if(!_t)throw new Error("draggable element must have an item slot");var ht=et.flatMap(function(vt,Lt){return _t({element:vt,index:Lt}).map(function(Ht){return Ht.key=K(vt),Ht.props=f(f({},Ht.props||{}),{},{"data-draggable":!0}),Ht})});if(ht.length!==et.length)throw new Error("Item slot must have only one child");return{header:Rt,footer:oe,default:ht}}function Q(P){var C=Zt(P),N=!Nt(P)&&!C;return{transition:C,externalComponent:N,tag:N?Object(j.resolveComponent)(P):C?j.TransitionGroup:P}}function z(P){var C=P.$slots,N=P.tag,K=P.realList,et=P.getKey,mt=q({$slots:C,realList:K,getKey:et}),ft=Q(N);return new V({nodes:mt,root:ft,realList:K})}function $(P,C){var N=this;Object(j.nextTick)(function(){return N.$emit(P.toLowerCase(),C)})}function ct(P){var C=this;return function(N,K){if(C.realList!==null)return C["onDrag".concat(P)](N,K)}}function rt(P){var C=this,N=ct.call(this,P);return function(K,et){N.call(C,K,et),$.call(C,P,K)}}var ut=null,gt={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(C){return C}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},At=["update:modelValue","change"].concat(S([].concat(S(Ut.manageAndEmit),S(Ut.emit)).map(function(P){return P.toLowerCase()}))),Wt=Object(j.defineComponent)({name:"draggable",inheritAttrs:!1,props:gt,emits:At,data:function(){return{error:!1}},render:function(){try{this.error=!1;var C=this.$slots,N=this.$attrs,K=this.tag,et=this.componentData,mt=this.realList,ft=this.getKey,Rt=z({$slots:C,tag:K,realList:mt,getKey:ft});this.componentStructure=Rt;var oe=xt({$attrs:N,componentData:et});return Rt.render(j.h,oe)}catch(_t){return this.error=!0,Object(j.h)("pre",{style:{color:"red"}},_t.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&L.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var C=this;if(!this.error){var N=this.$attrs,K=this.$el,et=this.componentStructure;et.updated();var mt=M({$attrs:N,callBackBuilder:{manageAndEmit:function(oe){return rt.call(C,oe)},emit:function(oe){return $.bind(C,oe)},manage:function(oe){return ct.call(C,oe)}}}),ft=K.nodeType===1?K:K.parentElement;this._sortable=new A.a(ft,mt),this.targetDomElement=ft,ft.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var C=this.list;return C||this.modelValue},getKey:function(){var C=this.itemKey;return typeof C=="function"?C:function(N){return N[C]}}},watch:{$attrs:{handler:function(C){var N=this._sortable;N&&J(C).forEach(function(K){var et=g(K,2),mt=et[0],ft=et[1];N.option(mt,ft)})},deep:!0}},methods:{getUnderlyingVm:function(C){return this.componentStructure.getUnderlyingVm(C)||null},getUnderlyingPotencialDraggableComponent:function(C){return C.__draggable_component__},emitChanges:function(C){var N=this;Object(j.nextTick)(function(){return N.$emit("change",C)})},alterList:function(C){if(this.list){C(this.list);return}var N=S(this.modelValue);C(N),this.$emit("update:modelValue",N)},spliceList:function(){var C=arguments,N=function(et){return et.splice.apply(et,S(C))};this.alterList(N)},updatePosition:function(C,N){var K=function(mt){return mt.splice(N,0,mt.splice(C,1)[0])};this.alterList(K)},getRelatedContextFromMoveEvent:function(C){var N=C.to,K=C.related,et=this.getUnderlyingPotencialDraggableComponent(N);if(!et)return{component:et};var mt=et.realList,ft={list:mt,component:et};if(N!==K&&mt){var Rt=et.getUnderlyingVm(K)||{};return f(f({},Rt),ft)}return ft},getVmIndexFromDomIndex:function(C){return this.componentStructure.getVmIndexFromDomIndex(C,this.targetDomElement)},onDragStart:function(C){this.context=this.getUnderlyingVm(C.item),C.item._underlying_vm_=this.clone(this.context.element),ut=C.item},onDragAdd:function(C){var N=C.item._underlying_vm_;if(N!==void 0){b(C.item);var K=this.getVmIndexFromDomIndex(C.newIndex);this.spliceList(K,0,N);var et={element:N,newIndex:K};this.emitChanges({added:et})}},onDragRemove:function(C){if(x(this.$el,C.item,C.oldIndex),C.pullMode==="clone"){b(C.clone);return}var N=this.context,K=N.index,et=N.element;this.spliceList(K,1);var mt={element:et,oldIndex:K};this.emitChanges({removed:mt})},onDragUpdate:function(C){b(C.item),x(C.from,C.item,C.oldIndex);var N=this.context.index,K=this.getVmIndexFromDomIndex(C.newIndex);this.updatePosition(N,K);var et={element:this.context.element,oldIndex:N,newIndex:K};this.emitChanges({moved:et})},computeFutureIndex:function(C,N){if(!C.element)return 0;var K=S(N.to.children).filter(function(Rt){return Rt.style.display!=="none"}),et=K.indexOf(N.related),mt=C.component.getVmIndexFromDomIndex(et),ft=K.indexOf(ut)!==-1;return ft||!N.willInsertAfter?mt:mt+1},onDragMove:function(C,N){var K=this.move,et=this.realList;if(!K||!et)return!0;var mt=this.getRelatedContextFromMoveEvent(C),ft=this.computeFutureIndex(mt,C),Rt=f(f({},this.context),{},{futureIndex:ft}),oe=f(f({},C),{},{relatedContext:mt,draggedContext:Rt});return K(oe,N)},onDragEnd:function(){ut=null}}}),jt=Wt;s.default=jt},fb6a:function(i,s,o){var a=o("23e7"),l=o("861d"),c=o("e8b5"),u=o("23cb"),h=o("50c4"),f=o("fc6a"),d=o("8418"),p=o("b622"),m=o("1dde"),y=o("ae40"),v=m("slice"),g=y("slice",{ACCESSORS:!0,0:0,1:2}),I=p("species"),E=[].slice,w=Math.max;a({target:"Array",proto:!0,forced:!v||!g},{slice:function(O,A){var b=f(this),x=h(b.length),L=u(O,x),F=u(A===void 0?x:A,x),k,D,tt;if(c(b)&&(k=b.constructor,typeof k=="function"&&(k===Array||c(k.prototype))?k=void 0:l(k)&&(k=k[I],k===null&&(k=void 0)),k===Array||k===void 0))return E.call(b,L,F);for(D=new(k===void 0?Array:k)(w(F-L,0)),tt=0;L<F;L++,tt++)L in b&&d(D,tt,b[L]);return D.length=tt,D}})},fc6a:function(i,s,o){var a=o("44ad"),l=o("1d80");i.exports=function(c){return a(l(c))}},fdbc:function(i,s){i.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(i,s,o){var a=o("4930");i.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(tI);var YN=tI.exports;const fI=uN(YN);function XN(e){const t=[];Ee();for(const n in e)if(e.hasOwnProperty(n)){const r={name:n,tasks:[]},i=e[n];for(const s in i)i.hasOwnProperty(s)&&r.tasks.push(i[s]);t.push(r)}Ee().arrTasks=t}function dI(e){let t=Ee();const n={};e.forEach(r=>{n[r.name]={},r.tasks.forEach(i=>{n[r.name][i.id]={...i}})}),t.tasks=n}const JN={name:"TasksBoard",components:{draggable:fI},props:{tasks:{type:Object}},data(){return{store:Ee()}},methods:{tasksDragEnd(e){let t=e.item.__draggable_context.element.id;dI(Ee().arrTasks),Ee().tasks;for(let n of Object.keys(Ee().tasks))Ee().tasks[n][t]&&(Ee().tasks[n][t].type=n);this.store.updateFirebase()},toggleDoneClass(e){this.store.toggleDone(e)}}},qN=e=>(ma("data-v-e3049cb1"),e=e(),va(),e),ZN={class:"header"},tM={class:"header__text"},eM={class:"board"},nM=["onClick"],rM={class:"task__btns"},iM=["onClick"],sM=qN(()=>nt("img",{class:"task__redact-img",alt:"pencil"},null,-1)),oM=[sM],aM=["onClick"],lM={class:"task__title"},cM={class:"task__description"},uM={class:"task__img"},hM=["src"],fM={class:"task__date"};function dM(e,t,n,r,i,s){const o=On("draggable");return ue(),Pe(we,null,[nt("div",ZN,[nt("span",tM,gn(n.tasks.name),1),nt("button",{class:"task__remove-btn header__btn",onClick:t[0]||(t[0]=a=>i.store.removeType(n.tasks.name))}," X ")]),nt("div",eM,[Gt(o,{modelValue:this.tasks.tasks,"onUpdate:modelValue":t[1]||(t[1]=a=>this.tasks.tasks=a),group:"tasks","item-key":"id",onEnd:s.tasksDragEnd,"ghost-class":"ghost"},{item:ya(({element:a})=>[nt("div",{class:zr(["task",{task__done:a.done}]),onClick:l=>s.toggleDoneClass(a),style:Ns({"border-left-color":i.store.priority[a.priority]})},[nt("div",rM,[nt("button",{class:"task__redact-btn",onClick:Wo(l=>i.store.showRedactForm(a),["stop"])},oM,8,iM),nt("button",{class:"task__remove-btn",onClick:l=>i.store.removeTask(a)}," X ",8,aM)]),nt("div",lM,gn(a.title),1),nt("div",cM,gn(a.description),1),nt("div",uM,[a.image?(ue(),Pe("img",{key:0,src:a.image,alt:"Uploaded Image"},null,8,hM)):Vr("",!0)]),nt("div",fM,"Date:"+gn(a.date),1)],14,nM)]),_:1},8,["modelValue","onEnd"])])],64)}const pI=qn(JN,[["render",dM],["__scopeId","data-v-e3049cb1"]]);const pM={components:{TasksBoard:pI,draggable:fI},name:"TasksColumn",mounted(){this.updateArrayTasks()},data(){return{store:Ee(),arrTasks:Ee().arrTasks}},computed:{tasks(){return Ee().tasks}},watch:{tasks:{handler:"updateArrayTasks",deep:!0}},methods:{updateArrayTasks(){XN(this.tasks),this.arrTasks=Ee().arrTasks},columnDragEnd(){Ee().arrTasks=this.arrTasks,dI(this.arrTasks)}}},gM={class:"board__columns"};function mM(e,t,n,r,i,s){const o=On("TasksBoard"),a=On("draggable");return ue(),Pe("div",null,[Gt(a,{class:"board",modelValue:i.arrTasks,"onUpdate:modelValue":t[0]||(t[0]=l=>i.arrTasks=l),group:"columns","item-key":"idx",onEnd:s.columnDragEnd,"ghost-class":"ghost"},{item:ya(({element:l})=>[nt("div",gM,[Gt(o,{tasks:l},null,8,["tasks"])])]),_:1},8,["modelValue","onEnd"])])}const vM=qn(pM,[["render",mM],["__scopeId","data-v-97a6f3dc"]]);const yM={data(){return{store:Ee(),route:WS()}},computed:{userName(){return this.store.userName}},methods:{async goToLoginPage(){await this.store.logout(),this.store.changeIsSignUpActive(),this.$router.push("/Kanban-board-with-Vue/login")}}},EM={class:"navbar"},_M={class:"navbar__btns"},TM={class:"navbar__login"},IM={class:"navbar__name"};function wM(e,t,n,r,i,s){return ue(),Pe("div",EM,[nt("div",_M,[nt("button",{class:zr(["navbar__btn",{active:i.route.path==="/Kanban-board-with-Vue/"}]),onClick:t[0]||(t[0]=o=>e.$router.push("/Kanban-board-with-Vue/"))}," Application ",2),nt("button",{class:zr(["navbar__btn",{active:i.route.path==="/Kanban-board-with-Vue/about"}]),onClick:t[1]||(t[1]=o=>e.$router.push("/Kanban-board-with-Vue/about"))}," About the developer ",2)]),nt("div",TM,[nt("div",IM,gn(s.userName),1),nt("button",{class:"navbar__btn",onClick:t[2]||(t[2]=(...o)=>s.goToLoginPage&&s.goToLoginPage(...o))}," Log out ")])])}const gI=qn(yM,[["render",wM],["__scopeId","data-v-7b5c5949"]]);const bM={name:"MainPage",components:{Initial:tN,TasksBoard:pI,OverlayForm:lN,TasksColumn:vM,NavBar:gI,Spinner:qS},data(){return{store:Ee()}},mounted(){this.store.getTasks()},computed:{isActive(){return Ee().isActive},isLoaderActive(){return Ee().isLoaderActive}}},SM={class:"main-page"},AM=nt("h1",{class:"main-page__title"},"Kanban board",-1),RM={key:1},PM={key:0},CM={class:"buttons"},xM={class:"buttons__add"},OM={class:"buttons__sort"};function DM(e,t,n,r,i,s){const o=On("nav-bar"),a=On("Spinner"),l=On("OverlayForm"),c=On("TasksColumn"),u=On("Initial");return ue(),Pe(we,null,[Gt(o),nt("div",SM,[AM,s.isLoaderActive?(ue(),vs(a,{key:0})):(ue(),Pe("div",RM,[Gt(l,{isActive:s.isActive,"onUpdate:isActive":t[0]||(t[0]=h=>s.isActive=h)},null,8,["isActive"]),Object.keys(i.store.tasks).length>0?(ue(),Pe("div",PM,[nt("div",CM,[nt("div",xM,[nt("button",{class:"buttons__btn btn",onClick:t[1]||(t[1]=h=>i.store.showForm())}," Add new task ")]),nt("div",OM,[nt("button",{class:"buttons__btn btn",onClick:t[2]||(t[2]=h=>i.store.sortByDate())}," Sort by date "),nt("button",{class:"buttons__btn btn",onClick:t[3]||(t[3]=h=>i.store.sortByPriority())}," Sort by priority ")])]),Gt(c,{class:"columns"})])):(ue(),vs(u,{key:1}))]))])],64)}const NM=qn(bM,[["render",DM]]);const MM={name:"About",components:{NavBar:gI}},kM=e=>(ma("data-v-eee3a4c8"),e=e(),va(),e),VM=kM(()=>nt("div",{class:"about"},[nt("h1",{class:"about__title"},"About the Developer"),nt("div",{class:"about__text"},[nt("h3",null," Hello! "),nt("p",null," My name is Vitalii, and I am a passionate developer with expertise in Vue.js. I love creating innovative solutions and exploring new technologies to build amazing applications. I am constantly learning and staying up to date with the latest industry trends and best practices. In addition to my technical skills, I value collaboration and teamwork. I believe in effective communication and enjoy working with diverse teams to deliver high-quality results. I am always seeking new opportunities to grow both personally and professionally. "),nt("p",null," Thank you for visiting my page! If you have any questions or would like to connect, please feel free to reach out to me. ")])],-1));function LM(e,t,n,r,i,s){const o=On("nav-bar");return ue(),Pe(we,null,[Gt(o),VM],64)}const FM=qn(MM,[["render",LM],["__scopeId","data-v-eee3a4c8"]]);const UM={data(){return{store:Ee(),email:"",password:"",passwordConfirmation:"",name:"",passwordInvalidText:!1,loginInvalidText:!1}},computed:{isSignUpActive(){return this.store.isSignUpActive}},methods:{async getLoginData(){const e={email:this.email,password:this.password};try{await this.store.login(e),this.$router.push("/Kanban-board-with-Vue/"),this.loginInvalidText=!1}catch{this.loginInvalidText=!0}},async getSignInData(){if(this.passwordConfirmation===this.password){const e={email:this.email,password:this.password,name:this.name};try{await this.store.register(e),this.$router.push("/Kanban-board-with-Vue/")}catch{this.loginInvalidText=!0}}else this.passwordInvalidText=!0},changeInputType(e){const t=document.getElementById(e);t.type==="password"?t.type="text":t.type="password"},changeForm(){this.store.changeIsSignUpActive(),this.email="",this.password="",this.passwordConfirmation="",this.name="",this.passwordInvalidText=!1,this.loginInvalidText=!1}}},mI=e=>(ma("data-v-5e98374e"),e=e(),va(),e),jM={class:"login"},BM={class:"login-container"},$M=mI(()=>nt("div",{class:"login-container__text"},"Welcome to",-1)),HM=mI(()=>nt("h2",{class:"login-container__title"},"Kanban Board",-1)),KM={class:"password-container"},WM={key:1,class:"password-container"},GM={key:0,class:"password-container__invalid"},zM={class:"login-form__btn",type:"subbmit"},QM={key:2,class:"login-form__invalid"},YM={class:"login-signUp"},XM={class:"login-signUp__text"};function JM(e,t,n,r,i,s){return ue(),Pe("div",jM,[nt("div",BM,[$M,HM,nt("form",{onSubmit:t[9]||(t[9]=Wo(o=>s.isSignUpActive?s.getSignInData():s.getLoginData(),["prevent"])),class:"login-form",method:"get"},[s.isSignUpActive?rr((ue(),Pe("input",{key:0,class:"login-form__input",placeholder:"Name",required:"","onUpdate:modelValue":t[0]||(t[0]=o=>i.name=o),type:"text"},null,512)),[[Nn,i.name]]):Vr("",!0),rr(nt("input",{class:"login-form__input",placeholder:"Email",required:"","onUpdate:modelValue":t[1]||(t[1]=o=>i.email=o),type:"email",onFocus:t[2]||(t[2]=o=>i.loginInvalidText=!1)},null,544),[[Nn,i.email]]),nt("div",KM,[rr(nt("input",{id:"password",class:"login-form__input",type:"password",placeholder:"Password",required:"",onFocus:t[3]||(t[3]=o=>i.loginInvalidText=!1),"onUpdate:modelValue":t[4]||(t[4]=o=>i.password=o)},null,544),[[Nn,i.password]]),nt("img",{onClick:t[5]||(t[5]=o=>s.changeInputType("password")),class:"password-container__img",alt:"Show"})]),s.isSignUpActive?(ue(),Pe("div",WM,[rr(nt("input",{onFocus:t[6]||(t[6]=o=>(i.loginInvalidText=!1,i.passwordInvalidText=!1)),id:"confirm",class:"login-form__input",type:"password",placeholder:"Confirm password",required:"","onUpdate:modelValue":t[7]||(t[7]=o=>i.passwordConfirmation=o)},null,544),[[Nn,i.passwordConfirmation]]),i.passwordInvalidText?(ue(),Pe("span",GM,"Passwords do not match.")):Vr("",!0),nt("img",{onClick:t[8]||(t[8]=o=>s.changeInputType("confirm")),class:"password-container__img",alt:"Show"})])):Vr("",!0),nt("button",zM,gn(s.isSignUpActive?"Create Account":"LOGIN"),1),i.loginInvalidText?(ue(),Pe("span",QM,gn(s.isSignUpActive?"Please check your email and password (min 6 characters)":"Invalid email or password"),1)):Vr("",!0)],32),nt("div",YM,[nt("span",XM,[wa(gn(s.isSignUpActive?"Already have an account?":"Don`t have an account?")+" ",1),nt("a",{onClick:t[10]||(t[10]=(...o)=>s.changeForm&&s.changeForm(...o)),href:"#",class:"login-signUp__link"},gn(s.isSignUpActive?"Log in":"Sign Up"),1)])])])])}const qM=qn(UM,[["render",JM],["__scopeId","data-v-5e98374e"]]),ZM=[{name:"Main",path:"/Kanban-board-with-Vue/",component:NM},{name:"About",path:"/Kanban-board-with-Vue/about",component:FM},{name:"Login",path:"/Kanban-board-with-Vue/login",component:qM}],tk=HS({history:sS(),routes:ZM});var ek="firebase",nk="10.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr(ek,nk,"app");const rk=tA(),ik={apiKey:'"AIzaSyA4YAMHsUVHkj_Vqp3sLgJyUiSUDZbeukw"',authDomain:'"kanban-board-b8e32.firebaseapp.com"',projectId:'"kanban-board-b8e32"',storageBucket:'"kanban-board-b8e32.appspot.com"',messagingSenderId:'"166389514092"',appId:'"1:166389514092:web:9f2d5ab2bc567725f23d49"',measurementId:{}.VITE_FIREBASE_Measurement_ID};let Xm;const vI=tE(ik),El=ND(vI);io(vI).onAuthStateChanged(()=>{Xm||(Xm=xy(Bb).use(tk).use(rk).mount("#app"))});
